{"version":3,"file":"public/js/app.js","sources":["app/actions/account_action_creator.coffee","app/actions/contact_action_creator.coffee","app/actions/conversation_action_creator.coffee","app/actions/layout_action_creator.coffee","app/actions/message_action_creator.coffee","app/actions/search_action_creator.coffee","app/actions/settings_action_creator.coffee","app/app_dispatcher.coffee","app/components/account-config.coffee","app/components/account_picker.coffee","app/components/alert.coffee","app/components/application.coffee","app/components/compose.coffee","app/components/contact-form.coffee","app/components/conversation.coffee","app/components/file_picker.coffee","app/components/mailbox-list.coffee","app/components/mails_input.coffee","app/components/menu.coffee","app/components/message-list.coffee","app/components/message.coffee","app/components/modal.coffee","app/components/participant.coffee","app/components/search-form.coffee","app/components/settings.coffee","app/components/thin_progress.coffee","app/components/toast.coffee","app/components/toolbox_actions.coffee","app/components/toolbox_move.coffee","app/components/topbar.coffee","app/constants/app_constants.coffee","app/initialize.coffee","app/libs/flux/dispatcher/dispatcher.coffee","app/libs/flux/invariant.js","app/libs/flux/store/store.coffee","app/libs/panel_router.coffee","app/locales/en.coffee","app/locales/fr.coffee","app/mixins/router_mixin.coffee","app/mixins/store_watch_mixin.coffee","app/router.coffee","app/stores/account_store.coffee","app/stores/contact_store.coffee","app/stores/layout_store.coffee","app/stores/message_store.coffee","app/stores/refreshes_store.coffee","app/stores/search_store.coffee","app/stores/settings_store.coffee","app/utils/activity_utils.coffee","app/utils/api_utils.coffee","app/utils/message_utils.coffee","app/utils/plugin_utils.coffee","app/utils/socketio_utils.coffee","app/utils/translators/account_translator.coffee","app/utils/xhr_utils.coffee"],"names":[],"mappings":"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","sourcesContent":["XHRUtils = require '../utils/xhr_utils'\nAppDispatcher = require '../app_dispatcher'\n{ActionTypes} = require '../constants/app_constants'\n\nAccountStore = require '../stores/account_store'\nLayoutActionCreator = null\n\nmodule.exports = AccountActionCreator =\n\n    create: (inputValues, afterCreation) ->\n        AccountActionCreator._setNewAccountWaitingStatus true\n\n        XHRUtils.createAccount inputValues, (error, account) ->\n            if error? or not account?\n                AccountActionCreator._setNewAccountError error\n            else\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.ADD_ACCOUNT\n                    value: account\n\n                afterCreation(AccountStore.getByID account.id)\n\n\n    edit: (inputValues, accountID) ->\n        AccountActionCreator._setNewAccountWaitingStatus true\n\n        account = AccountStore.getByID accountID\n        newAccount = account.mergeDeep inputValues\n\n        XHRUtils.editAccount newAccount, (error, rawAccount) ->\n            if error?\n                AccountActionCreator._setNewAccountError error\n            else\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.EDIT_ACCOUNT\n                    value: rawAccount\n                LayoutActionCreator = require '../actions/layout_action_creator'\n                LayoutActionCreator.notify t('account updated'), autoclose: true\n\n    check: (inputValues, accountID) ->\n        account = AccountStore.getByID accountID\n        newAccount = account.mergeDeep inputValues\n\n        XHRUtils.checkAccount newAccount, (error, rawAccount) ->\n            if error?\n                AccountActionCreator._setNewAccountError error\n            else\n                LayoutActionCreator = require '../actions/layout_action_creator'\n                LayoutActionCreator.notify t('account checked'), autoclose: true\n\n    remove: (accountID) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.REMOVE_ACCOUNT\n            value: accountID\n        XHRUtils.removeAccount accountID\n        window.router.navigate '', true\n\n    _setNewAccountWaitingStatus: (status) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.NEW_ACCOUNT_WAITING\n            value: status\n\n    _setNewAccountError: (errorMessage) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.NEW_ACCOUNT_ERROR\n            value: errorMessage\n\n    selectAccount: (accountID, mailboxID) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.SELECT_ACCOUNT\n            value:\n                accountID: accountID\n                mailboxID: mailboxID\n\n    discover: (domain, callback) ->\n        XHRUtils.accountDiscover domain, (err, infos) ->\n            if not infos?\n                infos = []\n            callback err, infos\n\n    mailboxCreate: (inputValues, callback) ->\n        XHRUtils.mailboxCreate inputValues, (error, account) ->\n            if not error?\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.MAILBOX_CREATE\n                    value: account\n            if callback?\n                callback error\n\n    mailboxUpdate: (inputValues, callback) ->\n        XHRUtils.mailboxUpdate inputValues, (error, account) ->\n            if not error?\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.MAILBOX_UPDATE\n                    value: account\n            if callback?\n                callback error\n\n\n    mailboxDelete: (inputValues, callback) ->\n        XHRUtils.mailboxDelete inputValues, (error, account) ->\n            if not error?\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.MAILBOX_DELETE\n                    value: account\n            if callback?\n                callback error\n","AppDispatcher = require '../app_dispatcher'\n{ActionTypes} = require '../constants/app_constants'\nActivity      = require '../utils/activity_utils'\nLayoutActionCreator = require '../actions/layout_action_creator'\n\nmodule.exports = ContactActionCreator =\n\n    searchContact: (query) ->\n        options =\n            name: 'search'\n            data:\n                type: 'contact'\n                query: query\n\n        activity = new Activity options\n        activity.onsuccess = ->\n            AppDispatcher.handleViewAction\n                type: ActionTypes.RECEIVE_RAW_CONTACT_RESULTS\n                value: @result\n        activity.onerror = ->\n            console.log \"KO\", @error, @name\n\n    searchContactLocal: (query) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.CONTACT_LOCAL_SEARCH\n            value: query\n\n    createContact: (contact) ->\n        options =\n            name: 'create'\n            data:\n                type: 'contact'\n                contact: contact\n\n        activity = new Activity options\n        activity.onsuccess = ->\n            AppDispatcher.handleViewAction\n                type: ActionTypes.RECEIVE_RAW_CONTACT_RESULTS\n                value: @result\n            msg = t('contact create success', {contact: contact.name or contact.address})\n            LayoutActionCreator.notify msg, autoclose: true\n        activity.onerror = ->\n            msg = t('contact create error', {error: @name})\n            LayoutActionCreator.notify msg, autoclose: true\n\n","AppDispatcher  = require '../app_dispatcher'\n{ActionTypes}  = require '../constants/app_constants'\nXHRUtils       = require '../utils/xhr_utils'\n{MessageFlags} = require '../constants/app_constants'\n\nmodule.exports =\n\n    delete: (conversationId, callback) ->\n        XHRUtils.conversationDelete conversationId, (error, messages) ->\n            if not error?\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.RECEIVE_RAW_MESSAGES\n                    value: messages\n            if callback?\n                callback error\n\n    move: (conversationId, to, callback) ->\n        conversation =\n            mailboxIDs: []\n        observer = jsonpatch.observe conversation\n        conversation.mailboxIDs.push to\n        patches = jsonpatch.generate observer\n        XHRUtils.conversationPatch conversationId, patches, (error, messages) ->\n            if not error?\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.RECEIVE_RAW_MESSAGES\n                    value: messages\n            if callback?\n                callback error\n\n    seen: (conversationId, flags, callback) ->\n        conversation =\n            flags: []\n        observer = jsonpatch.observe conversation\n        conversation.flags.push(MessageFlags.SEEN)\n        patches = jsonpatch.generate observer\n        XHRUtils.conversationPatch conversationId, patches, (error, messages) ->\n            if not error?\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.RECEIVE_RAW_MESSAGES\n                    value: messages\n            if callback?\n                callback error\n\n    unseen: (conversationId, flags, callback) ->\n        conversation =\n            flags: [MessageFlags.SEEN]\n        observer = jsonpatch.observe conversation\n        conversation.flags = []\n        patches = jsonpatch.generate observer\n        XHRUtils.conversationPatch conversationId, patches, (error, messages) ->\n            if not error?\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.RECEIVE_RAW_MESSAGES\n                    value: messages\n            if callback?\n                callback error\n","XHRUtils = require '../utils/xhr_utils'\nSocketUtils = require '../utils/socketio_utils'\n\nAccountStore  = require '../stores/account_store'\nLayoutStore   = require '../stores/layout_store'\nMessageStore  = require '../stores/message_store'\n\nAppDispatcher = require '../app_dispatcher'\n\n{ActionTypes, AlertLevel} = require '../constants/app_constants'\n\nAccountActionCreator = require './account_action_creator'\nMessageActionCreator = require './message_action_creator'\nSearchActionCreator = require './search_action_creator'\n\n_cachedQuery = {}\n_cachedDisposition = null\n\nmodule.exports = LayoutActionCreator =\n\n    setDisposition: (type, value) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.SET_DISPOSITION\n            value:\n                type: type\n                value: value\n\n    toggleFullscreen: ->\n        if _cachedDisposition?\n            AppDispatcher.handleViewAction\n                type: ActionTypes.SET_DISPOSITION\n                value:\n                    disposition: _cachedDisposition\n            _cachedDisposition = null\n        else\n            _cachedDisposition = _.clone LayoutStore.getDisposition()\n            AppDispatcher.handleViewAction\n                type: ActionTypes.SET_DISPOSITION\n                value:\n                    type: _cachedDisposition.type\n                    value: 0\n\n    alert: (level, message) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.DISPLAY_ALERT\n            value:\n                level: level\n                message: message\n\n    alertHide: (level, message) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.HIDE_ALERT\n\n    refresh: ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.REFRESH\n            value: null\n\n    alertSuccess: (message) ->\n        LayoutActionCreator.alert AlertLevel.SUCCESS, message\n    alertInfo:    (message) ->\n        LayoutActionCreator.alert AlertLevel.INFO, message\n    alertWarning: (message) ->\n        LayoutActionCreator.alert AlertLevel.WARNING, message\n    alertError:   (message) ->\n        LayoutActionCreator.alert AlertLevel.ERROR, message\n    notify: (message, options) ->\n        task =\n            id: Date.now()\n            finished: true\n            message: message\n        if options?\n            task.autoclose = options.autoclose\n            task.errors    = options.errors\n            task.finished  = options.finished\n            task.actions   = options.actions\n        AppDispatcher.handleViewAction\n            type: ActionTypes.RECEIVE_TASK_UPDATE\n            value: task\n\n    clearToasts: ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.CLEAR_TOASTS\n            value: null\n\n    filterMessages: (filter) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.LIST_FILTER\n            value: filter\n\n    quickFilterMessages: (filter) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.LIST_QUICK_FILTER\n            value: filter\n\n    sortMessages: (sort) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.LIST_SORT\n            value: sort\n\n    getDefaultRoute: ->\n        # if there is no account, we display the configAccount\n        if AccountStore.getAll().length is 0 then 'account.new'\n        # else go directly to first account\n        else 'account.mailbox.messages'\n\n    showMessageList: (panelInfo) ->\n        {accountID, mailboxID} = panelInfo.parameters\n        selectedAccount = AccountStore.getSelected()\n        selectedMailbox = AccountStore.getSelectedMailbox()\n        if not selectedAccount? or\n        selectedAccount.get('id') isnt accountID or\n        selectedMailbox.get('id') isnt mailboxID\n            AccountActionCreator.selectAccount accountID, mailboxID\n\n        cached = _cachedQuery.mailboxID is mailboxID\n        query = {}\n        ['sort', 'after', 'before', 'flag', 'pageAfter'].forEach (param) ->\n            value = panelInfo.parameters[param]\n            if value? and value isnt ''\n                query[param] = value\n                if _cachedQuery[param] isnt value\n                    _cachedQuery[param] = value\n                    cached = false\n        _cachedQuery.mailboxID = mailboxID\n\n        if not cached\n            MessageActionCreator.setFetching true\n            XHRUtils.fetchMessagesByFolder mailboxID, query, (err, rawMessages) ->\n                MessageActionCreator.setFetching false\n                if err?\n                    LayoutActionCreator.alertError err\n                else\n                    MessageActionCreator.receiveRawMessages rawMessages\n\n    showMessage: (panelInfo, direction) ->\n        onMessage = (msg) ->\n            # if there isn't a selected account (page loaded directly),\n            # select the message's account\n            selectedAccount = AccountStore.getSelected()\n            if  not selectedAccount? and msg?.accountID\n                AccountActionCreator.selectAccount msg.accountID\n        messageID = panelInfo.parameters.messageID\n        message = MessageStore.getByID messageID\n        if message?\n            onMessage message\n        else\n            XHRUtils.fetchMessage messageID, (err, rawMessage) ->\n\n                if err?\n                    LayoutActionCreator.alertError err\n                else\n                    MessageActionCreator.receiveRawMessage rawMessage\n                    onMessage rawMessage\n\n    showConversation: (panelInfo, direction) ->\n        onMessage = (msg) ->\n            # if there isn't a selected account (page loaded directly),\n            # select the message's account\n            selectedAccount = AccountStore.getSelected()\n            if  not selectedAccount? and msg?.accountID\n                AccountActionCreator.selectAccount msg.accountID\n        messageID      = panelInfo.parameters.messageID\n        message        = MessageStore.getByID messageID\n        if message?\n            onMessage message\n            conversationID = message.get 'conversationID'\n            XHRUtils.fetchConversation conversationID, (err, rawMessages) ->\n\n                if err?\n                    LayoutActionCreator.alertError err\n                else\n                    MessageActionCreator.receiveRawMessages rawMessages\n                    onMessage rawMessages[0]\n        else\n            XHRUtils.fetchMessage messageID, (err, rawMessage) ->\n\n                if err?\n                    LayoutActionCreator.alertError err\n                else\n                    MessageActionCreator.receiveRawMessage rawMessage\n                    onMessage rawMessage\n\n\n    showComposeNewMessage: (panelInfo, direction) ->\n        # if there isn't a selected account (page loaded directly),\n        # select the default account\n        selectedAccount = AccountStore.getSelected()\n        if not selectedAccount?\n            defaultAccount = AccountStore.getDefault()\n            AccountActionCreator.selectAccount defaultAccount.get 'id'\n\n    # Edit draft\n    showComposeMessage: (panelInfo, direction) ->\n        # if there isn't a selected account (page loaded directly),\n        # select the default account\n        selectedAccount = AccountStore.getSelected()\n        if not selectedAccount?\n            defaultAccount = AccountStore.getDefault()\n            AccountActionCreator.selectAccount defaultAccount.get 'id'\n\n    showCreateAccount: (panelInfo, direction) ->\n        AccountActionCreator.selectAccount null\n\n    showConfigAccount: (panelInfo, direction) ->\n        AccountActionCreator.selectAccount panelInfo.parameters.accountID\n\n    showSearch: (panelInfo, direction) ->\n        AccountActionCreator.selectAccount null\n\n        {query, page} = panelInfo.parameters\n\n        SearchActionCreator.setQuery query\n\n        XHRUtils.search query, page, (err, results) ->\n            if err?\n                console.log err\n            else\n                SearchActionCreator.receiveRawSearchResults results\n\n    showSettings: (panelInfo, direction) ->\n\n\n    refreshMessages: ->\n        XHRUtils.refresh true, (err, results) ->\n            if err?\n                console.log err\n                LayoutActionCreator.notify t('account refresh error'),\n                    autoclose: false\n                    finished: true\n                    errors: [ JSON.stringify err ]\n            else\n                if results is \"done\"\n                    MessageActionCreator.receiveRawMessages null\n                    LayoutActionCreator.notify t('account refreshed'),\n                        autoclose: true\n\n    toastsShow: ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.TOASTS_SHOW\n\n    toastsHide: ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.TOASTS_HIDE\n\n","AppDispatcher = require '../app_dispatcher'\n{ActionTypes} = require '../constants/app_constants'\nXHRUtils      = require '../utils/xhr_utils'\nAccountStore  = require \"../stores/account_store\"\nMessageStore  = require '../stores/message_store'\n\nmodule.exports =\n\n    receiveRawMessages: (messages) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.RECEIVE_RAW_MESSAGES\n            value: messages\n\n    receiveRawMessage: (message) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.RECEIVE_RAW_MESSAGE\n            value: message\n\n    setFetching: (fetching) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.SET_FETCHING\n            value: fetching\n\n    send: (message, callback) ->\n        XHRUtils.messageSend message, (error, message) ->\n            if not error?\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.MESSAGE_SEND\n                    value: message\n            if callback?\n                callback error, message\n\n    delete: (message, callback) ->\n        LayoutActionCreator = require './layout_action_creator'\n        doDelete = (message) ->\n            if typeof message is \"string\"\n                message = MessageStore.getByID message\n            # Move message to Trash folder\n            account = AccountStore.getByID(message.get 'accountID')\n            if not account?\n                console.log \"No account with id #{message.get 'accountID'} for message #{message.get 'id'}\"\n                LayoutActionCreator.alertError t 'app error'\n                return\n            trash = account.get 'trashMailbox'\n            if not trash? or trash is ''\n                LayoutActionCreator.alertError t 'message delete no trash'\n            else\n                msg = message.toJSON()\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.MESSAGE_ACTION\n                    value:\n                        id: message.get 'id'\n                        from: Object.keys(msg.mailboxIDs)\n                        to: trash\n                observer = jsonpatch.observe msg\n                delete msg.mailboxIDs[id] for id of msg.mailboxIDs\n                msg.mailboxIDs[trash] = -1\n                patches = jsonpatch.generate observer\n                XHRUtils.messagePatch message.get('id'), patches, (err, message) =>\n                    if not err?\n                        AppDispatcher.handleViewAction\n                            type: ActionTypes.MESSAGE_DELETE\n                            value: msg\n                    else\n                        LayoutActionCreator.alertError \"#{t(\"message action delete ko\")} #{err}\"\n                    if not mass\n                        options =\n                            autoclose: true,\n                            actions: [\n                                label: t 'message undelete'\n                                onClick: => @undelete()\n                            ]\n                        LayoutActionCreator.notify t('message action delete ok', subject: msg.subject), options\n                        if callback?\n                            callback err\n        if Array.isArray message\n            mass = true\n            message.forEach doDelete\n            if callback?\n                callback()\n        else\n            mass = false\n            doDelete message\n\n    move: (message, from, to, callback) ->\n        if typeof message is \"string\"\n            message = MessageStore.getByID message\n        msg = message.toJSON()\n        AppDispatcher.handleViewAction\n            type: ActionTypes.MESSAGE_ACTION\n            value:\n                id: message.get 'id'\n                from: from\n                to: to\n        observer = jsonpatch.observe msg\n        delete msg.mailboxIDs[from]\n        msg.mailboxIDs[to] = -1\n        patches = jsonpatch.generate observer\n        XHRUtils.messagePatch message.get('id'), patches, (error, message) ->\n            if not error?\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.RECEIVE_RAW_MESSAGE\n                    value: msg\n            if callback?\n                callback error\n\n    undelete: ->\n        LayoutActionCreator = require './layout_action_creator'\n        action = MessageStore.getPrevAction()\n        if action?\n            message = MessageStore.getByID action.id\n            @move message, action.to, action.from, (err) ->\n                if not err?\n                    LayoutActionCreator.notify t('message undelete ok')\n        else\n            LayoutActionCreator.alertError t 'message undelete error'\n\n    updateFlag: (message, flags, callback) ->\n        msg = message.toJSON()\n        patches = jsonpatch.compare {flags: msg.flags}, {flags}\n        XHRUtils.messagePatch message.get('id'), patches, (error, messageUpdated) ->\n            if not error?\n                if not _.isEqual(flags, messageUpdated.flags)\n                    AppDispatcher.handleViewAction\n                        type: ActionTypes.RECEIVE_RAW_MESSAGE\n                        value: messageUpdated\n            if callback?\n                callback error\n\n        # dont wait for server response to display update\n        setTimeout ->\n            messageUpdated = message.toJS()\n            messageUpdated.flags = flags\n            AppDispatcher.handleViewAction\n                type: ActionTypes.RECEIVE_RAW_MESSAGE\n                value: messageUpdated\n        , 0\n\n    setCurrent: (messageID) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.MESSAGE_CURRENT\n            value: messageID\n","AppDispatcher = require '../app_dispatcher'\n{ActionTypes} = require '../constants/app_constants'\n\nmodule.exports = SearchActionCreator =\n\n    setQuery: (query) ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.SET_SEARCH_QUERY\n            value: query\n\n    receiveRawSearchResults: (results) ->\n\n        # first clear the previous results\n        SearchActionCreator.clearSearch false\n\n        AppDispatcher.handleViewAction\n            type: ActionTypes.RECEIVE_RAW_SEARCH_RESULTS\n            value: results\n\n    clearSearch: (clearQuery = true) ->\n        if clearQuery then SearchActionCreator.setQuery \"\"\n\n        AppDispatcher.handleViewAction\n            type: ActionTypes.CLEAR_SEARCH_RESULTS\n            value: null\n\n","XHRUtils = require '../utils/xhr_utils'\nAppDispatcher = require '../app_dispatcher'\n{ActionTypes} = require '../constants/app_constants'\n\nSettingsStore = require '../stores/settings_store'\nLayoutActionCreator = require './layout_action_creator'\n\nmodule.exports = SettingsActionCreator =\n\n    edit: (inputValues) ->\n        XHRUtils.changeSettings inputValues, (err, values) ->\n            if err\n                LayoutActionCreator.alertError t('settings save error') + err\n\n            else\n                AppDispatcher.handleViewAction\n                    type: ActionTypes.SETTINGS_UPDATED\n                    value: values\n\n","Dispatcher = require './libs/flux/dispatcher/dispatcher'\n{PayloadSources} = require './constants/app_constants'\n\n###\n    Custom dispatcher class to add semantic method.\n###\nclass AppDispatcher extends Dispatcher\n\n    handleViewAction: (action) ->\n        payload =\n            source: PayloadSources.VIEW_ACTION\n            action: action\n\n        @dispatch payload\n\n        # create and dispatch a DOM event for plugins\n        window.cozyMails.customEvent PayloadSources.VIEW_ACTION, action\n\n    handleServerAction: (action) ->\n        payload =\n            source: PayloadSources.SERVER_ACTION\n            action: action\n\n        @dispatch payload\n\n        # create and dispatch a DOM event for plugins\n        window.cozyMails.customEvent PayloadSources.SERVER_ACTION, action\n\n\nmodule.exports = new AppDispatcher()\n","{div, p, h3, h4, form, label, input, button, ul, li, a, span, i,\nfieldset, legend} =\n    React.DOM\nclasser = React.addons.classSet\n\nMailboxList          = require './mailbox-list'\nAccountActionCreator = require '../actions/account_action_creator'\nRouterMixin = require '../mixins/router_mixin'\nLAC  = require '../actions/layout_action_creator'\nclasser = React.addons.classSet\n\nmodule.exports = React.createClass\n    displayName: 'AccountConfig'\n\n    _lastDiscovered: ''\n\n    mixins: [\n        RouterMixin\n        React.addons.LinkedStateMixin # two-way data binding\n    ]\n\n    _accountFields: [\n        'id', 'label', 'name', 'login', 'password',\n        'imapServer', 'imapPort', 'imapSSL', 'imapTLS',\n        'smtpServer', 'smtpPort', 'smtpSSL', 'smtpTLS',\n        'accountType'\n    ]\n    _mailboxesFields: [\n        'id', 'mailboxes', 'favoriteMailboxes',\n        'draftMailbox', 'sentMailbox', 'trashMailbox'\n    ]\n    _accountSchema:\n        properties:\n            'label':\n                allowEmpty: false\n                #type: 'string'\n            'name':\n                allowEmpty: false\n                #type: 'string'\n            'login':\n                allowEmpty: false\n                #type: 'string'\n            'password':\n                allowEmpty: false\n                #type: 'string'\n            'imapServer':\n                allowEmpty: false\n                #type: 'string'\n            'imapPort':\n                allowEmpty: false\n                #type: 'integer'\n            'imapSSL':\n                allowEmpty: true\n                #type: 'boolean'\n            'imapTLS':\n                allowEmpty: true\n                #type: 'boolean'\n            'smtpServer':\n                allowEmpty: false\n                #type: 'string'\n            'smtpPort':\n                allowEmpty: false\n                #type: 'integer'\n            'smtpSSL':\n                allowEmpty: true\n                #type: 'boolean'\n            'smtpTLS':\n                allowEmpty: true\n                #type: 'boolean'\n            'draftMailbox':\n                allowEmpty: true\n                #type: 'string'\n            'sentMailbox':\n                allowEmpty: true\n                #type: 'string'\n            'trashMailbox':\n                allowEmpty: true\n                #type: 'string'\n            'accountType':\n                allowEmpty: true\n                #type: 'string'\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    render: ->\n        if @state.id\n            titleLabel = t \"account edit\"\n        else\n            titleLabel = t \"account new\"\n\n        tabAccountClass = tabMailboxClass = ''\n        tabAccountUrl = tabMailboxUrl = null\n\n        if not @props.tab or @props.tab is 'account'\n            tabAccountClass = 'active'\n            tabMailboxUrl = @buildUrl\n                direction: 'first'\n                action: 'account.config'\n                parameters: [@state.id, 'mailboxes']\n\n        else\n            tabMailboxClass = 'active'\n            tabAccountUrl = @buildUrl\n                direction: 'first'\n                action: 'account.config'\n                parameters: [@state.id, 'account']\n\n        mainOptions =\n            isWaiting: @props.isWaiting\n            selectedAccount: @props.selectedAccount\n            validateForm: @validateForm\n            onSubmit: @onSubmit\n            errors: @state.errors\n        for field in @_accountFields\n            mainOptions[field] = @linkState(field)\n\n        mailboxesOptions =\n            error: @props.error\n            errors: @state.errors\n            onSubmit: @onSubmit\n        for field in @_mailboxesFields\n            mailboxesOptions[field] = @linkState(field)\n\n        div id: 'mailbox-config', key: 'account-config-' + @props.selectedAccount?.get('id'),\n            h3 className: null, titleLabel\n\n            if @props.tab?\n                ul className: \"nav nav-tabs\", role: \"tablist\",\n                    li className: tabAccountClass,\n                        a\n                            href: tabAccountUrl\n                            t \"account tab account\"\n                    li className: tabMailboxClass,\n                        a\n                            href: tabMailboxUrl\n                            t \"account tab mailboxes\"\n\n            if not @props.tab or @props.tab is 'account'\n                AccountConfigMain mainOptions\n            else\n                AccountConfigMailboxes mailboxesOptions\n\n    _afterMount: ->\n        # On error, scroll to message\n        node = document.querySelector(\"#mailbox-config .alert\")\n        if node?\n            node.scrollIntoView()\n\n    componentDidMount: ->\n        @_afterMount()\n\n    componentDidUpdate: ->\n        @_afterMount()\n\n    doValidate: ->\n        accountValue = {}\n        init = (field) =>\n            accountValue[field] = @state[field]\n        init field for field in @_accountFields\n        init field for field in @_mailboxesFields\n\n        validOptions =\n            additionalProperties: true\n\n        valid = validate accountValue, @_accountSchema, validOptions\n\n        return {accountValue, valid}\n\n    validateForm: (event) ->\n        if event?\n            event.preventDefault()\n        # If form contains errors, re-validate it every time the user updates\n        # a field\n        if Object.keys(@state.errors).length isnt 0\n            {accountValue, valid} = @doValidate()\n            if valid.valid\n                @setState errors: {}\n            else\n                errors = {}\n                setError = (error) ->\n                    errors[error.property] = t \"validate #{error.message}\"\n                setError error for error in valid.errors\n                @setState errors: errors\n\n    onSubmit: (event, check) ->\n        if event?\n            # prevents the page from reloading\n            event.preventDefault()\n\n        {accountValue, valid} = @doValidate()\n\n        if valid.valid\n            if @state.id?\n                if check is true\n                    AccountActionCreator.check accountValue, @state.id\n                else\n                    AccountActionCreator.edit accountValue, @state.id\n            else\n                AccountActionCreator.create accountValue, (account) =>\n                    LAC.notify t \"account creation ok\"\n                    @redirect\n                        direction: 'first'\n                        action: 'account.config'\n                        parameters: [\n                            account.get 'id'\n                            'mailboxes'\n                        ]\n                        fullWidth: true\n        else\n            errors = {}\n            setError = (error) ->\n                errors[error.property] = t \"validate #{error.message}\"\n            setError error for error in valid.errors\n            @setState errors: errors\n\n    componentWillReceiveProps: (props) ->\n        # prevents the form from changing during submission\n        if props.selectedAccount? and not props.isWaiting\n            @setState @_accountToState props\n\n        else\n            if props.error?\n                if props.error.name is 'AccountConfigError'\n                    errors = {}\n                    field = props.error.field\n                    if field is 'auth'\n                        errors['login']    = t 'config error auth'\n                        errors['password'] = t 'config error auth'\n                    else\n                        errors[field] = t 'config error ' + field\n                    @setState errors: errors\n            else\n                if not props.isWaiting\n                    @setState @_accountToState null\n\n    getInitialState: ->\n        return @_accountToState null\n\n    _accountToState: (props)->\n        state =\n            errors: {}\n        if props?\n            account = props.selectedAccount\n            if props.error?\n                if props.error.name is 'AccountConfigError'\n                    field = props.error.field\n                    if field is 'auth'\n                        state.errors['login']    = t 'config error auth'\n                        state.errors['password'] = t 'config error auth'\n                    else\n                        state.errors[field] = t 'config error ' + field\n        if account?\n            if @state.id isnt account.get('id')\n                for field in @_accountFields\n                    state[field] = account.get field\n            for field in @_mailboxesFields\n                state[field] = account.get field\n            state.newMailboxParent = null\n            state.mailboxes         = props.mailboxes\n            state.favoriteMailboxes = props.favoriteMailboxes\n            if state.mailboxes.length is 0\n                props.tab = 'mailboxes'\n        else if Object.keys(state.errors).length is 0\n            init = (field) ->\n                state[field] = ''\n            init field for field in @_accountFields\n            init field for field in @_mailboxesFields\n            state.id       = null\n            state.smtpPort = 465\n            state.smtpSSL  = true\n            state.smtpTLS  = false\n            state.imapPort = 993\n            state.imapSSL  = true\n            state.imapTLS  = false\n            state.accountType = 'IMAP'\n            state.newMailboxParent  = null\n            state.favoriteMailboxes = null\n\n        return state\n\nAccountConfigMain = React.createClass\n    displayName: 'AccountConfigMain'\n\n    mixins: [\n        RouterMixin\n        React.addons.LinkedStateMixin # two-way data binding\n    ]\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        #return JSON.stringify(nextProps) isnt JSON.stringify(@props) or\n        #       JSON.stringify(nextState) isnt JSON.stringify(@state)\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    _propsToState: (props) ->\n        state = props\n        return state\n\n    getInitialState: ->\n        @_propsToState(@props)\n\n    componentWillReceiveProps: (props) ->\n        @setState @_propsToState(props)\n\n    render: ->\n        if @props.isWaiting then buttonLabel = 'Saving...'\n        else if @props.selectedAccount? then buttonLabel = t \"account save\"\n        else buttonLabel = t \"account add\"\n\n\n        hasError = (fields) =>\n            if not Array.isArray fields\n                fields = [ fields ]\n            errors = fields.some (field) => @state.errors[field]?\n            return if errors then ' has-error' else ''\n\n        getError = (field) =>\n            if @state.errors[field]?\n                div\n                    className: 'col-sm-5 col-sm-offset-2 control-label',\n                    @state.errors[field]\n\n        cancelUrl = @buildUrl\n            direction: 'first'\n            action: 'default'\n            fullWidth: true\n\n        form className: 'form-horizontal', method: 'POST',\n            @renderError()\n            fieldset null,\n                legend null, t 'account identifiers'\n\n            AccountInput\n                name: 'label'\n                value: @linkState('label').value\n                errors: @state.errors\n                validateForm: @props.validateForm\n\n            AccountInput\n                name: 'name'\n                value: @linkState('name').value\n                errors: @state.errors\n                validateForm: @props.validateForm\n\n            AccountInput\n                name: 'login'\n                value: @linkState('login').value\n                errors: @state.errors\n                type: 'email'\n                errorField: ['login', 'auth']\n                validateForm: @props.validateForm\n                onBlur: @discover\n\n            AccountInput\n                name: 'password'\n                value: @linkState('password').value\n                errors: @state.errors\n                type: 'password'\n                errorField: ['password', 'auth']\n                validateForm: @props.validateForm\n\n            if @state.displayGMAILSecurity\n                fieldset null,\n                    legend null, t 'gmail security tile'\n                    p null, t 'gmail security body', login: @state.login.value\n                    p null,\n                        a\n                            target: '_blank',\n                            href: \"https://www.google.com/settings/security/lesssecureapps\"\n                            t 'gmail security link'\n\n            AccountInput\n                name: 'accountType'\n                value: @linkState('accountType').value\n                errors: @state.errors\n\n            fieldset null,\n                legend null, t 'account receiving server'\n\n                AccountInput\n                    name: 'imapServer'\n                    value: @linkState('imapServer').value\n                    errors: @state.errors\n                    errorField: ['imap', 'imapServer', 'imapPort']\n\n                AccountInput\n                    name: 'imapPort'\n                    value: @linkState('imapPort').value\n                    errors: @state.errors\n                    onBlur: @_onimapPort\n                    onInput: -> @setState(imapManualPort: true)\n\n                AccountInput\n                    name: 'imapSSL'\n                    value: @linkState('imapSSL').value\n                    errors: @state.errors\n                    type: 'checkbox'\n                    onClick: (ev) =>\n                        @_onServerParam ev.target, 'imap', 'ssl'\n\n                AccountInput\n                    name: 'imapTLS'\n                    value: @linkState('imapTLS').value\n                    errors: @state.errors\n                    type: 'checkbox'\n                    onClick: (ev) =>\n                        @_onServerParam ev.target, 'imap', 'tls'\n\n            fieldset null,\n                legend null, t 'account sending server'\n\n                AccountInput\n                    name: 'smtpServer'\n                    value: @linkState('smtpServer').value\n                    errors: @state.errors\n                    errorField: ['smtp', 'smtpServer', 'smtpPort']\n\n                AccountInput\n                    name: 'smtpPort'\n                    value: @linkState('smtpPort').value\n                    errors: @state.errors\n                    onBlur: @_onSMTPPort\n                    onInput: -> @setState(smtpManualPort: true)\n\n                AccountInput\n                    name: 'smtpSSL'\n                    value: @linkState('smtpSSL').value\n                    errors: @state.errors\n                    type: 'checkbox'\n                    onClick: (ev) =>\n                        @_onServerParam ev.target, 'smtp', 'ssl'\n\n                AccountInput\n                    name: 'smtpTLS'\n                    value: @linkState('smtpTLS').value\n                    errors: @state.errors\n                    type: 'checkbox'\n                    onClick: (ev) =>\n                        @_onServerParam ev.target, 'smtp', 'tls'\n\n            fieldset null,\n                legend null, t 'account actions'\n            div className: '',\n                div className: 'col-sm-offset-4',\n                    button\n                        className: 'btn btn-cozy',\n                        onClick: @props.onSubmit,\n                        buttonLabel\n                    if @state.id?\n                        button\n                            className: 'btn btn-cozy-non-default',\n                            onClick: @onCheck,\n                            t 'account check'\n                if @state.id?\n                    fieldset null,\n                        legend null, t 'account danger zone'\n                        div className: 'col-sm-offset-4',\n                            button\n                                className: 'btn btn-default btn-danger btn-remove',\n                                onClick: @onRemove,\n                                t \"account remove\"\n\n    # Check current parameters\n    onCheck: (event) ->\n        @props.onSubmit event, true\n\n    onRemove: (event) ->\n        # prevents the page from reloading\n        event.preventDefault()\n\n        if window.confirm(t 'account remove confirm')\n            AccountActionCreator.remove @props.selectedAccount.get('id')\n\n    renderError: ->\n        if @props.error and @props.error.name is 'AccountConfigError'\n            message = t 'config error ' + @props.error.field\n            div className: 'alert alert-warning', message\n        else if @props.error\n            div className: 'alert alert-warning', @props.error.message\n        else if Object.keys(@state.errors).length isnt 0\n            div className: 'alert alert-warning', t 'account errors'\n\n    discover: (event) ->\n        @props.validateForm event\n\n        login = @state.login.value\n\n        if login isnt @_lastDiscovered\n            AccountActionCreator.discover login.split('@')[1],\n            (err, provider) =>\n                if not err?\n                    infos = {}\n                    getInfos = (server) ->\n                        if server.type is 'imap' and not infos.imapServer?\n                            infos.imapServer = server.hostname\n                            infos.imapPort   = server.port\n                            if server.socketType is 'SSL'\n                                infos.imapSSL = true\n                                infos.imapTLS = false\n                            else if server.socketType is 'STARTTLS'\n                                infos.imapSSL = false\n                                infos.imapTLS = true\n                            else if server.socketType is 'plain'\n                                infos.imapSSL = false\n                                infos.imapTLS = false\n                        if server.type is 'smtp' and not infos.smtpServer?\n                            infos.smtpServer = server.hostname\n                            infos.smtpPort   = server.port\n                            if server.socketType is 'SSL'\n                                infos.smtpSSL = true\n                                infos.smtpTLS = false\n                            else if server.socketType is 'STARTTLS'\n                                infos.smtpSSL = false\n                                infos.smtpTLS = true\n                            else if server.socketType is 'plain'\n                                infos.smtpSSL = false\n                                infos.smtpTLS = false\n                    getInfos server for server in provider\n                    if not infos.imapServer?\n                        infos.imapServer = ''\n                        infos.imapPort   = '993'\n                    if not infos.smtpServer?\n                        infos.smtpServer = ''\n                        infos.smtpPort   = '465'\n                    if not infos.imapSSL\n                        switch infos.imapPort\n                            when '993'\n                                infos.imapSSL = true\n                                infos.imapTLS = false\n                            else\n                                infos.imapSSL = false\n                                infos.imapTLS = false\n                    if not infos.smtpSSL\n                        switch infos.smtpPort\n                            when '465'\n                                infos.smtpSSL = true\n                                infos.smtpTLS = false\n                            when '587'\n                                infos.smtpSSL = false\n                                infos.smtpTLS = true\n                            else\n                                infos.smtpSSL = false\n                                infos.smtpTLS = false\n                    isGmail = infos.imapServer is 'imap.googlemail.com'\n                    @setState displayGMAILSecurity: isGmail\n\n                    for key, val of infos\n                        @state[key].requestChange val\n                    @props.validateForm()\n            @_lastDiscovered = login\n\n    _onServerParam: (target, server, type) ->\n        if (server is 'imap' and @state.imapManualPort) or\n        (server is 'smtp' and @state.smtpManualPort)\n            # port has been set manually, don't update it\n            return\n        if server is 'smtp'\n            if type is 'ssl' and target.checked\n                @setState smtpPort: 465\n            else if type is 'tls' and target.checked\n                @setState smtpPort: 587\n        else\n            if target.checked\n                @setState imapPort: 993\n            else\n                @setState imapPort: 143\n\n    _onIMAPPort: (ev) ->\n        port = ev.target.value.trim()\n        infos =\n            imapPort: port\n        switch port\n            when '993'\n                infos.imapSSL = true\n                infos.imapTLS = false\n            else\n                infos.imapSSL = false\n                infos.imapTLS = false\n        @setState infos\n\n    _onSMTPPort: (ev) ->\n        port = ev.target.value.trim()\n        infos = {}\n        switch port\n            when '465'\n                infos.smtpSSL = true\n                infos.smtpTLS = false\n            when '587'\n                infos.smtpSSL = false\n                infos.smtpTLS = true\n            else\n                infos.smtpSSL = false\n                infos.smtpTLS = false\n        @setState infos\n\nAccountConfigMailboxes = React.createClass\n    displayName: 'AccountConfigMailboxes'\n\n    mixins: [\n        RouterMixin\n        React.addons.LinkedStateMixin # two-way data binding\n    ]\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    _propsToState: (props) ->\n        state = props\n        return state\n\n    getInitialState: ->\n        @_propsToState(@props)\n\n    componentWillReceiveProps: (props) ->\n        @setState @_propsToState(props)\n\n    render: ->\n        favorites = @state.favoriteMailboxes.value\n        if @state.mailboxes.value isnt '' and favorites isnt ''\n            mailboxes = @state.mailboxes.value.map (mailbox, key) =>\n                try\n                    favorite = favorites.get(mailbox.get('id'))?\n                    MailboxItem {accountID: @state.id.value, mailbox, favorite}\n                catch error\n                    console.log error, favorites\n            .toJS()\n        form className: 'form-horizontal',\n\n            @renderError()\n            h4 className: 'config-title', t \"account special mailboxes\"\n            @_renderMailboxChoice t('account draft mailbox'), \"draftMailbox\"\n            @_renderMailboxChoice t('account sent mailbox'),  \"sentMailbox\"\n            @_renderMailboxChoice t('account trash mailbox'), \"trashMailbox\"\n\n            h4 className: 'config-title', t \"account mailboxes\"\n            ul className: \"folder-list list-unstyled boxes container\",\n                if mailboxes?\n                    li className: 'row box title', key: 'title',\n                        span\n                            className: \"col-xs-1\",\n                            ''\n                        span\n                            className: \"col-xs-1\",\n                            ''\n                        span\n                            className: \"col-xs-6\",\n                            ''\n                        span\n                            className: \"col-xs-1\",\n                            ''\n                        span\n                            className: \"col-xs-1 text-center\",\n                            t 'mailbox title total'\n                        span\n                            className: \"col-xs-1 text-center\",\n                            t 'mailbox title unread'\n                        span\n                            className: \"col-xs-1 text-center\",\n                            t 'mailbox title new'\n                mailboxes\n                li className: \"row box new\", key: 'new',\n                    span\n                        className: \"col-xs-1 box-action add\"\n                        onClick: @addMailbox\n                        title: t(\"mailbox title add\"),\n                            i className: 'fa fa-plus'\n                    span\n                        className: \"col-xs-1 box-action cancel\"\n                        onClick: @undoMailbox\n                        title: t(\"mailbox title add cancel\"),\n                            i className: 'fa fa-undo'\n                    div className: 'col-xs-6',\n                        input\n                            id: 'newmailbox',\n                            ref: 'newmailbox',\n                            type: 'text',\n                            className: 'form-control',\n                            placeholder: t \"account newmailbox placeholder\"\n                            onKeyDown: @onKeyDown\n                    label\n                        className: 'col-xs-2 text-center control-label',\n                        t \"account newmailbox parent\"\n                    div className: 'col-xs-2 text-center',\n                        MailboxList\n                            allowUndefined: true\n                            mailboxes: @state.mailboxes.value\n                            selectedMailbox: @state.newMailboxParent\n                            onChange: (mailbox) =>\n                                @setState newMailboxParent: mailbox\n\n    renderError: ->\n        if @props.error and @props.error.name is 'AccountConfigError'\n            message = t 'config error ' + @props.error.field\n            div className: 'alert alert-warning', message\n        else if @props.error\n            div className: 'alert alert-warning', @props.error.message\n        else if Object.keys(@state.errors).length isnt 0\n            div className: 'alert alert-warning', t 'account errors'\n\n    _renderMailboxChoice: (labelText, box) ->\n        if @state.id? and @state.mailboxes.value isnt ''\n            errorClass = if @state[box].value? then '' else 'has-error'\n            div className: \"form-group #{box} #{errorClass}\",\n                label\n                    className: 'col-sm-2 col-sm-offset-2 control-label',\n                    labelText\n                div className: 'col-sm-3',\n                    MailboxList\n                        allowUndefined: true\n                        mailboxes: @state.mailboxes.value\n                        selectedMailbox: @state[box].value\n                        onChange: (mailbox) =>\n                            # requestChange is asynchroneous, so we need to also call\n                            # setState to only call onSubmet once state has really been updated\n                            #@state[box].value = mailbox\n                            @state[box].requestChange mailbox\n                            newState = {}\n                            newState[box] =\n                                value = mailbox\n                            @setState newState, =>\n                                @props.onSubmit()\n\n    onKeyDown: (evt) ->\n        switch evt.key\n            when \"Enter\"\n                @addMailbox()\n\n    addMailbox: (event) ->\n        event?.preventDefault()\n\n        mailbox =\n            label: @refs.newmailbox.getDOMNode().value.trim()\n            accountID: @state.id.value\n            parentID: @state.newMailboxParent\n\n        AccountActionCreator.mailboxCreate mailbox, (error) =>\n            if error?\n                LAC.alertError \"#{t(\"mailbox create ko\")} #{error}\"\n            else\n                LAC.notify t \"mailbox create ok\"\n                @refs.newmailbox.getDOMNode().value = ''\n\n    undoMailbox: (event) ->\n        event.preventDefault()\n\n        @refs.newmailbox.getDOMNode().value = ''\n        @setState newMailboxParent: null\n\nMailboxItem = React.createClass\n    displayName: 'MailboxItem'\n\n    mixins: [\n        RouterMixin\n        React.addons.LinkedStateMixin # two-way data binding\n    ]\n\n    propTypes:\n        mailbox: React.PropTypes.object\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    #componentWillReceiveProps: (props) ->\n    #    @setState edited: false\n\n    getInitialState: ->\n        return {\n            edited: false\n            favorite: @props.favorite\n        }\n\n    render: ->\n        pusher = \"\"\n        pusher += \"\" for j in [1..@props.mailbox.get('depth')] by 1\n        key = @props.mailbox.get 'id'\n        if @state.favorite\n            favoriteClass = \"fa fa-eye mailbox-visi-yes\"\n            favoriteTitle = t \"mailbox title favorite\"\n        else\n            favoriteClass = \"fa fa-eye-slash mailbox-visi-no\"\n            favoriteTitle = t \"mailbox title not favorite\"\n        nbTotal  = @props.mailbox.get('nbTotal') or 0\n        nbUnread = @props.mailbox.get('nbUnread') or 0\n        nbRecent = @props.mailbox.get('nbRecent') or 0\n        classItem = classer\n            'row': true\n            'box': true\n            'box-item': true\n            edited: @state.edited\n        if @state.edited\n            li className: classItem, key: key,\n                span\n                    className: \"col-xs-1 box-action save\"\n                    onClick: @updateMailbox\n                    title: t(\"mailbox title edit save\"),\n                        i className: 'fa fa-check'\n                span\n                    className: \"col-xs-1 box-action cancel\"\n                    onClick: @undoMailbox\n                    title: t(\"mailbox title edit cancel\"),\n                        i className: 'fa fa-undo'\n                input\n                    className: \"col-xs-6 box-label\"\n                    ref: 'label',\n                    defaultValue: @props.mailbox.get 'label'\n                    type: 'text'\n                    onKeyDown: @onKeyDown,\n        else\n            li className: classItem, key: key,\n                span\n                    className: \"col-xs-1 box-action edit\",\n                    onClick: @editMailbox,\n                    title: t(\"mailbox title edit\"),\n                        i className: 'fa fa-pencil'\n                span\n                    className: \"col-xs-1 box-action delete\",\n                    onClick: @deleteMailbox,\n                    title: t(\"mailbox title delete\"),\n                        i className: 'fa fa-trash-o'\n                span\n                    className: \"col-xs-6 box-label\",\n                    onClick: @editMailbox,\n                    \"#{pusher}#{@props.mailbox.get 'label'}\"\n                span\n                    className: \"col-xs-1 box-action favorite\",\n                    title: favoriteTitle\n                    onClick: @toggleFavorite,\n                        i className: favoriteClass\n                span\n                    className: \"col-xs-1 text-center box-count box-total\",\n                    nbTotal\n                span\n                    className: \"col-xs-1 text-center box-count box-unread\",\n                    nbUnread\n                span\n                    className: \"col-xs-1 text-center box-count box-new\",\n                    nbRecent\n\n    onKeyDown: (evt) ->\n        switch evt.key\n            when \"Enter\"\n                @updateMailbox()\n\n    editMailbox: (e) ->\n        e.preventDefault()\n        @setState edited: true\n\n    undoMailbox: (e) ->\n        e.preventDefault()\n        @setState edited: false\n\n    updateMailbox: (e) ->\n        e?.preventDefault()\n\n        mailbox =\n            label: @refs.label.getDOMNode().value.trim()\n            mailboxID: @props.mailbox.get 'id'\n            accountID: @props.accountID\n\n        AccountActionCreator.mailboxUpdate mailbox, (error) =>\n            if error?\n                LAC.alertError \"#{t(\"mailbox update ko\")} #{error}\"\n            else\n                LAC.notify t \"mailbox update ok\"\n                @setState edited: false\n\n    toggleFavorite: (e) ->\n        mailbox =\n            favorite: not @state.favorite\n            mailboxID: @props.mailbox.get 'id'\n            accountID: @props.accountID\n\n        AccountActionCreator.mailboxUpdate mailbox, (error) ->\n            if error?\n                LAC.alertError \"#{t(\"mailbox update ko\")} #{error}\"\n            else\n                LAC.notify t \"mailbox update ok\"\n\n        @setState favorite: not @state.favorite\n\n    deleteMailbox: (e) ->\n        e.preventDefault()\n\n        if window.confirm(t 'account confirm delbox')\n            mailbox =\n                mailboxID: @props.mailbox.get 'id'\n                accountID: @props.accountID\n\n            AccountActionCreator.mailboxDelete mailbox, (error) ->\n                if error?\n                    LAC.alertError \"#{t(\"mailbox delete ko\")} #{error}\"\n                else\n                    LAC.notify t \"mailbox delete ok\"\n\nAccountInput = React.createClass\n    displayName: 'AccountInput'\n\n    mixins: [\n        RouterMixin\n        React.addons.LinkedStateMixin # two-way data binding\n    ]\n\n    getInitialState: ->\n        return @props\n\n    componentWillReceiveProps: (props) ->\n        @setState props\n\n    render: ->\n        hasError = (fields) =>\n            if not Array.isArray fields\n                fields = [ fields ]\n            errors = fields.some (field) => @state.errors[field]?\n            return if errors then ' has-error' else ''\n\n        getError = (field) =>\n            if @state.errors[field]?\n                div\n                    className: 'col-sm-5 col-sm-offset-2 control-label',\n                    @state.errors[field]\n\n        name = @props.name\n        type = @props.type or 'text'\n        errorField = @props.errorField or name\n\n        div\n            key: \"account-input-#{name}\",\n            className: \"form-group account-item-#{name} \" + hasError(errorField),\n                label\n                    htmlFor: \"mailbox-#{name}\",\n                    className: \"col-sm-2 col-sm-offset-2 control-label\",\n                    t \"account #{name}\"\n                div className: 'col-sm-3',\n                    if type isnt 'checkbox'\n                        input\n                            id: \"mailbox-#{name}\",\n                            name: \"mailbox-#{name}\",\n                            valueLink: @linkState('value').value,\n                            type: type,\n                            className: 'form-control',\n                            placeholder: if (type is 'text' or type is 'email') then t(\"account #{name} short\") else null\n                            onBlur: @props.onBlur or null#@props.validateForm\n                            onInput: @props.onInput or null\n                    else\n                        input\n                            id: \"mailbox-#{name}\",\n                            name: \"mailbox-#{name}\",\n                            checkedLink: @linkState('value').value,\n                            type: type,\n                            onClick: @props.onClick\n                getError name\n","{div, ul, li, p, span, a, button, input} = React.DOM\n\nRouterMixin = require '../mixins/router_mixin'\n\nmodule.exports = React.createClass\n    displayName: 'AccountPicker'\n\n\n\n    render: ->\n        if accounts.length is 1\n            @renderNoChoice()\n        else\n            @renderPicker()\n\n    onChange: ({target: dataset: value: accountID})->\n        @props.valueLink.requestChange accountID\n\n\n    renderNoChoice: ->\n        account = @props.accounts.get @props.valueLink.value\n\n        if @props.type is 'address'\n            label = \"\\\"#{account.get('name') or account.get('label')}\\\" <#{account.get 'login'}>\"\n        else\n            label = account.get 'label'\n        p className: 'form-control-static col-sm-6', label\n\n\n    renderPicker:  ->\n        accounts = @props.accounts\n        account  = accounts.get @props.valueLink.value\n        value    = @props.valueLink.value\n        if @props.type is 'address'\n            label = \"\\\"#{account.get('name') or account.get('label')}\\\" <#{account.get 'login'}>\"\n        else\n            label = account.get 'label'\n\n        div null,\n            span\n                className: 'compose-from dropdown-toggle',\n                'data-toggle': 'dropdown',\n            #button\n            #    id: 'compose-from',\n            #    className: 'btn btn-default dropdown-toggle',\n            #    type: 'button',\n            #    'data-toggle': 'dropdown',\n                    span ref: 'account', label\n                    span className: 'caret'\n            ul className: 'dropdown-menu', role: 'menu',\n                for key, account of accounts.toJS() when key isnt value\n                    @renderAccount(key, account)\n\n    renderAccount: (key, account) ->\n        if @props.type is 'address'\n            label = \"\\\"#{account.name or account.label}\\\" <#{account.login}>\"\n        else\n            label = account.label\n\n        li\n            role: 'presentation',\n            key: key,\n                a\n                    role: 'menuitem',\n                    onClick: @onChange,\n                    'data-value': key,\n                    label\n\n\n","{div, button, span, strong} = React.DOM\n{AlertLevel}     = require '../constants/app_constants'\nLayoutActionCreator = require '../actions/layout_action_creator'\n\nmodule.exports = React.createClass\n    displayName: 'Alert'\n\n    render: ->\n\n        alert = @props.alert\n        if alert.level?\n            levels = {}\n            levels[AlertLevel.SUCCESS] = 'alert-success'\n            levels[AlertLevel.INFO]    = 'alert-info'\n            levels[AlertLevel.WARNING] = 'alert-warning'\n            levels[AlertLevel.ERROR]   = 'alert-danger'\n\n        div className: 'row',\n            if alert.level?\n                div\n                    ref: 'alert'\n                    className: \"alert #{levels[alert.level]} alert-dismissible\",\n                    role: \"alert\",\n                        button\n                            type: \"button\",\n                            className: \"close\",\n                            onClick: @hide,\n                                span 'aria-hidden': \"true\", \"\"\n                                span className: \"sr-only\", t \"app alert close\"\n                        strong null, alert.message\n\n    hide: ->\n        LayoutActionCreator.alertHide()\n\n    autohide: ->\n        if false and @props.alert.level is AlertLevel.SUCCESS\n            setTimeout =>\n                @refs.alert.getDOMNode().classList.add 'autoclose'\n            , 1000\n            setTimeout @hide, 10000\n\n    componentDidMount: ->\n        @autohide()\n\n    componentDidUpdate: ->\n        @autohide()\n","# React components\n{body, div, p, form, i, input, span, a, button, strong} = React.DOM\nAccountConfig = require './account-config'\nAlert         = require './alert'\nTopbar        = require './topbar'\nToastContainer = require('./toast').Container\nCompose       = require './compose'\nConversation  = require './conversation'\nMenu          = require './menu'\nMessageList   = require './message-list'\nSettings      = require './settings'\nSearchForm = require './search-form'\n\n# React addons\nReactCSSTransitionGroup = React.addons.CSSTransitionGroup\nclasser = React.addons.classSet\n\n# React Mixins\nRouterMixin = require '../mixins/router_mixin'\nStoreWatchMixin = require '../mixins/store_watch_mixin'\n\n# Flux stores\nAccountStore  = require '../stores/account_store'\nContactStore  = require '../stores/contact_store'\nMessageStore  = require '../stores/message_store'\nLayoutStore   = require '../stores/layout_store'\nSettingsStore = require '../stores/settings_store'\nSearchStore   = require '../stores/search_store'\nRefreshesStore = require '../stores/refreshes_store'\nStores = [AccountStore, ContactStore, MessageStore, LayoutStore,\n        SettingsStore, SearchStore, RefreshesStore]\n\n# Flux actions\nLayoutActionCreator = require '../actions/layout_action_creator'\n\n{MessageFilter, Dispositions} = require '../constants/app_constants'\n\n###\n    This component is the root of the React tree.\n\n    It has two functions:\n        - building the layout based on the router\n        - listening for changes in  the model (Flux stores)\n          and re-render accordingly\n\n    About routing: it uses Backbone.Router as a source of truth for the layout.\n    (based on:\n        https://medium.com/react-tutorials/react-backbone-router-c00be0cf1592)\n###\nmodule.exports = Application = React.createClass\n    displayName: 'Application'\n\n    mixins: [\n        StoreWatchMixin Stores\n        RouterMixin\n    ]\n\n    render: ->\n        # Shortcut\n        layout = @props.router.current\n        if not layout?\n            return div null, t \"app loading\"\n\n        # is the layout a full-width panel or two panels sharing the width\n        isFullWidth = not layout.secondPanel?\n\n        firstPanelLayoutMode = if isFullWidth then 'full' else 'first'\n        disposition = LayoutStore.getDisposition()\n\n        panelsClasses = classer\n            row: true\n            horizontal: disposition.type is Dispositions.HORIZONTAL\n        # css classes are a bit long so we use a subfunction to get them\n        panelClasses = @getPanelClasses isFullWidth\n\n        # classes for page-content\n        responsiveClasses = classer\n            'col-xs-12': true\n            'col-md-9':  disposition.type is Dispositions.THREE\n            'col-md-11': disposition.type isnt Dispositions.THREE\n            'pushed': @state.isResponsiveMenuShown\n\n        alert = @state.alertMessage\n\n        getUrl = (mailbox) =>\n            @buildUrl\n                direction: 'first'\n                action: 'account.mailbox.messages'\n                parameters: [\n                    @state.selectedAccount?.get('id'),\n                    mailbox.get('id')\n                ]\n\n        keyFirst = 'left-panel-' + layout.firstPanel.action.split('.')[0]\n        if layout.secondPanel?\n            keySecond = 'right-panel-' + layout.secondPanel.action.split('.')[0]\n\n        # Actual layout\n        div className: 'container-fluid',\n            div className: 'row',\n\n                # Menu is self-managed because this part of the layout\n                # is always the same.\n                Menu\n                    accounts: @state.accounts\n                    refreshes: @state.refreshes\n                    selectedAccount: @state.selectedAccount\n                    selectedMailboxID: @state.selectedMailboxID\n                    isResponsiveMenuShown: @state.isResponsiveMenuShown\n                    layout: @props.router.current\n                    mailboxes: @state.mailboxesSorted\n                    favorites: @state.favoriteSorted\n                    disposition: disposition\n                    toggleMenu: @toggleMenu\n\n                div id: 'page-content', className: responsiveClasses,\n\n                    # Display feedback\n                    Alert { alert }\n                    ToastContainer()\n\n                    a onClick: @toggleMenu, className: 'responsive-handler hidden-md hidden-lg',\n                        i className: 'fa fa-bars pull-left'\n                        t \"app menu\"\n                    # The quick actions bar\n                    #Topbar\n                    #    layout: @props.router.current\n                    #    mailboxes: @state.mailboxes\n                    #    selectedAccount: @state.selectedAccount\n                    #    selectedMailboxID: @state.selectedMailboxID\n                    #    searchQuery: @state.searchQuery\n                    #    isResponsiveMenuShown: @state.isResponsiveMenuShown\n\n                    # Two layout modes: one full-width panel or two panels\n                    div id: 'panels', className: panelsClasses,\n                        div\n                            className: panelClasses.firstPanel,\n                            key: keyFirst,\n                                @getPanelComponent layout.firstPanel,\n                                    firstPanelLayoutMode\n                        if not isFullWidth and layout.secondPanel?\n                            div\n                                className: panelClasses.secondPanel,\n                                key: keySecond,\n                                    @getPanelComponent layout.secondPanel,\n                                        'second'\n\n\n    # Panels CSS classes are a bit long so we get them from a this subfunction\n    # Also, it manages transitions between screens by adding relevant classes\n    getPanelClasses: (isFullWidth) ->\n        previous = @props.router.previous\n        layout   = @props.router.current\n        first    = layout.firstPanel\n        second   = layout.secondPanel\n\n        # Two cases: the layout has a full-width panel...\n        if isFullWidth\n            classes = firstPanel: 'panel col-xs-12 col-md-12 row-10'\n\n            # (default) when full-width panel is shown after\n            # a two-panels structure\n            if previous? and previous.secondPanel\n\n                # if the full-width panel was on right right before, it expands\n                if previous.secondPanel.action is layout.firstPanel.action and\n                   _.difference(previous.secondPanel.parameters,\n                        layout.firstPanel.parameters).length is 0\n                    classes.firstPanel += ' expandFromRight'\n\n            # (default) when full-width panel is shown after a full-width panel\n            else if previous?\n                classes.firstPanel += ' moveFromLeft'\n\n\n        # ... or a two panels layout.\n        else\n            disposition = LayoutStore.getDisposition()\n            if disposition.type is Dispositions.HORIZONTAL\n                classes =\n                    firstPanel: \"panel col-xs-12 col-md-12 hidden-xs hidden-sm row-#{disposition.height}\"\n                    secondPanel: \"panel col-xs-12 col-md-12 row-#{10 - disposition.height} row-offset-#{disposition.height}\"\n            else\n                classes =\n                    firstPanel: \"panel col-xs-12 col-md-#{disposition.width} hidden-xs hidden-sm row-10\"\n                    secondPanel: \"panel col-xs-12 col-md-#{12 - disposition.width} col-offset-#{disposition.width} row-10\"\n\n            # we don't animate in the first render\n            if previous?\n                wasFullWidth = not previous.secondPanel?\n\n                # transition from full-width to two-panels layout\n                if wasFullWidth and not isFullWidth\n\n                    # expanded second panel collapses\n                    if previous.firstPanel.action is second.action and\n                       _.difference(previous.firstPanel.parameters,\n                            second.parameters).length is 0\n                        classes.firstPanel += ' moveFromLeft'\n                        classes.secondPanel += ' slide-in-from-left'\n\n                    # (default) opens second panel sliding from the right\n                    else\n                        classes.secondPanel += ' slide-in-from-right'\n\n                # (default) opens second panel sliding from the left\n                else if not isFullWidth\n                    classes.secondPanel += ' slide-in-from-left'\n\n        return classes\n\n\n    # Factory of React components for panels\n    getPanelComponent: (panelInfo, layout) ->\n\n        # -- Generates a list of messages for a given account and mailbox\n        if panelInfo.action is 'account.mailbox.messages' or\n           panelInfo.action is 'account.mailbox.messages.full' or\n           panelInfo.action is 'search'\n\n            if panelInfo.action is 'search'\n                accountID = null\n                mailboxID = null\n                messages  = SearchStore.getResults()\n                messagesCount    = messages.count()\n                emptyListMessage = t 'list search empty', query: @state.searchQuery\n                counterMessage   = t 'list search count', messagesCount\n            else\n                accountID = panelInfo.parameters.accountID\n                mailboxID = panelInfo.parameters.mailboxID\n                account   = AccountStore.getByID accountID\n                if account?\n                    mailbox   = account.get('mailboxes').get mailboxID\n                    messages  = MessageStore.getMessagesByMailbox mailboxID, @state.settings.get('displayConversation')\n                    messagesCount = mailbox?.get('nbTotal') or 0\n                    emptyListMessage = switch MessageStore.getCurrentFilter()\n                        when MessageFilter.FLAGGED\n                            t 'no flagged message'\n                        when MessageFilter.UNSEEN\n                            t 'no unseen message'\n                        when MessageFilter.ALL\n                            t 'list empty'\n                        else\n                            t 'no filter message'\n                    counterMessage   = t 'list count', messagesCount\n                else\n                    @redirect\n                        direction: \"first\"\n                        action: \"default\"\n                    return\n\n            # gets the selected message if any\n            messageID = MessageStore.getCurrentID()\n            direction = if layout is 'first' then 'secondPanel' \\\n                else 'firstPanel'\n\n            fetching = MessageStore.isFetching()\n            if @state.settings.get 'displayConversation'\n                conversationLengths = MessageStore.getConversationsLength()\n\n            query = _.clone(MessageStore.getParams())\n            query.accountID = accountID\n            query.mailboxID = mailboxID\n            #paginationUrl = @buildUrl\n            #    direction: 'first'\n            #    action: 'account.mailbox.messages.full'\n            #    parameters: query\n            return MessageList\n                messages:      messages\n                messagesCount: messagesCount\n                accountID:     accountID\n                mailboxID:     mailboxID\n                messageID:     messageID\n                mailboxes:     @state.mailboxes\n                settings:      @state.settings\n                fetching:      fetching\n                query:         query\n                conversationLengths: conversationLengths\n                emptyListMessage: emptyListMessage\n                counterMessage:   counterMessage\n                #paginationUrl: paginationUrl\n\n        # -- Generates a configuration window for a given account\n        else if panelInfo.action is 'account.config'\n            # don't use @state.selectedAccount\n            selectedAccount   = AccountStore.getSelected()\n            error             = AccountStore.getError()\n            isWaiting         = AccountStore.isWaiting()\n            mailboxes         = AccountStore.getSelectedMailboxes()\n            favoriteMailboxes = @state.favoriteMailboxes\n            tab = panelInfo.parameters.tab\n            if selectedAccount and not error and mailboxes.length is 0\n                error =\n                    name: 'AccountConfigError'\n                    field: 'nomailboxes'\n\n            return AccountConfig {error, isWaiting, selectedAccount,\n                mailboxes, favoriteMailboxes, tab}\n\n        else if panelInfo.action is 'account.new'\n            return AccountConfig\n                error: AccountStore.getError()\n                isWaiting: AccountStore.isWaiting()\n\n        # -- Generates a configuration window to create a new account\n        #else if panelInfo.action is 'account.new'\n        #    error = AccountStore.getError()\n        #    isWaiting = AccountStore.isWaiting()\n        #    return AccountConfig {layout, error, isWaiting}\n\n        # -- Generates a conversation\n        else if panelInfo.action is 'message' or\n                panelInfo.action is 'conversation'\n\n            messageID      = panelInfo.parameters.messageID\n            message        = MessageStore.getByID messageID\n            selectedMailboxID = @state.selectedMailboxID\n            if message?\n                conversationID = message.get 'conversationID'\n                lengths = MessageStore.getConversationsLength()\n                conversationLength = lengths.get conversationID\n                conversation = MessageStore.getConversation conversationID\n                MessageStore.setCurrentID message.get('id')\n                selectedMailboxID ?= Object.keys(message.get('mailboxIDs'))[0]\n\n            return Conversation\n                key: 'conversation-' + conversationID\n                layout            : layout\n                settings          : @state.settings\n                accounts          : @state.accounts\n                mailboxes         : @state.mailboxes\n                selectedAccount   : @state.selectedAccount\n                selectedMailboxID : selectedMailboxID\n                message           : message\n                conversation      : conversation\n                conversationLength: conversationLength\n                prevID            : MessageStore.getPreviousMessage()\n                nextID            : MessageStore.getNextMessage()\n\n        # -- Generates the new message composition form\n        else if panelInfo.action is 'compose'\n\n            return Compose\n                layout          : layout\n                action          : null\n                inReplyTo       : null\n                settings        : @state.settings\n                accounts        : @state.accounts\n                selectedAccount : @state.selectedAccount\n                message         : null\n\n        # -- Generates the edit draft composition form\n        else if panelInfo.action is 'edit'\n\n            messageID = panelInfo.parameters.messageID\n            message = MessageStore.getByID messageID\n\n            return Compose\n                layout          : layout\n                action          : null\n                inReplyTo       : null\n                settings        : @state.settings\n                accounts        : @state.accounts\n                selectedAccount : @state.selectedAccount\n                message         : message\n\n        # -- Display the settings form\n        else if panelInfo.action is 'settings'\n            settings = @state.settings\n            return Settings {settings}\n\n        # -- Error case, shouldn't happen. Might be worth to make it pretty.\n        else return div null, 'Unknown component'\n\n    getStateFromStores: ->\n\n        selectedAccount = AccountStore.getSelected()\n        # When selecting compose in Menu, we may not have a selected account\n        if not selectedAccount?\n            selectedAccount = AccountStore.getDefault()\n        selectedAccountID = selectedAccount?.get('id') or null\n\n        firstPanelInfo = @props.router.current?.firstPanel\n        if firstPanelInfo?.action is 'account.mailbox.messages' or\n           firstPanelInfo?.action is 'account.mailbox.messages.full'\n            selectedMailboxID = firstPanelInfo.parameters.mailboxID\n        else\n            selectedMailboxID = null\n\n        return {\n            accounts: AccountStore.getAll()\n            selectedAccount: selectedAccount\n            isResponsiveMenuShown: false\n            alertMessage: LayoutStore.getAlert()\n            mailboxes: AccountStore.getSelectedMailboxes()\n            mailboxesSorted: AccountStore.getSelectedMailboxes true\n            selectedMailboxID: selectedMailboxID\n            selectedMailbox: AccountStore.getSelectedMailbox selectedMailboxID\n            favoriteMailboxes: AccountStore.getSelectedFavorites()\n            favoriteSorted: AccountStore.getSelectedFavorites true\n            searchQuery: SearchStore.getQuery()\n            refreshes: RefreshesStore.getRefreshing()\n            settings: SettingsStore.get()\n            plugins: window.plugins\n        }\n\n\n    # Listens to router changes. Renders the component on changes.\n    componentWillMount: ->\n        # Uses `forceUpdate` with the proper scope because React doesn't allow\n        # to rebind its scope on the fly\n        @onRoute = (params) =>\n            {firstPanel, secondPanel} = params\n            if firstPanel?\n                @checkAccount firstPanel.action\n            if secondPanel?\n                @checkAccount secondPanel.action\n            @forceUpdate()\n\n        @props.router.on 'fluxRoute', @onRoute\n\n    checkAccount: (action) ->\n        # \"special\" mailboxes must be set before accessing to the account\n        # otherwise, redirect to account config\n        account = @state.selectedAccount\n        if (account?)\n            if not account.get('draftMailbox')? or\n               not account.get('sentMailbox')? or\n               not account.get('trashMailbox')?\n\n                if action is 'account.mailbox.messages' or\n                   action is 'account.mailbox.messages.full' or\n                   action is 'search' or\n                   action is 'message' or\n                   action is 'conversation' or\n                   action is 'compose' or\n                   action is 'edit'\n                    @redirect\n                        direction: 'first'\n                        action: 'account.config'\n                        parameters: [\n                            account.get 'id'\n                            'mailboxes'\n                        ]\n                        fullWidth: true\n                    LayoutActionCreator.alertError t 'account no special mailboxes'\n\n    _notify: (title, options) ->\n        window.cozyMails.notify title, options\n\n    componentDidMount: ->\n        Stores.forEach (store) =>\n            store.on 'notify', @_notify\n\n    componentWillUnmount: ->\n        Stores.forEach (store) =>\n            store.removeListener 'notify', @notify\n        # Stops listening to router changes\n        @props.router.off 'fluxRoute', @onRoute\n\n    # Toggle the menu in responsive mode\n    toggleMenu: (event) ->\n        @setState isResponsiveMenuShown: not @state.isResponsiveMenuShown\n\n","{div, h3, a, i, textarea, form, label, button, span, ul, li, input} = React.DOM\nclasser = React.addons.classSet\n\nFilePicker = require './file_picker'\nMailsInput = require './mails_input'\n\nAccountPicker = require './account_picker'\n\n{ComposeActions} = require '../constants/app_constants'\n\nMessageUtils = require '../utils/message_utils'\n\nLayoutActionCreator  = require '../actions/layout_action_creator'\nMessageActionCreator = require '../actions/message_action_creator'\n\nRouterMixin = require '../mixins/router_mixin'\n\nmodule.exports = Compose = React.createClass\n    displayName: 'Compose'\n\n    mixins: [\n        RouterMixin,\n        React.addons.LinkedStateMixin # two-way data binding\n    ]\n\n    propTypes:\n        selectedAccount: React.PropTypes.object.isRequired\n        layout:          React.PropTypes.string.isRequired\n        accounts:        React.PropTypes.object.isRequired\n        message:         React.PropTypes.object\n        action:          React.PropTypes.string\n        callback:        React.PropTypes.func\n        onCancel:        React.PropTypes.func\n        settings:        React.PropTypes.object.isRequired\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    render: ->\n\n        return unless @props.accounts\n\n        onCancel = =>\n            if @props.onCancel?\n                @props.onCancel()\n            else\n                @redirect @buildUrl\n                    direction: 'first'\n                    action: 'default'\n                    fullWidth: true\n\n        toggleFullscreen = ->\n            LayoutActionCreator.toggleFullscreen()\n\n        closeUrl = @buildClosePanelUrl @props.layout\n\n        classLabel = 'compose-label'\n        classInput = 'compose-input'\n        classCc    = if @state.cc.length is 0 then '' else ' shown'\n        classBcc   = if @state.bcc.length is 0 then '' else ' shown'\n\n        labelSend   = if @state.sending then t 'compose action sending' else t 'compose action send'\n        focusEditor = Array.isArray(@state.to) and @state.to.length > 0 and @state.subject isnt ''\n\n        div id: 'email-compose',\n            if @props.layout isnt 'full'\n                a onClick: toggleFullscreen, className: 'expand pull-right clickable',\n                    i className: 'fa fa-arrows-h'\n            else\n                a onClick: toggleFullscreen, className: 'close-email pull-right clickable',\n                    i className:'fa fa-compress'\n            h3 null,\n                t 'compose'\n            form className: 'form-compose',\n                div className: 'form-group',\n                    label\n                        htmlFor: 'compose-from',\n                        className: classLabel,\n                        t \"compose from\"\n                    div className: classInput,\n                        div\n                            className: 'btn-toolbar compose-toggle',\n                            role: 'toolbar',\n                                div null\n                                    a\n                                        className: 'compose-toggle-cc',\n                                        onClick: @onToggleCc,\n                                        t 'compose toggle cc'\n                                    a\n                                        className: 'compose-toggle-bcc',\n                                        onClick: @onToggleBcc,\n                                        t 'compose toggle bcc'\n\n                        AccountPicker\n                            accounts: @props.accounts\n                            valueLink: @linkState 'accountID'\n                            type: 'address'\n                div className: 'clearfix', null\n\n                MailsInput\n                    id: 'compose-to'\n                    valueLink: @linkState 'to'\n                    label: t 'compose to'\n                    ref: 'to'\n\n                MailsInput\n                    id: 'compose-cc'\n                    className: 'compose-cc' + classCc\n                    valueLink: @linkState 'cc'\n                    label: t 'compose cc'\n                    placeholder: t 'compose cc help'\n\n                MailsInput\n                    id: 'compose-bcc'\n                    className: 'compose-bcc' + classBcc\n                    valueLink: @linkState 'bcc'\n                    label: t 'compose bcc'\n                    placeholder: t 'compose bcc help'\n\n                div className: 'form-group',\n                    label\n                        htmlFor: 'compose-subject',\n                        className: classLabel,\n                        t \"compose subject\"\n                    div className: classInput,\n                        input\n                            id: 'compose-subject',\n                            name: 'compose-subject',\n                            ref: 'subject',\n                            valueLink: @linkState('subject'),\n                            type: 'text',\n                            className: 'form-control',\n                            placeholder: t \"compose subject help\"\n                div className: '',\n                    label\n                        htmlFor: 'compose-subject',\n                        className: classLabel,\n                        t \"compose content\"\n                    ComposeEditor\n                        html: @linkState('html')\n                        text: @linkState('text')\n                        settings: @props.settings\n                        onSend: @onSend\n                        composeInHTML: @state.composeInHTML\n                        focus: focusEditor\n\n                div className: 'attachements',\n                    FilePicker\n                        className: ''\n                        editable: true\n                        valueLink: @linkState 'attachments'\n\n                div className: 'composeToolbox',\n                    div className: 'btn-toolbar', role: 'toolbar',\n                        div className: '',\n                            button\n                                className: 'btn btn-cozy btn-send',\n                                type: 'button',\n                                disable: if @state.sending then true else null\n                                onClick: @onSend,\n                                    if @state.sending\n                                        span className: 'fa fa-refresh fa-spin'\n                                    else\n                                        span className: 'fa fa-send'\n                                    span null, labelSend\n                            button\n                                className: 'btn btn-cozy btn-save',\n                                disable: if @state.saving then true else null\n                                type: 'button', onClick: @onDraft,\n                                    if @state.saving\n                                        span className: 'fa fa-refresh fa-spin'\n                                    else\n                                        span className: 'fa fa-save'\n                                    span null, t 'compose action draft'\n                            if @props.message?\n                                button\n                                    className: 'btn btn-cozy-non-default btn-delete',\n                                    type: 'button',\n                                    onClick: @onDelete,\n                                        span className: 'fa fa-trash-o'\n                                        span null, t 'compose action delete'\n                            button\n                                onClick: onCancel\n                                className: 'btn btn-cozy-non-default btn-cancel',\n                                t 'app cancel'\n                div className: 'clearfix', null\n\n    _initCompose: ->\n\n        if @_saveInterval\n            window.clearInterval @_saveInterval\n        @_saveInterval = window.setInterval @_autosave, 30000\n\n        # scroll compose window into view\n        @getDOMNode().scrollIntoView()\n\n        # Focus\n        if not Array.isArray(@state.to) or @state.to.length is 0\n            setTimeout ->\n                document.getElementById('compose-to').focus()\n            , 0\n\n    componentDidMount: ->\n        @_initCompose()\n\n    #componentDidUpdate: ->\n    #    @_initCompose()\n\n    componentWillUnmount: ->\n        if @_saveInterval\n            window.clearInterval @_saveInterval\n        #if @state.isDraft and @state.id?\n        #    if not window.confirm(t 'compose confirm keep draft')\n        #        MessageActionCreator.delete @state.id, (error) ->\n        #            if error?\n        #                LayoutActionCreator.alertError \"#{t(\"message action delete ko\")} #{error}\"\n        #            else\n        #                LayoutActionCreator.notify t('compose draft deleted')\n\n    getInitialState: (forceDefault) ->\n\n        # edition of an existing draft\n        if message = @props.message\n            state =\n                composeInHTML: @props.settings.get 'composeInHTML'\n            if (not message.get('html')?) and message.get('text')\n                state.conposeInHTML = false\n\n            # TODO : smarter ?\n            state[key] = value for key, value of message.toJS()\n            # we want the immutable attachments\n            state.attachments = message.get 'attachments'\n\n        # new draft\n        else\n            state = MessageUtils.makeReplyMessage @props.inReplyTo, @props.action,\n                @props.settings.get 'composeInHTML'\n            state.accountID ?= @props.selectedAccount.get 'id'\n\n        state.sending = false\n        state.saving  = false\n        return state\n\n    componentWillReceiveProps: (nextProps) ->\n        if nextProps.message isnt @props.message\n            @props.message = nextProps.message\n            @setState @getInitialState()\n\n    onDraft: (args) ->\n        @_doSend true\n\n    onSend: (args) ->\n        @_doSend false\n\n    _doSend: (isDraft) ->\n\n        account = @props.accounts.get @state.accountID\n\n        from =\n            name: account?.get('name') or undefined\n            address: account.get('login')\n\n        unless ~from.address.indexOf '@'\n            from.address += '@' + account.get('imapServer')\n\n        message =\n            id          : @state.id\n            accountID   : @state.accountID\n            mailboxIDs  : @state.mailboxIDs\n            from        : [from]\n            to          : @state.to\n            cc          : @state.cc\n            bcc         : @state.bcc\n            subject     : @state.subject\n            isDraft     : isDraft\n            attachments : @state.attachments\n\n        valid = true\n        if not isDraft\n            if @state.to.length is 0 and @state.cc.length is 0 and @state.bcc.length is 0\n                valid = false\n                LayoutActionCreator.alertError t \"compose error no dest\"\n                setTimeout ->\n                    document.getElementById('compose-to').focus()\n                , 0\n            else if @state.subject is ''\n                valid = false\n                LayoutActionCreator.alertError t \"compose error no subject\"\n                setTimeout =>\n                    @refs.subject.getDOMNode().focus()\n                , 0\n\n        if valid\n            if @state.composeInHTML\n                message.html = @state.html\n                try\n                    message.text = toMarkdown(message.html)\n                catch\n                    message.text = message.html?replace /<[^>]*>/gi, ''\n\n                # convert HTML entities\n                tmp = document.createElement 'div'\n                tmp.innerHTML = message.text\n                message.text = tmp.textContent\n            else\n                message.text = @state.text.trim()\n\n            if not isDraft and @_saveInterval\n                window.clearInterval @_saveInterval\n\n            if isDraft\n                @setState saving: true\n            else\n                @setState sending: true\n\n            MessageActionCreator.send message, (error, message) =>\n                if isDraft\n                    @setState saving: false\n                else\n                    @setState sending: false\n                if isDraft\n                    msgKo = t \"message action draft ko\"\n                    msgOk = t \"message action draft ok\"\n                else\n                    msgKo = t \"message action sent ko\"\n                    msgOk = t \"message action sent ok\"\n                if error?\n                    LayoutActionCreator.alertError \"#{msgKo} :  error\"\n                else\n                    LayoutActionCreator.notify msgOk, autoclose: true\n                    @setState message\n\n                    if not isDraft\n                        if @props.callback?\n                            @props.callback error\n                        else\n                            @redirect @buildClosePanelUrl @props.layout\n\n    _autosave: ->\n        @_doSend true\n\n    onDelete: (args) ->\n        if window.confirm(t 'mail confirm delete', {subject: @props.message.get('subject')})\n            MessageActionCreator.delete @props.message, (error) =>\n                if error?\n                    LayoutActionCreator.alertError \"#{t(\"message action delete ko\")} #{error}\"\n                else\n                    if @props.callback\n                        @props.callback()\n                    else\n                        @redirect\n                            direction: 'first'\n                            action: 'account.mailbox.messages'\n                            parameters: [@props.selectedAccount.get('id'), @props.selectedMailboxID, 1]\n                            fullWidth: true\n\n    onToggleCc: (e) ->\n        toggle = (e) -> e.classList.toggle 'shown'\n        toggle e for e in @getDOMNode().querySelectorAll '.compose-cc'\n\n    onToggleBcc: (e) ->\n        toggle = (e) -> e.classList.toggle 'shown'\n        toggle e for e in @getDOMNode().querySelectorAll '.compose-bcc'\n\n\nComposeEditor = React.createClass\n    displayName: 'ComposeEditor'\n\n    mixins: [\n        React.addons.LinkedStateMixin # two-way data binding\n    ]\n\n    getInitialState: ->\n        return {\n            html: @props.html\n            text: @props.text\n        }\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    render: ->\n        onHTMLChange = (event) =>\n            @props.html.requestChange @refs.html.getDOMNode().innerHTML\n        onTextChange = (event) =>\n            @props.text.requestChange @refs.content.getDOMNode().value\n        if @props.settings.get 'composeOnTop'\n            folded = 'folded'\n        else\n            folded = ''\n        if @props.composeInHTML\n            div\n                className: \"rt-editor form-control #{folded}\",\n                ref: 'html',\n                contentEditable: true,\n                onKeyDown: @onKeyDown,\n                onInput: onHTMLChange,\n                dangerouslySetInnerHTML: {\n                    __html: @state.html.value\n                }\n        else\n            textarea\n                className: 'editor',\n                ref: 'content',\n                onKeyDown: @onKeyDown,\n                onChange: onTextChange,\n                defaultValue: @state.text.value\n\n    _initCompose: ->\n\n        if @props.composeInHTML\n            if @props.focus\n                node = @refs.html?.getDOMNode()\n                if not node?\n                    return\n                setTimeout ->\n                    jQuery(node).focus()\n                , 0\n                if not @props.settings.get 'composeOnTop'\n                    node.innerHTML += \"<p><br /></p>\"\n                    node = node.lastChild\n                    if node?\n                        # move cursor to the bottom\n                        node.scrollIntoView(false)\n                        node.innerHTML = \"<br \\>\"\n                        s = window.getSelection()\n                        r = document.createRange()\n                        r.selectNodeContents(node)\n                        s.removeAllRanges()\n                        s.addRange(r)\n                        document.execCommand('delete', false, null)\n\n            # Some DOM manipulation when replying inside the message.\n            # When inserting a new line, we must close all blockquotes,\n            # insert a blank line and then open again blockquotes\n            jQuery('#email-compose .rt-editor').on('keypress', (e) ->\n                if e.keyCode is 13\n                    # timeout to let the editor perform its own stuff\n                    setTimeout ->\n                        matchesSelector = document.documentElement.matches or\n                              document.documentElement.matchesSelector or\n                              document.documentElement.webkitMatchesSelector or\n                              document.documentElement.mozMatchesSelector or\n                              document.documentElement.oMatchesSelector or\n                              document.documentElement.msMatchesSelector\n\n                        target = document.getSelection().anchorNode\n                        if not target?\n                            return\n                        if matchesSelector? and not matchesSelector.call(target, '.rt-editor blockquote *')\n                            # we are not inside a blockquote, nothing to do\n                            return\n\n                        if target.lastChild\n                            target = target.lastChild.previousElementSibling\n                        parent = target\n\n                        # alternative 1\n                        # we create 2 ranges, one from the begining of message\n                        # to the caret position, the second from caret to the\n                        # end. We then create fragments from the ranges and\n                        # override message with first fragment, a blank line\n                        # and second fragment\n                        process = ->\n                            current = parent\n                            parent = parent?.parentNode\n                        process()\n                        process() while (parent? and\n                            not parent.classList.contains 'rt-editor')\n                        rangeBefore = document.createRange()\n                        rangeBefore.setEnd target, 0\n                        rangeBefore.setStartBefore parent.firstChild\n                        rangeAfter = document.createRange()\n                        if target.nextSibling?\n                            # remove the BR the <enter> key probably inserted\n                            rangeAfter.setStart target.nextSibling, 0\n                        else\n                            rangeAfter.setStart target, 0\n                        rangeAfter.setEndAfter parent.lastChild\n                        before = rangeBefore.cloneContents()\n                        after = rangeAfter.cloneContents()\n                        inserted = document.createElement 'p'\n                        inserted.innerHTML = \"<br />\"\n                        parent.innerHTML = \"\"\n                        parent.appendChild before\n                        parent.appendChild inserted\n                        parent.appendChild after\n\n                        ###\n                        # alternative 2\n                        # We move every node from the caret to the end of the\n                        # message to a new DOM tree, then insert a blank line\n                        # and the new tree\n                        parent = target\n                        p2 = null\n                        p3 = null\n                        process = ->\n                            p3 = p2\n                            current = parent\n                            parent = parent.parentNode\n                            p2 = parent.cloneNode false\n                            if p3?\n                                p2.appendChild p3\n                            s = current.nextSibling\n                            while s?\n                                p2.appendChild(s.cloneNode(true))\n                                s2 = s.nextSibling\n                                parent.removeChild s\n                                s = s2\n                        process()\n                        process() while (parent.parentNode? and\n                            not parent.parentNode.classList.contains 'rt-editor')\n                        after = p2\n                        inserted = document.createElement 'p'\n                        inserted.innerHTML = \"<br />\"\n                        if parent.nextSibling\n                            parent.parentNode.insertBefore inserted, parent.nextSibling\n                            parent.parentNode.insertBefore after, parent.nextSibling\n                        else\n                            parent.parentNode.appendChild inserted\n                            parent.parentNode.appendChild after\n                        ###\n\n                        setTimeout ->\n                            inserted.focus()\n                        , 0\n                        sel = window.getSelection()\n                        sel.collapse inserted, 0\n\n                    , 0\n            )\n            # Allow to hide original message\n            jQuery('#email-compose .rt-editor .originalToggle').on('click', ->\n                jQuery('#email-compose .rt-editor').toggleClass('folded')\n            )\n        else\n            # Text message\n            if @props.focus\n                node = @refs.content.getDOMNode()\n                if not @props.settings.get 'composeOnTop'\n                    rect = node.getBoundingClientRect()\n                    node.scrollTop = node.scrollHeight - rect.height\n                    if (typeof node.selectionStart is \"number\")\n                        node.selectionStart = node.selectionEnd = node.value.length\n                    else if (typeof node.createTextRange isnt \"undefined\")\n                        setTimeout ->\n                            node.focus()\n                        , 0\n                        range = node.createTextRange()\n                        range.collapse(false)\n                        range.select()\n                setTimeout ->\n                    node.focus()\n                , 0\n\n    componentDidMount: ->\n        @_initCompose()\n\n    #componentDidUpdate: ->\n    #    @_initCompose()\n\n    onKeyDown: (evt) ->\n        if evt.ctrlKey and evt.key is 'Enter'\n            @props.onSend()\n","{div, form, input, span, ul, li, a, img, i} = React.DOM\nclasser = React.addons.classSet\n\nContactActionCreator = require '../actions/contact_action_creator'\nContactStore    = require '../stores/contact_store'\nStoreWatchMixin = require '../mixins/store_watch_mixin'\n\nRouterMixin = require '../mixins/router_mixin'\n\nmodule.exports = React.createClass\n    displayName: 'ContactForm'\n\n    mixins: [\n        StoreWatchMixin [ContactStore]\n        RouterMixin\n    ]\n\n    getStateFromStores: ->\n        query = @refs.contactInput?.getDOMNode().value.trim()\n        return {\n            contacts: if query?.length > 2 then ContactStore.getResults() else null\n            selected: 0\n        }\n\n    componentWillMount: ->\n        @setState contacts: null\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    render: ->\n        listClass = if @state.contacts?.length > 0 then 'open' else ''\n        current = 0\n\n        form className: \"contact-form\",\n            div null,\n                div className: 'input-group',\n                    input\n                        className: 'form-control search-input',\n                        type: 'text',\n                        placeholder: t('contact form placeholder'),\n                        onKeyDown: @onKeyDown,\n                        ref: 'contactInput',\n                        defaultValue: @props.query\n                    div\n                        className: 'input-group-addon btn btn-cozy search-btn',\n                        onClick: @onSubmit,\n                            span className: 'fa fa-search'\n\n            if @state.contacts?\n                div className: listClass,\n                    ul className: \"contact-list\",\n                        @state.contacts.map (contact, key) =>\n                            selected = current is @state.selected\n                            current++\n                            @renderContact contact, selected\n                        .toJS()\n\n\n    renderContact: (contact, selected) ->\n        selectContact = =>\n            @props.onContact contact\n        avatar = contact.get 'avatar'\n\n        classes = classer\n            selected: selected\n\n        li className: classes, onClick: selectContact,\n            a null,\n                if avatar?\n                    img\n                        className: 'avatar'\n                        src: avatar\n                else\n                    i className: 'avatar fa fa-user'\n                \"#{contact.get 'fn'} <#{contact.get 'address'}>\"\n\n\n    onSubmit: ->\n        query = @refs.contactInput.getDOMNode().value.trim()\n        if query.length > 2\n            ContactActionCreator.searchContactLocal query\n\n    onKeyDown: (evt) ->\n        switch evt.key\n            when \"Tab\"\n                @onSubmit()\n                evt.preventDefault()\n                return false\n            when \"Enter\"\n                if @state.contacts?.count() > 0\n                    @props.onContact\n                    contact = @state.contacts.slice(@state.selected).first()\n                    @props.onContact contact\n                else\n                    @onSubmit()\n                evt.preventDefault()\n                return false\n            when \"ArrowUp\"\n                @setState selected: if @state.selected is 0 then @state.contacts.count() - 1 else @state.selected - 1\n            when \"ArrowDown\"\n                @setState selected: if @state.selected is (@state.contacts.count() - 1) then 0 else @state.selected + 1\n","{div, ul, li, span, i, p, h3, a} = React.DOM\nMessage = require './message'\nclasser = React.addons.classSet\n\nLayoutActionCreator = require '../actions/layout_action_creator'\n\nRouterMixin = require '../mixins/router_mixin'\n{MessageFlags} = require '../constants/app_constants'\n\nmodule.exports = React.createClass\n    displayName: 'Conversation'\n\n    mixins: [RouterMixin]\n\n    propTypes:\n        message           : React.PropTypes.object\n        conversation      : React.PropTypes.object\n        selectedAccount   : React.PropTypes.object.isRequired\n        layout            : React.PropTypes.string.isRequired\n        selectedMailboxID : React.PropTypes.string\n        mailboxes         : React.PropTypes.object.isRequired\n        settings          : React.PropTypes.object.isRequired\n        accounts          : React.PropTypes.object.isRequired\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or\n               not(_.isEqual(nextProps, @props))\n\n    getInitialState: ->\n        expanded: not @props.settings.get('displayConversation')\n\n    expand: ->\n        @setState expanded: true\n\n    renderMessage: (key, message, active) ->\n        Message\n            accounts: @props.accounts\n            active: active\n            inConversation: @props.conversation.length > 1\n            key: key\n            mailboxes: @props.mailboxes\n            message: message\n            nextID: @props.nextID\n            prevID: @props.prevID\n            selectedAccount: @props.selectedAccount\n            selectedMailboxID: @props.selectedMailboxID\n            settings: @props.settings\n\n    render: ->\n        if not @props.message? or not @props.conversation\n            return p null, t \"app loading\"\n\n        expandUrl = @buildUrl\n            direction: 'first'\n            action: 'message'\n            parameters: @props.message.get 'id'\n            fullWidth: true\n\n        if window.router.previous?\n            try\n                selectedAccountID = @props.selectedAccount.get 'id'\n            catch\n                selectedAccountID = @props.conversation.get(0).mailbox\n        else\n            selectedAccountID = @props.conversation.get(0).mailbox\n\n        if @props.layout is 'full'\n            closeUrl = @buildUrl\n                direction: 'first'\n                action: 'account.mailbox.messages'\n                parameters: selectedAccountID\n                fullWidth: true\n        else\n            closeUrl = @buildClosePanelUrl @props.layout\n\n        closeIcon = if @props.layout is 'full' then 'fa-th-list' else 'fa-times'\n\n        otherMessages = {}\n        activeMessages = {}\n\n        @props.conversation.map (message, key) =>\n            if @props.message.get('id') is message.get('id') or\n                    MessageFlags.SEEN not in message.get('flags')\n\n                activeMessages[key] = message\n\n            else\n                otherMessages[key] = message\n\n        .toJS()\n\n        toggleFullscreen = ->\n            LayoutActionCreator.toggleFullscreen()\n\n        div className: 'conversation',\n\n            if @props.layout isnt 'full'\n                a\n                    onClick: toggleFullscreen\n                    className: 'expand hidden-xs hidden-sm clickable',\n                        i className: 'fa fa-arrows-h'\n            else\n                a\n                    onClick: toggleFullscreen\n                    className: 'compress clickable',\n                        i className:'fa fa-compress'\n\n            h3 className: 'message-title',\n                @props.message.get 'subject'\n\n            ul className: 'thread list-unstyled',\n\n                if @state.expanded\n                    for key, message of otherMessages\n                        @renderMessage key, message, false\n\n                else if @props.conversationLength > 1\n                    li className: 'conversation-length-msg',\n                        a onClick: @expand,\n                            t 'mail conversation length',\n                                smart_count: @props.conversationLength\n\n                for key, message of activeMessages\n                    @renderMessage key, message, true\n","{div, form, input, ul, li, span, i, a} = React.DOM\n\nMessageUtils = require '../utils/message_utils'\n\n\n# file picker file format = mailparser result\nFileShape = React.PropTypes.shape\n    fileName           : React.PropTypes.string\n    length             : React.PropTypes.number\n    contentType        : React.PropTypes.string\n    generatedFileName  : React.PropTypes.string\n    contentDisposition : React.PropTypes.string\n    contentId          : React.PropTypes.string\n    transferEncoding   : React.PropTypes.string\n    # one or the other\n    rawFileObject      : React.PropTypes.object\n    url                : React.PropTypes.string\n\n###\n# File picker\n#\n# Available props\n# - editable: boolean (false)\n# - files: array\n# - form: boolean (true) embed component inside a form element\n# - valueLink: a ReactLink for files\n###\n\nFilePicker = React.createClass\n    displayName: 'FilePicker'\n\n    propTypes:\n        editable: React.PropTypes.bool\n        display:  React.PropTypes.func\n        value:    React.PropTypes.instanceOf Immutable.Vector\n        valueLink: React.PropTypes.shape\n            value: React.PropTypes.instanceOf Immutable.Vector\n            requestChange: React.PropTypes.func\n\n\n    getDefaultProps: ->\n        editable: false\n        valueLink:\n            value: Immutable.Vector.empty()\n            requestChange: ->\n\n    getInitialState: ->\n        files: @props.value or @props.valueLink.value\n\n    componentWillReceiveProps: (props) ->\n        @setState files: props.value or props.valueLink.value\n\n    addFiles: (files) ->\n        files = @state.files.concat(files).toVector()\n\n        @props.valueLink.requestChange files\n\n    deleteFile: (file) ->\n        files = @state.files.filter (f) ->\n            f.get('generatedFileName') isnt file.generatedFileName\n        .toVector()\n\n        @props.valueLink.requestChange files\n\n    displayFile: (file) ->\n        if file.url\n            window.open file.url\n        else if file.rawFileObject\n            window.open URL.createObjectURL file.rawFileObject\n        else console.log \"broken file : \", file\n\n    render: ->\n        className = 'file-picker'\n        className += \" #{@props.className}\" if @props.className\n        div className: className,\n            ul className: 'files list-unstyled',\n                @state.files.toJS().map (file) =>\n                    FileItem\n                        key: file.generatedFileName\n                        file: file\n                        editable: @props.editable\n                        delete: => @deleteFile file\n                        display: => @displayFile file\n\n            if @props.editable\n                div null,\n                    # triggering \"click\" won't work if file input is hidden\n                    span className: \"file-wrapper\",\n                        input\n                            type: \"file\",\n                            multiple: \"multiple\",\n                            ref: \"file\",\n                            onChange: @handleFiles\n                    div\n                        className: \"dropzone\",\n                        ref: \"dropzone\",\n                        onDragOver: @allowDrop,\n                        onDrop: @handleFiles,\n                        onClick: @onOpenFile,\n                            i className: \"fa fa-paperclip\"\n                            span null, t \"picker drop here\"\n\n    onOpenFile: (e) ->\n        e.preventDefault()\n        jQuery(@refs.file.getDOMNode()).trigger \"click\"\n\n    allowDrop: (e) ->\n        e.preventDefault()\n\n    handleFiles: (e) ->\n        e.preventDefault()\n        files = e.target.files or e.dataTransfer.files\n        @addFiles (@_fromDOM file for file in files)\n\n    # convert from DOM Files to file picker format\n    _fromDOM: (file) ->\n        idx = @state.files.filter (f) -> f.get('fileName') is file.name\n            .count()\n        name = file.name\n        if idx > 0\n            dotpos = file.name.indexOf '.'\n            name = name.substring(0, dotpos) + '-' + (idx + 1) +\n                name.substring(dotpos)\n\n        return Immutable.Map\n            fileName:           file.name\n            length:             file.size\n            contentType:        file.type\n            rawFileObject:      file\n            generatedFileName:  name\n            contentDisposition: null\n            contentId:          null\n            transferEncoding:   null\n            content:            null\n            url:                null\n\n\n            # reader = new FileReader()\n            # reader.readAsDataURL(file)\n            # reader.onloadend = (e) =>\n            #     txt = e.target.result\n            #     file.content = txt\n            #     currentFiles.push file\n            #     parsed++\n            #     if parsed is files.length\n            #         @props.valueLink.requestChange currentFiles\n            #         @setState {files: currentFiles }\n\n\n\n\nmodule.exports = FilePicker\n\n###\n# Display a file item\n#\n# Props:\n#  - file\n#  - editable: boolean (false) allow to delete file\n#  - (display): function\n#  - (delete): function\n###\nFileItem = React.createClass\n    displayName: 'FileItem'\n\n    propTypes:\n        file: React.PropTypes.shape({\n            fileName: React.PropTypes.string\n            contentType: React.PropTypes.string\n            length: React.PropTypes.number\n        }).isRequired\n        editable: React.PropTypes.bool\n        display:  React.PropTypes.func\n        delete:   React.PropTypes.func\n\n    getDefaultProps: ->\n        return {\n            editable: false\n        }\n\n    getInitialState: ->\n        return {}\n\n    render: ->\n        file = @props.file\n        type = MessageUtils.getAttachmentType file.contentType\n        icons =\n            'archive'      : 'fa-file-archive-o'\n            'audio'        : 'fa-file-audio-o'\n            'code'         : 'fa-file-code-o'\n            'image'        : 'fa-file-image-o'\n            'pdf'          : 'fa-file-pdf-o'\n            'word'         : 'fa-file-word-o'\n            'presentation' : 'fa-file-powerpoint-o'\n            'spreadsheet'  : 'fa-file-excel-o'\n            'text'         : 'fa-file-text-o'\n            'video'        : 'fa-file-video-o'\n            'word'         : 'fa-file-word-o'\n        iconClass = icons[type] or 'fa-file-o'\n\n        li className: \"file-item\", key: file.name,\n            i className: \"mime #{type} fa #{iconClass}\"\n            if @props.editable\n                i className: \"fa fa-times delete\", onClick: @doDelete\n            a\n                className: 'file-name',\n                target: '_blank',\n                onClick: @doDisplay,\n                href: file.url\n                'data-file-url': file.url\n                'data-file-name': file.generatedFileName\n                'data-file-type': file.contentType\n                file.generatedFileName\n\n            div className: 'file-detail',\n                span null,\n                    \"#{(file.length / 1000).toFixed(2)}Ko\"\n                span className: 'file-actions',\n                    a\n                        className: \"fa fa-download\"\n                        href: \"#{file.url}?download=1\"\n\n    doDisplay: (e) ->\n        e.preventDefault()\n        e.stopPropagation()\n        @props.display()\n\n    doDelete: (e) ->\n        e.preventDefault()\n        e.stopPropagation()\n        @props.delete()\n","{div, ul, li, span, a, button} = React.DOM\n\nRouterMixin = require '../mixins/router_mixin'\n\nmodule.exports = React.createClass\n    displayName: 'MailboxList'\n\n    mixins: [RouterMixin]\n\n    onChange: (boxid) ->\n        @props.onChange? boxid\n\n    render: ->\n        selectedId = @props.selectedMailbox\n        if @props.mailboxes? and @props.mailboxes.length > 0\n            if selectedId?\n                selected = @props.mailboxes.get selectedId\n            div className: 'btn-group btn-group-sm dropdown pull-left',\n                button\n                    className: 'btn btn-default dropdown-toggle',\n                    type: 'button',\n                    'data-toggle': 'dropdown',\n                    selected?.get('label') or t 'mailbox pick one'\n                        span className: 'caret', ''\n                ul className: 'dropdown-menu', role: 'menu',\n                    if @props.allowUndefined and selected\n                        li\n                            role: 'presentation',\n                            key: null,\n                            onClick: @onChange.bind(this, null),\n                                a role: 'menuitem', t 'mailbox pick null'\n\n                    @props.mailboxes.map (mailbox, key) =>\n                        if mailbox.get('id') isnt selectedId\n                            @getMailboxRender mailbox, key\n                    .toJS()\n        else\n            # no account selected\n            div null, \"\"\n\n\n    getMailboxRender: (mailbox, key) ->\n        url = @props.getUrl?(mailbox)\n        onChange = @onChange.bind(this, key)\n\n        # Mark nested levels with \"--\" because plain space\n        # just doesn't work for some reason\n        pusher = \"\"\n        pusher += \"--\" for i in [1..mailbox.get('depth')] by 1\n\n        li role: 'presentation', key: key, onClick: onChange,\n            if url?\n                a href: url, role: 'menuitem', \"#{pusher}#{mailbox.get 'label'}\"\n            else\n                a role: 'menuitem', \"#{pusher}#{mailbox.get 'label'}\"\n\n","{div, label, input, span, ul, li, a, img, i} = React.DOM\n\nMessageUtils    = require '../utils/message_utils'\nContactForm     = require './contact-form'\nModal           = require './modal'\nStoreWatchMixin = require '../mixins/store_watch_mixin'\nContactStore    = require '../stores/contact_store'\nContactActionCreator = require '../actions/contact_action_creator'\n\nclasser = React.addons.classSet\n\n# Public: input to enter multiple mails\n# @TODO : use something tag-it like\n# @TODO : autocomplete contacts\n\nmodule.exports = MailsInput = React.createClass\n    displayName: 'MailsInput'\n\n    mixins: [\n        React.addons.LinkedStateMixin # two-way data binding\n        StoreWatchMixin [ContactStore]\n    ]\n\n    getStateFromStores: ->\n        query = @refs.contactInput?.getDOMNode().value.trim()\n        return {\n            contacts: if query?.length > 0 then ContactStore.getResults() else null\n            selected: 0\n            open: false\n        }\n\n    componentWillMount: ->\n        @setState contacts: null, open: false\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    # convert mailslist between human-readable and [{address, name}]\n    proxyValueLink: ->\n        value: MessageUtils.displayAddresses @props.valueLink.value, true\n        requestChange: (newValue) =>\n            # reverse of MessageUtils.displayAddresses full\n            result = newValue.split(',').map (tupple) ->\n                if match = tupple.match /\"(.*)\" <(.*)>/\n                    name: match[1], address: match[2]\n                else\n                    address: tupple.trim()\n\n            @props.valueLink.requestChange result\n\n    render: ->\n        className  = (@props.className or '') + ' form-group'\n        classLabel = 'compose-label control-label'\n        listClass  = classer\n            'contact-form': true\n            open: @state.open and @state.contacts?.length > 0\n        current    = 0\n\n        div className: className,\n            label htmlFor: @props.id, className: classLabel,\n                @props.label\n            div className: 'contact-group dropdown ' + listClass,\n                input\n                    id: @props.id,\n                    name: @props.id,\n                    className: 'form-control compose-input',\n                    onKeyDown: @onKeyDown,\n                    onBlur: @onBlur,\n                    ref: 'contactInput'\n                    valueLink: @proxyValueLink(),\n                    type: 'text',\n                    placeholder: @props.placeholder\n                div\n                    className: 'input-group-addon btn btn-cozy contact',\n                    onClick: @onQuery,\n                        span className: 'fa fa-search'\n\n                if @state.contacts?\n                    ul className: \"dropdown-menu contact-list\",\n                        @state.contacts.map (contact, key) =>\n                            selected = current is @state.selected\n                            current++\n                            @renderContact contact, selected\n                        .toJS()\n\n    renderContact: (contact, selected) ->\n        selectContact = =>\n            @onContact contact\n        avatar = contact.get 'avatar'\n\n        classes = classer\n            selected: selected\n\n        li className: classes, onClick: selectContact,\n            a null,\n                if avatar?\n                    img\n                        className: 'avatar'\n                        src: avatar\n                else\n                    i className: 'avatar fa fa-user'\n                \"#{contact.get 'fn'} <#{contact.get 'address'}>\"\n\n    onQuery: (char) ->\n        query = @refs.contactInput.getDOMNode().value.split(',').pop().trim()\n        if char? and typeof char is 'String'\n            query += char\n        if query.length > 0\n            ContactActionCreator.searchContactLocal query\n            @setState open: true\n            return true\n        else\n            if @state.open\n                @setState contacts: null, open: false\n            return false\n\n    onKeyDown: (evt) ->\n        switch evt.key\n            when \"Enter\"\n                if @state.contacts?.count() > 0\n                    @onContact\n                    contact = @state.contacts.slice(@state.selected).first()\n                    @onContact contact\n                else\n                    @onQuery()\n                evt.preventDefault()\n                return false\n            when \"ArrowUp\"\n                @setState selected: if @state.selected is 0 then @state.contacts.count() - 1 else @state.selected - 1\n            when \"ArrowDown\"\n                @setState selected: if @state.selected is (@state.contacts.count() - 1) then 0 else @state.selected + 1\n            when \"Backspace\"\n                # hack needed because proxyValueLink prevent deleting empty contact\n                node = @refs.contactInput.getDOMNode()\n                node.value = node.value.trim()\n                if node.value.length < 2\n                    @setState open: false\n            when \"Escape\"\n                @setState contacts: null, open: false\n            else\n                if (evt.key? or evt.key.toString().length is 1)\n                    @onQuery(String.fromCharCode(evt.which))\n                    return true\n\n    onBlur: ->\n        @setState open: false\n\n    onContact: (contact) ->\n        val = @proxyValueLink()\n        if @props.valueLink.value.length > 0\n            current = val.value.split(',').slice(0, -1).join(',')\n        else\n            current = \"\"\n        if current.trim() isnt ''\n            current += ','\n        name    = contact.get 'fn'\n        address = contact.get 'address'\n        val.requestChange \"#{current}#{name} <#{address}>,\"\n        @setState contacts: null, open: false\n","{div, ul, li, a, span, i} = React.DOM\n\nclasser = React.addons.classSet\n\nRouterMixin          = require '../mixins/router_mixin'\nLayoutActionCreator  = require '../actions/layout_action_creator'\nMessageActionCreator = require '../actions/message_action_creator'\nAccountStore         = require '../stores/account_store'\nModal                = require './modal'\nThinProgress         = require './thin_progress'\n\n{Dispositions, SpecialBoxIcons} = require '../constants/app_constants'\n\nmodule.exports = Menu = React.createClass\n    displayName: 'Menu'\n\n    mixins: [RouterMixin]\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or\n               not(_.isEqual(nextProps, @props))\n\n    getInitialState: ->\n        displayActiveAccount: true\n        modalErrors: null\n        onlyFavorites: true\n\n    componentWillReceiveProps: (props) ->\n        if not Immutable.is(props.selectedAccount, @props.selectedAccount)\n            @setState displayActiveAccount: true\n\n\n    displayErrors: (refreshee) ->\n        @setState modalErrors: refreshee.get 'errors'\n\n    hideErrors: ->\n        @setState modalErrors: null\n\n    render: ->\n\n        if @props.accounts.length\n            selectedAccountUrl = @buildUrl\n                direction: 'first'\n                action: 'account.mailbox.messages'\n                parameters: @props.selectedAccount?.get 'id'\n                fullWidth: true\n        else\n            selectedAccountUrl = @buildUrl\n                direction: 'first'\n                action: 'account.new'\n                fullWidth: true\n\n        # the button toggles the \"compose\" screen\n        if @props.layout.firstPanel.action is 'compose' or\n           @props.layout.secondPanel?.action is 'compose'\n            composeClass = 'active'\n            composeUrl = selectedAccountUrl\n        else\n            composeClass = ''\n            composeUrl = @buildUrl\n                direction: 'first'\n                action: 'compose'\n                parameters: null\n                fullWidth: true\n\n        # the button toggle the \"new account\" screen\n        if @props.layout.firstPanel.action is 'account.new'\n            newMailboxClass = 'active'\n            newMailboxUrl = selectedAccountUrl\n        else\n            newMailboxClass = ''\n            newMailboxUrl = @buildUrl\n                direction: 'first'\n                action: 'account.new'\n                fullWidth: true\n\n        # the button toggles the \"settings\" screen\n        if @props.layout.firstPanel.action is 'settings' or\n           @props.layout.secondPanel?.action is 'settings'\n            settingsClass = 'active'\n            settingsUrl = selectedAccountUrl\n        else\n            settingsClass = ''\n            settingsUrl = @buildUrl\n                direction: 'first'\n                action: 'settings'\n                fullWidth: true\n\n        if @state.modalErrors\n            title       = t 'modal please contribute'\n            subtitle    = t 'modal please report'\n            modalErrors = @state.modalErrors\n            closeModal  = @hideErrors\n            closeLabel  = t 'app alert close'\n            content = React.DOM.pre\n                style: \"max-height\": \"300px\",\n                \"word-wrap\": \"normal\",\n                    @state.modalErrors.join \"\\n\\n\"\n            modal = Modal {title, subtitle, content, closeModal, closeLabel}\n        else\n            modal = null\n        classes = classer\n            'hidden-xs hidden-sm': not @props.isResponsiveMenuShown\n            'col-xs-4': true\n            'col-md-1': @props.disposition.type isnt Dispositions.THREE\n            'col-md-3': @props.disposition.type is Dispositions.THREE\n            'three': @props.disposition.type is Dispositions.THREE\n\n        div id: 'menu', className: classes,\n\n            modal\n\n            unless @props.accounts.length is 0\n                a\n                    href: composeUrl,\n                    onClick: @_hideMenu\n                    className: 'menu-item compose-action ' + composeClass,\n                        i className: 'fa fa-edit'\n                        span className: 'item-label', t 'menu compose'\n\n            if @props.accounts.length isnt 0\n                ul id: 'account-list', className: 'list-unstyled',\n                    @props.accounts.map (account, key) =>\n                        @getAccountRender account, key\n                    .toJS()\n\n            a\n                href: newMailboxUrl,\n                onClick: @_hideMenu\n                className: 'menu-item new-account-action ' + newMailboxClass,\n                    i className: 'fa fa-inbox'\n                    span className: 'item-label', t 'menu account new'\n\n            a\n                href: settingsUrl,\n                onClick: @_hideMenu\n                className: 'menu-item settings-action ' + settingsClass,\n                    i className: 'fa fa-cog'\n                    span className: 'item-label', t 'menu settings'\n\n\n    # renders a single account and its submenu\n    getAccountRender: (account, key) ->\n\n        isSelected = (not @props.selectedAccount? and key is 0) \\\n                     or @props.selectedAccount?.get('id') is account.get('id')\n\n        accountID = account.get 'id'\n        defaultMailbox = AccountStore.getDefaultMailbox accountID\n        refreshes = @props.refreshes\n\n        if defaultMailbox?\n            url = @buildUrl\n                direction: 'first'\n                action: 'account.mailbox.messages'\n                parameters: [accountID, defaultMailbox?.get 'id']\n                fullWidth: true # /!\\ Hide second panel when switching account\n        else\n            # Go to account settings to add mailboxes\n            url = @buildUrl\n                direction: 'first'\n                action: 'account.config'\n                parameters: [accountID, 'account']\n                fullWidth: true # /!\\ Hide second panel when switching account\n\n        toggleActive = =>\n            if not @state.displayActiveAccount\n                @setState displayActiveAccount: true\n            @_hideMenu()\n\n        toggleDisplay = =>\n            if isSelected\n                @setState displayActiveAccount: not @state.displayActiveAccount\n            else\n                @setState displayActiveAccount: true\n\n        toggleFavorites = =>\n            @setState onlyFavorites: not @state.onlyFavorites\n\n\n        accountClasses = classer\n            active: (isSelected and @state.displayActiveAccount)\n\n        if @state.onlyFavorites\n            mailboxes = @props.favorites\n            icon = 'fa-toggle-down'\n            toggleFavoritesLabel = t 'menu favorites off'\n        else\n            mailboxes = @props.mailboxes\n            icon = 'fa-toggle-up'\n            toggleFavoritesLabel = t 'menu favorites on'\n\n        li className: accountClasses, key: key,\n            a\n                href: url,\n                className: 'menu-item account ' + accountClasses,\n                onClick: toggleActive,\n                onDoubleClick: toggleDisplay,\n                'data-toggle': 'tooltip',\n                'data-delay': '10000',\n                'data-placement' : 'right',\n                    i className: 'fa fa-inbox'\n                    span\n                        'data-account-id': key,\n                        className: 'item-label',\n                        account.get 'label'\n\n                if progress = refreshes.get accountID\n                    if progress.get('errors').length\n                        span className: 'refresh-error',\n                            i className: 'fa warning', onClick: @displayErrors.bind null, progress\n                    ThinProgress done: progress.get('done'), total: progress.get('total')\n\n            if isSelected\n                ul className: 'list-unstyled submenu mailbox-list',\n                    mailboxes?.map (mailbox, key) =>\n                        selectedMailboxID = @props.selectedMailboxID\n                        MenuMailboxItem { account, mailbox, key, selectedMailboxID, refreshes, displayErrors: @displayErrors, hideMenu: @_hideMenu}\n                    .toJS()\n                    li null,\n                        a\n                            className: 'menu-item',\n                            tabIndex: 0,\n                            onClick: toggleFavorites,\n                            key: 'toggle',\n                                i className: 'fa ' + icon\n                                span\n                                    className: 'item-label',\n                                    toggleFavoritesLabel\n\n    _hideMenu: ->\n        if @props.isResponsiveMenuShown\n            @props.toggleMenu()\n\n    _initTooltips: ->\n        #jQuery('#account-list [data-toggle=\"tooltip\"]').tooltip()\n\n    componentDidMount: ->\n        @_initTooltips()\n\n    componentDidUpdate: ->\n        @_initTooltips()\n\n\nMenuMailboxItem = React.createClass\n    displayName: 'MenuMailboxItem'\n\n    mixins: [RouterMixin]\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or\n               not(_.isEqual(nextProps, @props))\n\n    getInitialState: ->\n        return target: false\n\n    render: ->\n        mailboxID = @props.mailbox.get 'id'\n        mailboxUrl = @buildUrl\n            direction: 'first'\n            action: 'account.mailbox.messages'\n            parameters: [@props.account.get('id'), mailboxID]\n\n        nbTotal  = @props.mailbox.get('nbTotal') or 0\n        nbUnread = @props.mailbox.get('nbUnread') or 0\n        nbRecent = @props.mailbox.get('nbRecent') or 0\n        title    = t \"menu mailbox total\", nbTotal\n        if nbUnread > 0\n            title += t \"menu mailbox unread\", nbUnread\n        if nbRecent > 0\n            title += t \"menu mailbox new\", nbRecent\n\n        classesParent = classer\n            active: mailboxID is @props.selectedMailboxID\n            target: @state.target\n        classesChild = classer\n            'menu-item': true\n            target: @state.target\n            news: nbRecent > 0\n\n        mailboxIcon = 'fa-folder'\n        for attrib, icon of SpecialBoxIcons\n            if @props.account.get(attrib) is mailboxID\n                mailboxIcon = icon\n\n        progress = @props.refreshes.get mailboxID\n        displayError = @props.displayErrors.bind null, progress\n\n        pusher = \"\"\n        pusher += \"\" for j in [1..@props.mailbox.get('depth')] by 1\n\n        li className: classesParent,\n            a\n                href: mailboxUrl,\n                onClick: @props.hideMenu,\n                className: classesChild,\n                'data-mailbox-id': mailboxID,\n                onDragEnter: @onDragEnter,\n                onDragLeave: @onDragLeave,\n                onDragOver: @onDragOver,\n                onDrop: @onDrop,\n                title: title,\n                'data-toggle': 'tooltip',\n                'data-placement' : 'right',\n                key: @props.key,\n                    # Something must be rethought about the icon\n                    i className: 'fa ' + mailboxIcon\n                    if not progress and nbUnread and nbUnread > 0\n                        span className: 'badge', nbUnread\n                    span\n                        className: 'item-label',\n                        \"#{pusher}#{@props.mailbox.get 'label'}\"\n\n                if progress\n                    ThinProgress done: progress.get('done'), total: progress.get('total')\n\n                if progress?.get('errors').length\n                    span className: 'refresh-error', onClick: displayError,\n                        i className: 'fa fa-warning', null\n\n    onDragEnter: (e) ->\n        if not @state.target\n            @setState target: true\n\n    onDragLeave: (e) ->\n        if @state.target\n            @setState target: false\n\n    onDragOver: (e) ->\n        e.preventDefault()\n\n    onDrop: (event) ->\n        {messageID, mailboxID} = JSON.parse(event.dataTransfer.getData 'text')\n        newID = event.currentTarget.dataset.mailboxId\n        @setState target: false\n        MessageActionCreator.move messageID, mailboxID, newID, (error) ->\n            if error?\n                LayoutActionCreator.alertError \"#{t(\"message action move ko\")} #{error}\"\n            else\n                LayoutActionCreator.notify t \"message action move ok\"\n","{div, ul, li, a, span, i, p, button, input, img} = React.DOM\nclasser = React.addons.classSet\n\nRouterMixin    = require '../mixins/router_mixin'\nMessageUtils   = require '../utils/message_utils'\nSocketUtils    = require '../utils/socketio_utils'\n{MessageFlags, MessageFilter, FlagsConstants} = require '../constants/app_constants'\nLayoutActionCreator  = require '../actions/layout_action_creator'\nContactActionCreator = require '../actions/contact_action_creator'\nConversationActionCreator = require '../actions/conversation_action_creator'\nMessageActionCreator = require '../actions/message_action_creator'\nMessageStore   = require '../stores/message_store'\nMailboxList    = require './mailbox-list'\nParticipants   = require './participant'\nToolboxActions = require './toolbox_actions'\nToolboxMove    = require './toolbox_move'\n\nalertError   = LayoutActionCreator.alertError\n\nMessageList = React.createClass\n    displayName: 'MessageList'\n\n    mixins: [RouterMixin]\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    getInitialState: ->\n        return {\n            edited: false\n            filterFlag: false\n            filterUnsead: false\n            selected: {}\n            allSelected: false\n        }\n\n    componentWillReceiveProps: (props) ->\n        if props.mailboxID isnt @props.mailboxID\n            @setState allSelected: false, edited: false, selected: {}\n        else\n            selected = @state.selected\n            Object.keys(selected).forEach (id) ->\n                if not props.messages.get(id)\n                    delete selected[id]\n            @setState selected: selected\n            if Object.keys(selected).length is 0\n                @setState allSelected: false, edited: false\n\n    render: ->\n        compact = @props.settings.get('listStyle') is 'compact'\n        messages = @props.messages.map (message, key) =>\n            id = message.get('id')\n            cid = message.get('conversationID')\n            isActive = @props.messageID is id\n            MessageItem\n                message: message,\n                conversationLength: @props.conversationLengths?.get(cid),\n                key: key,\n                isActive: isActive,\n                edited: @state.edited,\n                settings: @props.settings,\n                selected: @state.selected[id]?,\n                onSelect: (val) =>\n                    selected = _.clone @state.selected\n                    if val\n                        selected[id] = val\n                    else\n                        delete selected[id]\n                    if Object.keys(selected).length > 0\n                        @setState edited: true, selected: selected\n                    else\n                        @setState allSelected: false, edited: false, selected: {}\n\n        .toJS()\n        nbMessages = parseInt @props.counterMessage, 10\n        filterParams =\n            accountID: @props.accountID\n            mailboxID: @props.mailboxID\n            query:     @props.query\n        nextPage = =>\n            LayoutActionCreator.showMessageList parameters: @props.query\n\n        getMailboxUrl = (mailbox) =>\n            @buildUrl\n                direction: 'first'\n                action: 'account.mailbox.messages'\n                parameters: [@props.accountID, mailbox.get('id')]\n\n        configMailboxUrl = @buildUrl\n            direction: 'first'\n            action: 'account.config'\n            parameters: [@props.accountID, 'account']\n            fullWidth: true\n\n        advanced   = @props.settings.get('advanced')\n        nbSelected = if Object.keys(@state.selected).length > 0 then null else true\n\n        showList = =>\n            params = _.clone(MessageStore.getParams())\n            params.accountID = @props.accountID\n            params.mailboxID = @props.mailboxID\n            LayoutActionCreator.showMessageList parameters: params\n\n        toggleFilterFlag = =>\n            filter = if @state.filterFlag then MessageFilter.ALL else MessageFilter.FLAGGED\n            LayoutActionCreator.filterMessages filter\n            showList()\n            @setState filterFlag: not @state.filterFlag, filterUnseen: false\n\n        toggleFilterUnseen = =>\n            filter = if @state.filterUnseen then MessageFilter.ALL else MessageFilter.UNSEEN\n            LayoutActionCreator.filterMessages filter\n            showList()\n            @setState filterUnseen: not @state.filterUnseen, filterFlag: false\n\n        classList = classer\n            compact: compact\n            edited: @state.edited\n        classCompact = classer\n            active: compact\n        classEdited = classer\n            active: @state.edited\n        div className: 'message-list ' + classList, ref: 'list',\n            div className: 'message-list-actions',\n                #if advanced and not @state.edited\n                #    MessagesQuickFilter {}\n                div className: 'btn-toolbar', role: 'toolbar',\n                    div className: 'btn-group',\n                        # Toggle edit\n                        if advanced\n                            div className: 'btn-group btn-group-sm message-list-option',\n                                button\n                                    type: \"button\"\n                                    className: \"btn btn-default \" + classEdited\n                                    onClick: @toggleEdited,\n                                        i className: 'fa fa-square-o'\n                        # mailbox-list\n                        if advanced and not @state.edited\n                            div className: 'btn-group btn-group-sm message-list-option',\n                                MailboxList\n                                    getUrl: getMailboxUrl\n                                    mailboxes: @props.mailboxes\n                                    selectedMailbox: @props.mailboxID\n                        # filters\n                        if not advanced and not @state.edited\n                            div className: 'btn-group btn-group-sm message-list-option ',\n                                button\n                                    onClick: toggleFilterUnseen\n                                    title: t 'list filter unseen title'\n                                    className: 'btn btn-default ' + if @state.filterUnseen then ' shown ' else '',\n                                    span className: 'fa fa-envelope'\n                        if not advanced and not @state.edited\n                            div className: 'btn-group btn-group-sm message-list-option ',\n                                button\n                                    onClick: toggleFilterFlag\n                                    title: t 'list filter flagged title'\n                                    className: 'btn btn-default ' + if @state.filterFlag then ' shown ' else '',\n                                    span className: 'fa fa-star'\n                        if advanced and not @state.edited\n                            div className: 'btn-group btn-group-sm message-list-option',\n                                MessagesFilter filterParams\n                        ## sort\n                        if advanced and not @state.edited\n                            div className: 'btn-group btn-group-sm message-list-option',\n                                MessagesSort filterParams\n\n                        # refresh\n                        if not @state.edited\n                            div className: 'btn-group btn-group-sm message-list-option',\n                                button\n                                    className: 'btn btn-default',\n                                    type: 'button',\n                                    disabled: null,\n                                    onClick: @refresh,\n                                        span\n                                            className: 'fa fa-refresh'\n                        # config\n                        if not @state.edited\n                            div className: 'btn-group btn-group-sm message-list-option',\n                                a\n                                    href: configMailboxUrl\n                                    className: 'btn btn-default mailbox-config',\n                                    i className: 'fa fa-cog'\n                        if @state.edited\n                            div className: 'btn-group btn-group-sm message-list-option',\n                                button\n                                    type: \"button\"\n                                    className: \"btn btn-default \" + classEdited\n                                    onClick: @toggleAll,\n                                        i className: 'fa fa-square-o'\n                        if @state.edited\n                            div className: 'btn-group btn-group-sm message-list-option',\n                                button\n                                    className: 'btn btn-default trash',\n                                    type: 'button',\n                                    disabled: nbSelected\n                                    onClick: @onDelete,\n                                        span\n                                            className: 'fa fa-trash-o'\n                        if @state.edited\n                            ToolboxMove\n                                mailboxes: @props.mailboxes\n                                onMove: @onMove\n                                direction: 'left'\n                        if @state.edited\n                            ToolboxActions\n                                mailboxes: @props.mailboxes\n                                onMark: @onMark\n                                onConversation: @onConversation\n                                onHeaders: @onHeaders\n                                direction: 'left'\n            if @props.messages.count() is 0\n                if @props.fetching\n                    p null, t 'list fetching'\n                else\n                    p null, @props.emptyListMessage\n            else\n                div null,\n                    #p null, @props.counterMessage\n                    ul className: 'list-unstyled',\n                        messages\n                    # If message list is filtered, we can't only rely on message count\n                    # So we assume that if query.pageAfter is null, there's no more\n                    # messages to display\n                    if @props.messages.count() < nbMessages and @props.query.pageAfter?\n                        p className: 'text-center',\n                            if @props.fetching\n                                i className: \"fa fa-refresh fa-spin\"\n                            else\n                                a\n                                    #href: @props.paginationUrl\n                                    className: 'more-messages'\n                                    onClick: nextPage,\n                                    ref: 'nextPage',\n                                    t 'list next page'\n                    else\n                        p ref: 'listEnd', t 'list end'\n\n\n    refresh: (event) ->\n        event.preventDefault()\n        LayoutActionCreator.refreshMessages()\n\n    toggleEdited: ->\n        if @state.edited\n            @setState allSelected: false, edited: false, selected: {}\n        else\n            @setState edited: true\n\n    toggleAll: ->\n        if @state.allSelected\n            @setState allSelected: false, edited: false, selected: {}\n        else\n            selected = {}\n            @props.messages.map (message, key) ->\n                selected[key] = true\n            .toJS()\n            @setState allSelected: true, edited: true, selected: selected\n\n    onDelete: ->\n        selected = Object.keys @state.selected\n        if selected.length is 0\n            alertError t 'list mass no message'\n        else\n            if window.confirm(t 'list delete confirm', nb: selected.length)\n                MessageActionCreator.delete selected\n                ###\n                selected.forEach (id) ->\n                    MessageActionCreator.delete id, (error) ->\n                        if error?\n                            alertError \"#{t(\"message action delete ko\")} #{error}\"\n                        else\n                            window.cozyMails.messageNavigate()\n                ###\n\n    onMove: (args) ->\n        selected = Object.keys @state.selected\n        if selected.length is 0\n            alertError t 'list mass no message'\n        else\n            newbox = args.target.dataset.value\n            if args.target.dataset.conversation?\n                selected.forEach (id) =>\n                    message = @props.messages.get id\n                    conversationID = message.get('conversationID')\n                    ConversationActionCreator.move conversationID, newbox, (error) ->\n                        if error?\n                            alertError \"#{t(\"conversation move ko\")} #{error}\"\n                        else\n                            window.cozyMails.messageNavigate()\n            else\n                selected.forEach (id) =>\n                    message = @props.messages.get id\n                    MessageActionCreator.move message, @props.mailboxID, newbox, (error) ->\n                        if error?\n                            alertError \"#{t(\"message action move ko\")} #{error}\"\n                        else\n                            window.cozyMails.messageNavigate()\n\n    onMark: (args) ->\n        selected = Object.keys @state.selected\n        if selected.length is 0\n            alertError t 'list mass no message'\n        else\n            flag = args.target.dataset.value\n            selected.forEach (id) =>\n                message = @props.messages.get id\n                flags = message.get('flags').slice()\n                switch flag\n                    when FlagsConstants.SEEN\n                        flags.push MessageFlags.SEEN\n                    when FlagsConstants.UNSEEN\n                        flags = flags.filter (e) -> return e isnt FlagsConstants.SEEN\n                    when FlagsConstants.FLAGGED\n                        flags.push MessageFlags.FLAGGED\n                    when FlagsConstants.NOFLAG\n                        flags = flags.filter (e) -> return e isnt FlagsConstants.FLAGGED\n                MessageActionCreator.updateFlag message, flags, (error) ->\n                    if error?\n                        alertError \"#{t(\"message action mark ko\")} #{error}\"\n\n    onConversation: (args) ->\n        selected = Object.keys @state.selected\n        if selected.length is 0\n            alertError t 'list mass no message'\n        else\n            selected.forEach (id) =>\n                message = @props.messages.get id\n                conversationID = message.get 'conversationID'\n                action = args.target.dataset.action\n                switch action\n                    when 'delete'\n                        ConversationActionCreator.delete conversationID, (error) ->\n                            if error?\n                                alertError \"#{t(\"conversation delete ko\")} #{error}\"\n                    when 'seen'\n                        ConversationActionCreator.seen conversationID, (error) ->\n                            if error?\n                                alertError \"#{t(\"conversation seen ok \")} #{error}\"\n                    when 'unseen'\n                        ConversationActionCreator.unseen conversationID, (error) ->\n                            if error?\n                                alertError \"#{t(\"conversation unseen ok\")} #{error}\"\n\n    _isVisible: (node, before) ->\n        margin = if before then 40 else 0\n        rect   = node.getBoundingClientRect()\n        height = window.innerHeight or document.documentElement.clientHeight\n        width  = window.innerWidth  or document.documentElement.clientWidth\n        return rect.bottom <= ( height + 0 ) and rect.top >= 0\n\n    _loadNext: ->\n        if @refs.nextPage? and @_isVisible(@refs.nextPage.getDOMNode(), true)\n            LayoutActionCreator.showMessageList parameters: @props.query\n\n    _handleRealtimeGrowth: ->\n        nbMessages = parseInt @props.counterMessage, 10\n        if nbMessages < @props.messages.count() and @refs.listEnd? and\n        not @_isVisible(@refs.listEnd.getDOMNode(), true)\n            lastdate = @props.messages.last().get('date')\n            SocketUtils.changeRealtimeScope @props.mailboxID, lastdate\n\n    _initScroll: ->\n        if not @refs.nextPage?\n            return\n\n        # scroll current message into view\n        if @state.messageID isnt @props.messageID\n            active = document.querySelector(\"[data-message-id='#{@props.messageID}']\")\n            if active? and not @_isVisible(active)\n                active.scrollIntoView()\n            @setState messageID: @props.messageID\n\n        # listen to scroll events\n        scrollable = @refs.list.getDOMNode().parentNode\n        setTimeout =>\n            scrollable.removeEventListener 'scroll', @_loadNext\n            scrollable.addEventListener 'scroll', @_loadNext\n        , 0\n\n    componentDidMount: ->\n        @_initScroll()\n\n    componentDidUpdate: ->\n        @_initScroll()\n\n        @_handleRealtimeGrowth()\n\n    componentWillUnmount: ->\n        scrollable = @refs.list.getDOMNode().parentNode\n        scrollable.removeEventListener 'scroll', @_loadNext\n\nmodule.exports = MessageList\n\nMessageItem = React.createClass\n    displayName: 'MessagesItem'\n\n    mixins: [RouterMixin]\n\n    render: ->\n        message = @props.message\n        flags = message.get('flags')\n        classes = classer\n            message: true\n            read: message.get 'isRead'\n            active: @props.isActive\n            edited: @props.edited\n            'unseen': flags.indexOf(MessageFlags.SEEN) is -1\n            'has-attachments': message.get 'hasAttachments'\n            'is-fav': flags.indexOf(MessageFlags.FLAGGED) isnt -1\n\n        isDraft = message.get('flags').indexOf(MessageFlags.DRAFT) isnt -1\n\n        if isDraft\n            action = 'edit'\n            id     = message.get 'id'\n        else\n            conversationID = message.get 'conversationID'\n            if conversationID and @props.settings.get('displayConversation')\n                action = 'conversation'\n                id     = message.get 'id'\n            else\n                action = 'message'\n                id     = message.get 'id'\n        if not @props.edited\n            url = @buildUrl\n                direction: 'second'\n                action: action\n                parameters: id\n            tag = a\n        else\n            tag = span\n\n        compact = @props.settings.get('listStyle') is 'compact'\n        date    = MessageUtils.formatDate message.get('createdAt'), compact\n        avatar  = MessageUtils.getAvatar message\n\n        li\n            className: classes\n            key: @props.key\n            'data-message-id': message.get('id')\n            draggable: not @props.edited\n            onClick: @onMessageClick\n            onDragStart: @onDragStart\n        ,\n            tag\n                href: url,\n                className: 'wrapper'\n                'data-message-id': message.get('id'),\n                onClick: @onMessageClick,\n                onDoubleClick: @onMessageDblClick,\n                    div\n                        className: 'avatar-wrapper',\n                        input\n                            ref: 'select'\n                            className: 'select',\n                            type: 'checkbox',\n                            checked: @props.selected,\n                            onChange: @onSelect\n                        if avatar?\n                            img className: 'avatar', src: avatar\n                        else\n                            i className: 'fa fa-user'\n                    span className: 'participants', @getParticipants message\n                    div className: 'preview',\n                        if @props.conversationLength > 1\n                            span className: 'badge conversation-length',\n                                @props.conversationLength\n                        span className: 'title',\n                            message.get 'subject'\n                        p null, message.get('text')?.substr(0, 100) + \"\"\n                    span className: 'hour', date\n                    span className: \"flags\",\n                        i className: 'attach fa fa-paperclip'\n                        i className: 'fav fa fa-star'\n\n    _doCheck: ->\n        # please don't ask me why this **** react needs this\n        if @props.selected\n            setTimeout =>\n                @refs.select?.getDOMNode().checked = true\n            , 50\n        else\n            setTimeout =>\n                @refs.select?.getDOMNode().checked = false\n            , 50\n    componentDidMount: ->\n        @_doCheck()\n    componentDidUpdate: ->\n        @_doCheck()\n    onSelect: (e) ->\n        @props.onSelect(not @props.selected)\n        e.preventDefault()\n        e.stopPropagation()\n\n    onMessageClick: (event) ->\n        if @props.edited\n            @props.onSelect(not @props.selected)\n            event.preventDefault()\n            event.stopPropagation()\n        else\n            if not @props.settings.get('displayPreview')\n                event.preventDefault()\n                MessageActionCreator.setCurrent event.currentTarget.dataset.messageId\n\n    onMessageDblClick: (event) ->\n        if not @props.edited\n            url = event.currentTarget.href.split('#')[1]\n            window.router.navigate url, {trigger: true}\n\n    onDragStart: (event) ->\n        event.stopPropagation()\n        data =\n            messageID: event.currentTarget.dataset.messageId\n            mailboxID: @props.mailboxID\n        event.dataTransfer.setData 'text', JSON.stringify(data)\n        event.dataTransfer.effectAllowed = 'move'\n        event.dataTransfer.dropEffect = 'move'\n\n    getParticipants: (message) ->\n        from = message.get 'from'\n        to   = message.get('to').concat(message.get('cc'))\n        span null,\n            Participants participants: from, onAdd: @addAddress\n            span null, ', '\n            Participants participants: to, onAdd: @addAddress\n\n    addAddress: (address) ->\n        ContactActionCreator.createContact address\n\nMessagesQuickFilter = React.createClass\n    displayName: 'MessagesQuickFilter'\n\n    render: ->\n        div\n            className: \"form-group message-list-action\",\n            input\n                className: \"form-control\"\n                type: \"text\"\n                onBlur: @onQuick\n\n    onQuick: (ev) ->\n        LayoutActionCreator.quickFilterMessages ev.target.value.trim()\n\nMessagesFilter = React.createClass\n    displayName: 'MessagesFilter'\n\n    mixins: [RouterMixin]\n\n    render: ->\n        filter = @props.query.flag\n        if not filter? or filter is '-'\n            title = i className: 'fa fa-filter'\n        else\n            title = t 'list filter ' + filter\n        div className: 'btn-group btn-group-sm dropdown filter-dropdown',\n            button\n                className: 'btn btn-default dropdown-toggle message-list-action'\n                type: 'button'\n                'data-toggle': 'dropdown'\n                title\n                    span className: 'caret'\n            ul\n                className: 'dropdown-menu',\n                role: 'menu',\n                    li role: 'presentation',\n                        a\n                            onClick: @onFilter,\n                            'data-filter': MessageFilter.ALL,\n                            t 'list filter all'\n                    li role: 'presentation',\n                        a\n                            onClick: @onFilter,\n                            'data-filter': MessageFilter.UNSEEN,\n                            t 'list filter unseen'\n                    li role: 'presentation',\n                        a\n                            onClick: @onFilter,\n                            'data-filter': MessageFilter.FLAGGED,\n                            t 'list filter flagged'\n\n    onFilter: (ev) ->\n        LayoutActionCreator.filterMessages ev.target.dataset.filter\n\n        params = _.clone(MessageStore.getParams())\n        params.accountID = @props.accountID\n        params.mailboxID = @props.mailboxID\n        LayoutActionCreator.showMessageList parameters: params\n        #@redirect @buildUrl\n        #    direction: 'first'\n        #    action: 'account.mailbox.messages.full'\n        #    parameters: params\n\nMessagesSort = React.createClass\n    displayName: 'MessagesSort'\n\n    mixins: [RouterMixin]\n\n    render: ->\n        sort = @props.query.sort\n        if not sort? or sort is '-'\n            title = t 'list sort'\n        else\n            sort  = sort.substr 1\n            title = t 'list sort ' + sort\n        div className: 'btn-group btn-group-sm dropdown sort-dropdown',\n            button\n                className: 'btn btn-default dropdown-toggle message-list-action'\n                type: 'button'\n                'data-toggle': 'dropdown'\n                title\n                    span className: 'caret'\n            ul\n                className: 'dropdown-menu',\n                role: 'menu',\n                    li role: 'presentation',\n                        a\n                            onClick: @onSort,\n                            'data-sort': 'date',\n                            t 'list sort date'\n                    li role: 'presentation',\n                        a\n                            onClick: @onSort,\n                            'data-sort': 'subject',\n                            t 'list sort subject'\n\n    onSort: (ev) ->\n        field = ev.target.dataset.sort\n\n        LayoutActionCreator.sortMessages\n            field: field\n\n        params = _.clone(MessageStore.getParams())\n        params.accountID = @props.accountID\n        params.mailboxID = @props.mailboxID\n        LayoutActionCreator.showMessageList parameters: params\n        #@redirect @buildUrl\n        #    direction: 'first'\n        #    action: 'account.mailbox.messages.full'\n        #    parameters: params\n","{div, ul, li, span, i, p, a, button, pre, iframe, img, h4} = React.DOM\nCompose        = require './compose'\nFilePicker     = require './file_picker'\nToolboxActions = require './toolbox_actions'\nToolboxMove    = require './toolbox_move'\nMessageUtils = require '../utils/message_utils'\n{ComposeActions, MessageFlags, FlagsConstants} = require '../constants/app_constants'\nLayoutActionCreator       = require '../actions/layout_action_creator'\nConversationActionCreator = require '../actions/conversation_action_creator'\nMessageActionCreator      = require '../actions/message_action_creator'\nContactActionCreator      = require '../actions/contact_action_creator'\nRouterMixin = require '../mixins/router_mixin'\nParticipants  = require './participant'\n\nclasser = React.addons.classSet\nalertError   = LayoutActionCreator.alertError\nalertSuccess = LayoutActionCreator.notify\n\nmodule.exports = React.createClass\n    displayName: 'Message'\n\n    mixins: [\n        RouterMixin\n    ]\n\n    getInitialState: ->\n        return {\n            active: @props.active,\n            composing: false\n            composeAction: ''\n            headers: false\n            messageDisplayHTML:   @props.settings.get 'messageDisplayHTML'\n            messageDisplayImages: @props.settings.get 'messageDisplayImages'\n        }\n\n    propTypes:\n        accounts          : React.PropTypes.object.isRequired\n        active            : React.PropTypes.bool\n        inConversation    : React.PropTypes.bool\n        key               : React.PropTypes.string.isRequired\n        mailboxes         : React.PropTypes.object.isRequired\n        message           : React.PropTypes.object.isRequired\n        nextID            : React.PropTypes.string\n        prevID            : React.PropTypes.string\n        selectedAccount   : React.PropTypes.object.isRequired\n        selectedMailboxID : React.PropTypes.string.isRequired\n        settings          : React.PropTypes.object.isRequired\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    _prepareMessage: ->\n        message = @props.message\n\n        # display full headers\n        fullHeaders = []\n        for key, value of message.get 'headers'\n            if Array.isArray(value)\n                fullHeaders.push \"#{key}: #{value.join('\\n    ')}\"\n            else\n                fullHeaders.push \"#{key}: #{value}\"\n\n        text = message.get 'text'\n        html = message.get 'html'\n        urls = /((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)/gim\n        # @TODO Do we want to convert text only messages to HTML ?\n        # /!\\ if messageDisplayHTML is set, this method should always return\n        # a value fo html, otherwise the content of the email flashes\n        if text and not html and @state.messageDisplayHTML\n            try\n                html = markdown.toHTML text\n            catch e\n                console.log \"Error converting text message to Markdown: #{e}\"\n                html = \"<div class='text'>#{text}</div>\" #markdown.toHTML text\n\n        if html and not text and not @state.messageDisplayHTML\n            text = toMarkdown html\n\n        if text\n            rich = text.replace urls, '<a href=\"$1\" target=\"_blank\">$1</a>', 'gim'\n            rich = rich.replace(/^>>>>>[^>]?.*$/gim, '<span class=\"quote5\">$&</span>')\n            rich = rich.replace(/^>>>>[^>]?.*$/gim, '<span class=\"quote4\">$&</span>')\n            rich = rich.replace(/^>>>[^>]?.*$/gim, '<span class=\"quote3\">$&</span>')\n            rich = rich.replace(/^>>[^>]?.*$/gim, '<span class=\"quote2\">$&</span>')\n            rich = rich.replace(/^>[^>]?.*$/gim, '<span class=\"quote1\">$&</span>', 'gim')\n\n        return {\n            id         : message.get('id')\n            attachments: message.get('attachments')\n            flags      : message.get('flags') or []\n            from       : message.get('from')\n            to         : message.get('to')\n            cc         : message.get('cc')\n            fullHeaders: fullHeaders\n            text       : text\n            rich       : rich\n            html       : html\n            date       : MessageUtils.formatDate message.get 'createdAt'\n        }\n\n    componentWillMount: ->\n        @_markRead @props.message\n\n    componentWillReceiveProps: (props) ->\n        state =\n            active: props.active\n            composing: false\n        if props.message.get('id') isnt @props.message.get('id')\n            @_markRead @props.message\n            state.messageDisplayHTML   = props.settings.get 'messageDisplayHTML'\n            state.messageDisplayImages = props.settings.get 'messageDisplayImages'\n        @setState state\n\n    _markRead: (message) ->\n        # Hack to prevent infinite loop if server side mark as read fails\n        if @_currentMessageId is message.get 'id'\n            return\n        @_currentMessageId = message.get 'id'\n\n        # Mark message as seen if needed\n        flags = message.get('flags').slice()\n        if flags.indexOf(MessageFlags.SEEN) is -1\n            flags.push MessageFlags.SEEN\n            MessageActionCreator.updateFlag message, flags\n\n    prepareHTML: (prepared) ->\n        messageDisplayHTML = true\n        parser = new DOMParser()\n        html   = \"\"\"<html><head>\n                <link rel=\"stylesheet\" href=\"./mail_stylesheet.css\" />\n                <style>body { visibility: hidden; }</style>\n            </head><body>#{prepared.html}</body></html>\"\"\"\n        doc    = parser.parseFromString html, \"text/html\"\n        images = []\n\n        if not doc\n            doc = document.implementation.createHTMLDocument(\"\")\n            doc.documentElement.innerHTML = html\n\n        if not doc\n            console.log \"Unable to parse HTML content of message\"\n            messageDisplayHTML = false\n\n        if doc and not @state.messageDisplayImages\n            hideImage = (image) ->\n                image.dataset.src = image.getAttribute 'src'\n                image.removeAttribute 'src'\n            images = doc.querySelectorAll 'IMG[src]'\n            hideImage image for image in images\n\n        for link in doc.querySelectorAll 'a[href]'\n            link.target = '_blank'\n\n        if doc?\n            @_htmlContent = doc.documentElement.innerHTML\n        else\n            @_htmlContent = prepared.html\n\n            #htmluri = \"data:text/html;charset=utf-8;base64,\n            #      #{btoa(unescape(encodeURIComponent(doc.body.innerHTML)))}\"\n        return {messageDisplayHTML, images}\n\n    render: ->\n\n        message  = @props.message\n        prepared = @_prepareMessage()\n\n        if @state.messageDisplayHTML and prepared.html\n            {messageDisplayHTML, images} = @prepareHTML prepared\n            imagesWarning = images.length > 0 and\n                            not @state.messageDisplayImages\n        else\n            messageDisplayHTML = false\n            imagesWarning      = false\n\n        classes = classer\n            message: true\n            active: @state.active\n\n        if @state.active\n            li\n                className: classes,\n                key: @props.key,\n                'data-id': message.get('id'),\n                    @renderHeaders prepared\n                    div className: 'full-headers',\n                        pre null, prepared.fullHeaders.join \"\\n\"\n                    @renderToolbox message.get('id'), prepared\n                    @renderCompose()\n                    MessageContent\n                        message: message\n                        messageDisplayHTML: messageDisplayHTML\n                        html: @_htmlContent\n                        text: prepared.text\n                        rich: prepared.rich\n                        imagesWarning: imagesWarning\n                        composing: @state.composing\n                        displayImages: @displayImages\n                        displayHTML: @displayHTML\n                    @renderAttachments prepared.attachments.toJS()\n                    div className: 'clearfix'\n        else\n            li\n                className: classes,\n                key: @props.key,\n                'data-id': message.get('id'),\n                    @renderHeaders prepared\n\n    getParticipants: (prepared) ->\n        from = prepared.from\n        to   = prepared.to.concat(prepared.cc)\n        span null,\n            Participants participants: from, onAdd: @addAddress\n            span null, ', '\n            Participants participants: to, onAdd: @addAddress\n\n    renderHeaders: (prepared) ->\n        hasAttachments = prepared.attachments.length\n        leftClass = if hasAttachments then 'col-md-8' else 'col-md-12'\n        flags     = prepared.flags\n        avatar = MessageUtils.getAvatar @props.message\n        classes = classer\n            'header': true\n            'row': true\n            'full': @state.headers\n            'compact': not @state.headers\n            'has-attachments': hasAttachments\n            'is-fav': flags.indexOf(MessageFlags.FLAGGED) isnt -1\n\n        #toggleActive = a className: \"toggle-active\", onClick: @toggleActive,\n        #    if @state.active\n        #        i className: 'fa fa-compress'\n        #    else\n        #        i className: 'fa fa-expand'\n        if @state.headers\n            # detailed headers\n            div className: classes, onClick: @toggleActive,\n                div className: leftClass,\n                    if avatar\n                        img className: 'sender-avatar', src: avatar\n                    else\n                        i className: 'sender-avatar fa fa-user'\n                    div className: 'participants col-md-9',\n                        p className: 'sender',\n                            @renderAddress 'from'\n                            i\n                                className: 'toggle-headers fa fa-toggle-up'\n                                onClick: @toggleHeaders\n                        p className: 'receivers',\n                            span null, t \"mail receivers\"\n                            @renderAddress 'to'\n                        if @props.message.get('cc')?.length > 0\n                            p className: 'receivers',\n                                span null, t \"mail receivers cc\"\n                                @renderAddress 'cc'\n                        if hasAttachments\n                            span className: 'hour', prepared.date\n                    if not hasAttachments\n                        span className: 'hour', prepared.date\n                if hasAttachments\n                    div className: 'col-md-4',\n                        FilePicker\n                            editable: false\n                            value: prepared.attachments\n                #if @props.inConversation\n                #    toggleActive\n        else\n            # compact headers\n            div className: classes, onClick: @toggleActive,\n                if avatar\n                    img className: 'sender-avatar', src: avatar\n                else\n                    i className: 'sender-avatar fa fa-user'\n                span className: 'participants', @getParticipants prepared\n                if @state.active\n                    i\n                        className: 'toggle-headers fa fa-toggle-down'\n                        onClick: @toggleHeaders\n                #span className: 'subject', @props.message.get 'subject'\n                span className: 'hour', prepared.date\n                span className: \"flags\",\n                    i className: 'attach fa fa-paperclip'\n                    i className: 'fav fa fa-star'\n                #if @props.inConversation\n                #    toggleActive\n\n\n    renderAddress: (field) ->\n        addresses = @props.message.get(field)\n        if not addresses?\n            return\n\n        Participants participants: addresses, onAdd: @addAddress\n\n    renderCompose: ->\n        if @state.composing\n            Compose\n                inReplyTo       : @props.message\n                accounts        : @props.accounts\n                settings        : @props.settings\n                selectedAccount : @props.selectedAccount\n                action          : @state.composeAction\n                layout          : 'second'\n                callback: (error) =>\n                    if not error?\n                        @setState composing: false\n                onCancel: =>\n                    @setState composing: false\n\n    renderToolbox: (id, prepared) ->\n\n        if @state.composing\n            return\n\n        isFlagged = prepared.flags.indexOf(FlagsConstants.FLAGGED) is -1\n        isSeen    = prepared.flags.indexOf(FlagsConstants.SEEN) is -1\n\n\n        conversationID = @props.message.get 'conversationID'\n\n        getParams = (id) =>\n            if conversationID and @props.settings.get('displayConversation')\n                return {\n                    action : 'conversation'\n                    id     : id\n                }\n            else\n                return {\n                    action : 'message'\n                    id     : id\n                }\n        if @props.prevID?\n            params = getParams @props.prevID\n            prev =\n                direction: 'second'\n                action: params.action\n                parameters: params.id\n            prevUrl =  @buildUrl prev\n            displayPrev = =>\n                @redirect prev\n        if @props.nextID?\n            params = getParams @props.nextID\n            next =\n                direction: 'second'\n                action: params.action\n                parameters: params.id\n            nextUrl = @buildUrl next\n            displayNext = =>\n                @redirect next\n\n\n        div className: 'messageToolbox row',\n            div className: 'btn-toolbar', role: 'toolbar',\n                div className: 'btn-group btn-group-sm btn-group-justified',\n                    if prevUrl?\n                        div className: 'btn-group btn-group-sm',\n                            button\n                                className: 'btn btn-default prev',\n                                type: 'button',\n                                onClick: displayPrev,\n                                    a href: prevUrl,\n                                        span className: 'fa fa-long-arrow-left'\n                    div className: 'btn-group btn-group-sm',\n                        button\n                            className: 'btn btn-default reply',\n                            type: 'button',\n                            onClick: @onReply,\n                                span\n                                    className: 'fa fa-reply'\n                                span\n                                    className: 'tool-long',\n                                    t 'mail action reply'\n                    div className: 'btn-group btn-group-sm',\n                        button\n                            className: 'btn btn-default reply-all',\n                            type: 'button',\n                            onClick: @onReplyAll,\n                                span\n                                    className: 'fa fa-reply-all'\n                                span\n                                    className: 'tool-long',\n                                    t 'mail action reply all'\n                    div className: 'btn-group btn-group-sm',\n                        button\n                            className: 'btn btn-default forward',\n                            type: 'button',\n                            onClick: @onForward,\n                                span\n                                    className: 'fa fa-mail-forward'\n                                span\n                                    className: 'tool-long',\n                                    t 'mail action forward'\n                    div className: 'btn-group btn-group-sm',\n                        button\n                            className: 'btn btn-default trash',\n                            type: 'button',\n                            onClick: @onDelete,\n                                span\n                                    className: 'fa fa-trash-o'\n                                span\n                                    className: 'tool-long',\n                                    t 'mail action delete'\n                    ToolboxMove\n                        mailboxes: @props.mailboxes\n                        onMove: @onMove\n                        direction: 'right'\n                    ToolboxActions\n                        mailboxes: @props.mailboxes\n                        isSeen: isSeen\n                        isFlagged: isFlagged\n                        mailboxID: @props.selectedMailboxID\n                        messageID: id\n                        message: @props.message\n                        onMark: @onMark\n                        onConversation: @onConversation\n                        onHeaders: @onHeaders\n                        direction: 'right'\n                    if nextUrl?\n                        div className: 'btn-group btn-group-sm',\n                            button\n                                className: 'btn btn-default',\n                                type: 'button',\n                                onClick: displayNext,\n                                    a href: nextUrl,\n                                        span className: 'fa fa-long-arrow-right'\n\n    renderAttachments: (attachments) ->\n        files = attachments.filter (file) -> return MessageUtils.getAttachmentType(file.contentType) is 'image'\n        if files.length is 0\n            return\n\n        div className: 'att-previews',\n            h4 null, t 'message preview title'\n            files.map (file) ->\n                AttachmentPreview file: file, key: file.checksum\n\n    toggleHeaders: (e) ->\n        e.preventDefault()\n        e.stopPropagation()\n        state =\n            headers: not @state.headers\n        if @props.inConversation and not @state.active\n            state.active = true\n        @setState state\n\n    toggleActive: (e) ->\n        if @props.inConversation\n            e.preventDefault()\n            e.stopPropagation()\n            if @state.active\n                @setState { active: false, headers: false }\n            else\n                @setState { active: true, headers: false }\n\n    displayNextMessage: (next)->\n        if not next?\n            if @props.nextID?\n                next = @props.nextID\n            else next = @props.prevID\n        if next?\n            @redirect\n                direction: 'second'\n                action: 'message'\n                parameters: next\n        else\n            @redirect\n                direction: 'first'\n                action: 'account.mailbox.messages'\n                parameters:\n                    accountID: @props.message.get 'accountID'\n                    mailboxID: @props.selectedMailboxID\n                fullWidth: true\n\n    onReply: (args) ->\n        @setState composing: true, composeAction: ComposeActions.REPLY\n\n    onReplyAll: (args) ->\n        @setState composing: true, composeAction: ComposeActions.REPLY_ALL\n\n    onForward: (args) ->\n        @setState composing: true, composeAction: ComposeActions.FORWARD\n\n    onDelete: (args) ->\n        message      = @props.message\n        if @props.nextID?\n            next = @props.nextID\n        else next = @props.prevID\n        if (not @props.settings.get('messageConfirmDelete')) or\n        window.confirm(t 'mail confirm delete', {subject: message.get('subject')})\n            @displayNextMessage next\n            MessageActionCreator.delete message, (error) ->\n                if error?\n                    alertError \"#{t(\"message action delete ko\")} #{error}\"\n\n    onCopy: (args) ->\n        LayoutActionCreator.alertWarning t \"app unimplemented\"\n\n    onMove: (args) ->\n        newbox = args.target.dataset.value\n        if @props.nextID?\n            next = @props.nextID\n        else next = @props.prevID\n        if args.target.dataset.conversation?\n            conversationID = @props.message.get('conversationID')\n            ConversationActionCreator.move conversationID, newbox, (error) =>\n                if error?\n                    alertError \"#{t(\"conversation move ko\")} #{error}\"\n                else\n                    alertSuccess t \"conversation move ok\"\n                    @displayNextMessage next\n        else\n            oldbox = @props.selectedMailboxID\n            MessageActionCreator.move @props.message, oldbox, newbox, (error) =>\n                if error?\n                    alertError \"#{t(\"message action move ko\")} #{error}\"\n                else\n                    alertSuccess t \"message action move ok\"\n                    @displayNextMessage next\n\n    onMark: (args) ->\n        flags = @props.message.get('flags').slice()\n        flag = args.target.dataset.value\n        switch flag\n            when FlagsConstants.SEEN\n                flags.push MessageFlags.SEEN\n            when FlagsConstants.UNSEEN\n                flags = flags.filter (e) -> return e isnt FlagsConstants.SEEN\n            when FlagsConstants.FLAGGED\n                flags.push MessageFlags.FLAGGED\n            when FlagsConstants.NOFLAG\n                flags = flags.filter (e) -> return e isnt FlagsConstants.FLAGGED\n        MessageActionCreator.updateFlag @props.message, flags, (error) ->\n            if error?\n                alertError \"#{t(\"message action mark ko\")} #{error}\"\n            else\n                alertSuccess t \"message action mark ok\"\n\n    onConversation: (args) ->\n        id     = @props.message.get 'conversationID'\n        action = args.target.dataset.action\n        switch action\n            when 'delete'\n                ConversationActionCreator.delete id, (error) ->\n                    if error?\n                        alertError \"#{t(\"conversation delete ko\")} #{error}\"\n                    else\n                        alertSuccess t \"conversation delete ok\"\n            when 'seen'\n                ConversationActionCreator.seen id, (error) ->\n                    if error?\n                        alertError \"#{t(\"conversation seen ko\")} #{error}\"\n                    else\n                        alertSuccess t \"conversation seen ok\"\n            when 'unseen'\n                ConversationActionCreator.unseen id, (error) ->\n                    if error?\n                        alertError \"#{t(\"conversation unseen ko\")} #{error}\"\n                    else\n                        alertSuccess t \"conversation unseen ok\"\n\n    onHeaders: (event) ->\n        event.preventDefault()\n        messageId = event.target.dataset.messageId\n        document.querySelector(\".conversation [data-id='#{messageId}']\")\n            .classList.toggle('with-headers')\n\n    addAddress: (address) ->\n        ContactActionCreator.createContact address\n\n    displayImages: (event) ->\n        event.preventDefault()\n        @setState messageDisplayImages: true\n\n    displayHTML: (value) ->\n        if not value?\n            value = true\n        @setState messageDisplayHTML: value\n\nMessageContent = React.createClass\n    displayName: 'MessageContent'\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    render: ->\n        displayHTML= =>\n            @props.displayHTML true\n        if @props.messageDisplayHTML and @props.html\n            div className: 'row',\n                if @props.imagesWarning\n                    div\n                        className: \"imagesWarning content-action\",\n                        ref: \"imagesWarning\",\n                            span null, t 'message images warning'\n                            button\n                                className: 'btn btn-default',\n                                type: \"button\",\n                                ref: 'imagesDisplay',\n                                onClick: @props.displayImages,\n                                t 'message images display'\n                iframe\n                    'data-message-id': @props.message.get 'id'\n                    name: \"frame-#{@props.message.get 'id'}\"\n                    className: 'content',\n                    ref: 'content',\n                    allowTransparency: true,\n                    sandbox: 'allow-same-origin allow-popups',\n                    frameBorder: 0\n        else\n            div className: 'row',\n                #div className: \"content-action\",\n                #    button\n                #       className: 'btn btn-default',\n                #       type: \"button\",\n                #       onClick: @props.displayHTML,\n                #       t 'message html display'\n                div className: 'preview',\n                    p dangerouslySetInnerHTML: { __html: @props.rich }\n                    #p null, @props.text\n\n    _initFrame: (type) ->\n        panel = document.querySelector \"#panels > .panel:nth-of-type(2)\"\n        if panel? and not @props.composing\n            panel.scrollTop = 0\n        # - resize the frame to the height of its content\n        # - if images are not displayed, create the function to display them\n        #   and resize the frame\n        if @props.messageDisplayHTML and @refs.content\n            frame = @refs.content.getDOMNode()\n            doc = frame.contentDocument or frame.contentWindow?.document\n            step = 0\n            loadContent = (e) =>\n                step = 0\n                doc = frame.contentDocument or frame.contentWindow?.document\n                if doc?\n                    doc.documentElement.innerHTML = @props.html\n                    window.cozyMails.customEvent \"MESSAGE_LOADED\", @props.message.toJS()\n                    updateHeight = (e) ->\n                        height = doc.body.getBoundingClientRect().height\n                        frame.style.height = \"#{height + 60}px\"\n                        step++\n                        # In Chrome, onresize loops\n                        if step > 10\n\n                            doc.body.removeEventListener 'load', loadContent\n                            frame.contentWindow?.removeEventListener 'resize'\n\n                    frame.style.height = \"32px\"\n                    updateHeight()\n                    setTimeout updateHeight, 1000\n                    doc.body.onload = updateHeight\n                    #frame.contentWindow.onresize = updateHeight\n                    #window.onresize = updateHeight\n                    # In Chrome, addEventListener is forbidden by iframe sandboxing\n                    #doc.body.addEventListener 'load', updateHeight, true\n                    #frame.contentWindow?.addEventListener 'resize', updateHeight, true\n                else\n                    # try to display text only\n                    @props.displayHTML false\n\n            if type is 'mount' and doc.readyState isnt 'complete'\n                frame.addEventListener 'load', loadContent\n            else\n                loadContent()\n        else\n            window.cozyMails.customEvent \"MESSAGE_LOADED\", @props.message.toJS()\n\n\n    componentDidMount: ->\n        @_initFrame('mount')\n\n    componentDidUpdate: ->\n        @_initFrame('update')\n\nAttachmentPreview = React.createClass\n    displayName: 'AttachmentPreview'\n\n    getInitialState: ->\n        return {\n            displayed: false\n        }\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    render: ->\n        toggleDisplay = =>\n            @setState displayed: not @state.displayed\n\n        span\n            className: 'att-preview',\n            key: @props.key,\n            if @state.displayed\n                img\n                    onClick: toggleDisplay\n                    src: @props.file.url\n            else\n                button\n                    className: 'btn btn-default btn-lg'\n                    onClick: toggleDisplay\n                    @props.file.fileName\n","module.exports = Modal = React.createClass\n    displayName: 'Modal'\n\n    render: ->\n        React.DOM.div\n            className: \"modal fade in\",\n            role: \"dialog\",\n            style: display: 'block',\n                React.DOM.div className: \"modal-dialog\",\n                    React.DOM.div className: \"modal-content\",\n                        if @props.title?\n                            React.DOM.div className: \"modal-header\",\n                                if @props.closeLabel?\n                                    React.DOM.button\n                                        type: 'button',\n                                        className: 'close',\n                                        onClick: @props.closeModal,\n                                            React.DOM.i className: 'fa fa-times'\n                                React.DOM.h4\n                                    className: \"modal-title\",\n                                    @props.title\n                        React.DOM.div className: \"modal-body\",\n                            if @props.subtitle?\n                                React.DOM.span null, @props.subtitle\n                            @props.content\n                        if @props.closeLabel?\n                            React.DOM.div className: \"modal-footer\",\n                                React.DOM.button\n                                    type: 'button',\n                                    className: 'btn',\n                                    onClick: @props.closeModal,\n                                    @props.closeLabel\n\n","{span, a, i} = React.DOM\nMessageUtils   = require '../utils/message_utils'\nContactStore   = require '../stores/contact_store'\n\nParticipant = React.createClass\n    displayName: 'Participant'\n\n    render: ->\n        if not @props.address?\n            span null\n        else\n            span\n                className: 'address-item'\n                'data-toggle': \"tooltip\"\n                ref: 'participant'\n                title: @props.address.address,\n                key: @props.key,\n                MessageUtils.displayAddress @props.address\n\n    # To keep HTML markup light, create the contact tooltip dynamicaly\n    # on mouse over\n    tooltip: ->\n        if @refs.participant?\n            node  = @refs.participant.getDOMNode()\n            delay = null\n            onAdd = (e) =>\n                e.preventDefault()\n                e.stopPropagation()\n                @props.onAdd @props.address\n            addTooltip = (e) =>\n                if node.dataset.tooltip\n                    return\n                node.dataset.tooltip = true\n                contact = ContactStore.getByAddress @props.address.address\n                avatar  = contact?.get 'avatar'\n                if avatar?\n                    image = \"<img class='avatar' src=#{avatar}>\"\n                else\n                    image = \"<i class='avatar fa fa-user' />\"\n                if contact?\n                    image = \"\"\"\n                    <a href=\"#apps/contacts/contact/#{contact.get 'id'}\" target=\"blank\">\n                        #{image}\n                    </a>\n                    \"\"\"\n                if @props.onAdd?\n                    add = \"\"\"\n                    <a class='address-add'>\n                        <i class='fa fa-plus' />\n                    </a>\n                    \"\"\"\n                else\n                    add = ''\n                template = \"\"\"\n                    <div class=\"tooltip\" role=\"tooltip\">\n                        <div class=\"tooltip-arrow\"></div>\n                        <div>\n                            #{image}\n                            #{@props.address.address}\n                            #{add}\n                        </div>\n                    </div>'\n                    \"\"\"\n                options =\n                    template: template\n                    trigger: 'manual'\n                    container: \"[data-reactid='#{node.dataset.reactid}']\"\n                jQuery(node).tooltip(options).tooltip('show')\n                tooltipNode = jQuery(node).data('bs.tooltip').tip()[0]\n                if parseInt(tooltipNode.style.left, 10) < 0\n                    tooltipNode.style.left = 0\n                rect = tooltipNode.getBoundingClientRect()\n                mask = document.createElement 'div'\n                mask.classList.add 'tooltip-mask'\n                mask.style.top    = (rect.top - 2) + 'px'\n                mask.style.left   = (rect.left - 2) + 'px'\n                mask.style.height = (rect.height + 16) + 'px'\n                mask.style.width  = (rect.width  + 4) + 'px'\n                document.body.appendChild mask\n                mask.addEventListener 'mouseout', (e) ->\n                    if not ( rect.left < e.pageX < rect.right) or\n                       not ( rect.top  < e.pageY < rect.bottom)\n                        mask.parentNode.removeChild mask\n                        removeTooltip()\n                if @props.onAdd?\n                    addNode = tooltipNode.querySelector('.address-add')\n                    addNode.addEventListener 'mouseover', ->\n                    addNode.addEventListener 'click', onAdd\n            removeTooltip = ->\n                addNode = node.querySelector('.address-add')\n                if addNode?\n                    addNode.removeEventListener 'click', onAdd\n                delete node.dataset.tooltip\n                jQuery(node).tooltip('destroy')\n\n            node.addEventListener 'mouseover', ->\n                delay = setTimeout ->\n                    addTooltip()\n                , 1000\n            node.addEventListener 'mouseout', ->\n                clearTimeout delay\n\n    componentDidMount: ->\n        @tooltip()\n    componentDidUpdate: ->\n        @tooltip()\n\nParticipants = React.createClass\n    displayName: 'Participants'\n\n    render: ->\n        span className: 'address-list',\n            if @props.participants\n                for address, key in @props.participants\n                    span key: key, className: null,\n                        Participant {key, address, onAdd: @props.onAdd}\n                        if key < ( @props.participants.length - 1)\n                            span null, ', '\n\nmodule.exports = Participants\n","{div, input, span} = React.DOM\nclasser = React.addons.classSet\n\nSearchActionCreator = require '../actions/search_action_creator'\n\nENTER_KEY = 13\n\nRouterMixin = require '../mixins/router_mixin'\n\nmodule.exports = React.createClass\n    displayName: 'SearchForm'\n\n    mixins: [RouterMixin]\n\n    render: ->\n        div className: 'form-group pull-left',\n            div className: 'input-group',\n                input\n                    className: 'form-control',\n                    type: 'text',\n                    placeholder: t('app search'),\n                    onKeyPress: @onKeyPress,\n                    ref: 'searchInput',\n                    defaultValue: @props.query\n                div\n                    className: 'input-group-addon btn btn-cozy',\n                    onClick: @onSubmit,\n                        span className: 'fa fa-search'\n\n    onSubmit: ->\n        query = encodeURIComponent @refs.searchInput.getDOMNode().value.trim()\n\n        # only submit query if it's longer than 3 characters\n        # @TODO: validate and give feedback to the user\n        if query.length > 3\n            @redirect\n                direction: 'first'\n                action: 'search'\n                parameters: [query]\n\n    onKeyPress: (evt) ->\n        if evt.charCode is ENTER_KEY\n            @onSubmit()\n            evt.preventDefault()\n            return false\n        else\n            query = @refs.searchInput.getDOMNode().value\n            SearchActionCreator.setQuery query\n","{div, h3, form, label, input, button, fieldset, legend, ul, li, a, span, i} = React.DOM\nclasser = React.addons.classSet\n\nLayoutActionCreator   = require '../actions/layout_action_creator'\nSettingsActionCreator = require '../actions/settings_action_creator'\nPluginUtils    = require '../utils/plugin_utils'\nApiUtils       = require '../utils/api_utils'\n{Dispositions} = require '../constants/app_constants'\n\nmodule.exports = React.createClass\n    displayName: 'Settings'\n\n    render: ->\n\n        classLabel = 'col-sm-5 col-sm-offset-1 control-label'\n        classInput = 'col-sm-6'\n\n        div id: 'settings',\n            h3 className: null, t \"settings title\"\n\n            if @props.error\n                div className: 'error', @props.error\n\n            form className: 'form-horizontal',\n                #div className: 'form-group',\n                #    label htmlFor: 'settings-mpp', className: classLabel,\n                #        t \"settings label mpp\"\n                #    div className: classInput,\n                #        input\n                #            id: 'settings-mpp',\n                #            value: @state.settings.messagesPerPage,\n                #            onChange: @handleChange,\n                #            'data-target': 'messagesPerPage',\n                #            type: 'number',\n                #            min: 5,\n                #            max: 100,\n                #            step: 5,\n                #            className: 'form-control'\n\n                # Lang\n                #div className: 'form-group',\n                #    label htmlFor: 'settings-mpp', className: classLabel,\n                #        t \"settings lang\"\n                #    div className: classInput,\n                #        div className: \"dropdown\",\n                #            button\n                #                className: \"btn btn-default dropdown-toggle\"\n                #                type: \"button\"\n                #                \"data-toggle\": \"dropdown\",\n                #                t \"settings lang #{@state.settings.lang}\"\n                #            ul className: \"dropdown-menu\", role: \"menu\",\n                #                li\n                #                    role: \"presentation\",\n                #                    'data-target': 'lang',\n                #                    'data-lang': 'en',\n                #                    onClick: @handleChange,\n                #                        a role: \"menuitem\", t \"settings lang en\"\n                #                li\n                #                    role: \"presentation\",\n                #                    'data-target': 'lang',\n                #                    'data-lang': 'fr',\n                #                    onClick: @handleChange,\n                #                        a role: \"menuitem\", t \"settings lang fr\"\n\n                # Layout style\n                div className: 'form-group',\n                    label htmlFor: 'settings-layoutStyle', className: classLabel,\n                        t \"settings label listStyle\"\n                    div className: classInput,\n                        div className: \"dropdown\",\n                            button\n                                id: 'settings-layoutStyle'\n                                className: \"btn btn-default dropdown-toggle\"\n                                type: \"button\"\n                                \"data-toggle\": \"dropdown\",\n                                t \"settings label layoutStyle #{@state.settings.layoutStyle or 'vertical'}\"\n                            ul className: \"dropdown-menu\", role: \"menu\",\n                                li\n                                    role: \"presentation\",\n                                    'data-target': 'layoutStyle',\n                                    'data-style': Dispositions.VERTICAL,\n                                    onClick: @handleChange,\n                                        a role: \"menuitem\", t \"settings label layoutStyle vertical\"\n                                li\n                                    role: \"presentation\",\n                                    'data-target': 'layoutStyle',\n                                    'data-style': Dispositions.HORIZONTAL,\n                                    onClick: @handleChange,\n                                        a role: \"menuitem\", t \"settings label layoutStyle horizontal\"\n                                li\n                                    role: \"presentation\",\n                                    'data-target': 'layoutStyle',\n                                    'data-style': Dispositions.THREE,\n                                    onClick: @handleChange,\n                                        a role: \"menuitem\", t \"settings label layoutStyle three\"\n\n                # List style\n                div className: 'form-group',\n                    label htmlFor: 'settings-listStyle', className: classLabel,\n                        t \"settings label listStyle\"\n                    div className: classInput,\n                        div className: \"dropdown\",\n                            button\n                                id: 'settings-listStyle'\n                                className: \"btn btn-default dropdown-toggle\"\n                                type: \"button\"\n                                \"data-toggle\": \"dropdown\",\n                                t \"settings label listStyle #{@state.settings.listStyle or 'default'}\"\n                            ul className: \"dropdown-menu\", role: \"menu\",\n                                li\n                                    role: \"presentation\",\n                                    'data-target': 'listStyle',\n                                    'data-style': 'default',\n                                    onClick: @handleChange,\n                                        a role: \"menuitem\", t \"settings label listStyle default\"\n                                li\n                                    role: \"presentation\",\n                                    'data-target': 'listStyle',\n                                    'data-style': 'compact',\n                                    onClick: @handleChange,\n                                        a role: \"menuitem\", t \"settings label listStyle compact\"\n\n            # SETTINGS\n            @_renderOption 'displayConversation'\n            @_renderOption 'composeInHTML'\n            @_renderOption 'composeOnTop'\n            @_renderOption 'messageDisplayHTML'\n            @_renderOption 'messageDisplayImages'\n            @_renderOption 'messageConfirmDelete'\n            @_renderOption 'displayPreview'\n            @_renderOption 'desktopNotifications'\n\n            fieldset null,\n                legend null, t 'settings plugins'\n                for own pluginName, pluginConf of @state.settings.plugins\n                    form className: 'form-horizontal', key: pluginName,\n                        div className: 'form-group',\n                            label\n                                className: classLabel,\n                                htmlFor: 'settings-plugin-' + pluginName,\n                                t('plugin name ' + pluginConf.name, {_: pluginConf.name})\n                            div className: classInput,\n                                if pluginConf.url?\n                                    span\n                                        className: 'clickable'\n                                        onClick: @pluginDel\n                                        'data-plugin': pluginName,\n                                        title: t(\"settings plugin del\"),\n                                            i className: 'fa fa-trash-o'\n                                else\n                                    input\n                                        id: 'settings-plugin-' + pluginName,\n                                        checked: pluginConf.active,\n                                        onChange: @handleChange,\n                                        'data-target': 'plugin',\n                                        'data-plugin': pluginName,\n                                        type: 'checkbox'\n                form className: 'form-horizontal', key: pluginName,\n                    div className: 'form-group',\n                        div className: 'col-xs-4',\n                            input\n                                id: 'newpluginName',\n                                name: 'newpluginName',\n                                ref: 'newpluginName',\n                                type: 'text',\n                                className: 'form-control',\n                                placeholder: t \"settings plugin new name\"\n                        div className: 'col-xs-6',\n                            input\n                                id: 'newpluginUrl',\n                                name: 'newpluginUrl',\n                                ref: 'newpluginUrl',\n                                type: 'text',\n                                className: 'form-control',\n                                placeholder: t \"settings plugin new url\"\n                        span\n                            className: \"col-xs-1 clickable\"\n                            onClick: @pluginAdd\n                            title: t(\"settings plugin add\"),\n                                i className: 'fa fa-plus'\n\n    _renderOption: (option) ->\n        classLabel = 'col-sm-5 col-sm-offset-1 control-label'\n        classInput = 'col-sm-6'\n        form className: 'form-horizontal',\n            div className: 'form-group',\n                label\n                    htmlFor: 'settings-' + option,\n                    className: classLabel,\n                    t \"settings label \" + option\n                div className: classInput,\n                    input\n                        id: 'settings-' + option,\n                        checked: @state.settings[option],\n                        onChange: @handleChange,\n                        'data-target': option,\n                        type: 'checkbox'\n\n    handleChange: (event) ->\n        event.preventDefault()\n        target = event.currentTarget\n        switch target.dataset.target\n            #when 'messagesPerPage'\n            #    settings = @state.settings\n            #    settings.messagesPerPage = target.value\n            #    @setState({settings: settings})\n            #    SettingsActionCreator.edit settings\n            # SETTINGS\n            when 'composeInHTML'\n            ,    'composeOnTop'\n            ,    'desktopNotifications'\n            ,    'displayConversation'\n            ,    'displayPreview'\n            ,    'messageConfirmDelete'\n            ,    'messageDisplayHTML'\n            ,    'messageDisplayImages'\n                settings = @state.settings\n                settings[target.dataset.target] = target.checked\n                @setState({settings: settings})\n                SettingsActionCreator.edit settings\n                if settings.desktopNotifications\n                    Notification.requestPermission (status) ->\n                        # This allows to use Notification.permission with Chrome/Safari\n                        if Notification.permission isnt status\n                            Notification.permission = status\n            #when 'lang'\n            #    lang = target.dataset.lang\n            #    settings = @state.settings\n            #    settings.lang = lang\n            #    @setState({settings: settings})\n            #    ApiUtils.setLocale lang, true\n            #    SettingsActionCreator.edit settings\n            when 'layoutStyle'\n                settings = @state.settings\n                settings.layoutStyle = target.dataset.style\n                LayoutActionCreator.setDisposition settings.layoutStyle\n                @setState({settings: settings})\n                SettingsActionCreator.edit settings\n            when 'listStyle'\n                settings = @state.settings\n                settings.listStyle = target.dataset.style\n                @setState({settings: settings})\n                SettingsActionCreator.edit settings\n            when 'plugin'\n                name = target.dataset.plugin\n                settings = @state.settings\n                if target.checked\n                    PluginUtils.activate name\n                else\n                    PluginUtils.deactivate name\n                for own pluginName, pluginConf of settings.plugins\n                    settings.plugins[pluginName].active = window.plugins[pluginName].active\n                @setState({settings: settings})\n                SettingsActionCreator.edit settings\n\n    pluginAdd: ->\n        name = @refs.newpluginName.getDOMNode().value.trim()\n        url  = @refs.newpluginUrl.getDOMNode().value.trim()\n        PluginUtils.loadJS url, =>\n            PluginUtils.activate name\n            settings = @state.settings\n            settings.plugins[name] =\n                name: name\n                active: true\n                url: url\n            @setState({settings: settings})\n            SettingsActionCreator.edit settings\n\n    pluginDel: (event) ->\n        event.preventDefault()\n        target = event.currentTarget\n        pluginName = target.dataset.plugin\n        settings = @state.settings\n        PluginUtils.deactivate pluginName\n        delete settings.plugins[pluginName]\n        @setState({settings: settings})\n        SettingsActionCreator.edit settings\n\n    getInitialState: (forceDefault) ->\n        settings = @props.settings.toObject()\n        return {\n            settings: @props.settings.toObject()\n        }\n","{div} = React.DOM\r\n\r\nmodule.exports = ThinProgress = React.createClass\r\n    displayName: 'ThinProgress'\r\n\r\n    render: ->\r\n        percent = 100 * (@props.done / @props.total) + '%'\r\n        div className: \"progress progress-thin\",\r\n            div\r\n                className: 'progress-bar',\r\n                style: width: percent\r\n","{a, h4,  pre, div, button, span, strong, i} = React.DOM\nSocketUtils     = require '../utils/socketio_utils'\nAppDispatcher   = require '../app_dispatcher'\nModal           = require './modal'\nStoreWatchMixin = require '../mixins/store_watch_mixin'\nLayoutStore      = require '../stores/layout_store'\nLayoutActionCreator = require '../actions/layout_action_creator'\n{ActionTypes} = require '../constants/app_constants'\n{CSSTransitionGroup} = React.addons\n\nclasser = React.addons.classSet\n\nmodule.exports = Toast = React.createClass\n    displayName: 'Toast'\n\n    getInitialState: ->\n        return modalErrors: false\n\n    closeModal: ->\n        @setState modalErrors: false\n\n    showModal: (errors) ->\n        @setState modalErrors: errors\n\n    acknowledge: ->\n        AppDispatcher.handleViewAction\n            type: ActionTypes.RECEIVE_TASK_DELETE\n            value: @props.toast.get('id')\n\n    renderModal: ->\n        title       = t 'modal please contribute'\n        subtitle    = t 'modal please report'\n        modalErrors = @state.modalErrors\n        closeModal  = @closeModal\n        closeLabel  = t 'app alert close'\n        content = React.DOM.pre\n            style: \"max-height\": \"300px\",\n            \"word-wrap\": \"normal\",\n                @state.modalErrors.join \"\\n\\n\"\n        Modal {title, subtitle, content, closeModal, closeLabel}\n\n    render: ->\n        toast = @props.toast.toJS()\n        hasErrors = toast.errors? and toast.errors.length\n        classes = classer\n            toast: true\n            'alert-dismissible': toast.finished\n            'alert-info': not hasErrors\n            'alert-warning': hasErrors\n        if toast.done? and toast.total?\n            percent = parseInt(100 * toast.done / toast.total) + '%'\n        if hasErrors\n            showModal = @showModal.bind(this, toast.errors)\n\n        div className: classes, role: \"alert\", key: @props.key,\n            if @state.modalErrors\n                @renderModal()\n\n            if percent?\n                div className: \"progress\",\n                    div\n                        className: 'progress-bar',\n                        style: width: percent\n                    div\n                        className: 'progress-bar-label start',\n                        style: width: percent,\n                        \"#{t \"task \" + toast.code, toast} : #{percent}\"\n                    div\n                        className: 'progress-bar-label end',\n                        \"#{t \"task \" + toast.code, toast} : #{percent}\"\n\n            if toast.message\n                div className: \"message\", toast.message\n\n            if toast.finished\n                button\n                    type: \"button\",\n                    className: \"close\",\n                    onClick: @acknowledge,\n                        span 'aria-hidden': \"true\", \"\"\n                        span className: \"sr-only\", t \"app alert close\"\n\n            if toast.actions?\n                div className: 'toast-actions',\n                    toast.actions.map (action, id) ->\n                        button\n                            className: \"btn btn-default btn-xs\",\n                            type: \"button\",\n                            key: id\n                            onClick: action.onClick,\n                            action.label\n\n            if hasErrors\n                div className: 'toast-actions',\n                    a onClick: showModal,\n                        t 'there were errors', smart_count: toast.errors.length\n\n\nmodule.exports.Container = ToastContainer =  React.createClass\n    displayName: 'ToastContainer'\n\n    mixins: [\n        StoreWatchMixin [LayoutStore]\n    ]\n\n    getStateFromStores: ->\n        return {\n            toasts: LayoutStore.getToasts()\n            hidden: not LayoutStore.isShown()\n        }\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    render: ->\n        toasts = @state.toasts.map (toast, id) ->\n            Toast {toast, key: id}\n        .toVector().toJS()\n\n        classes = classer\n            'toasts-container': true\n            'action-hidden': @state.hidden\n            'has-toasts': toasts.length isnt 0\n\n        div className: classes,\n            CSSTransitionGroup transitionName: \"toast\",\n                toasts\n            div className: 'alert alert-success toast toasts-actions',\n                span\n                    className: \"toast-action hide-action\",\n                    title: t 'toast hide'\n                    onClick: @toggleHidden,\n                        i className: 'fa fa-eye-slash'\n                span\n                    className: \"toast-action show-action\",\n                    title: t 'toast show'\n                    onClick: @toggleHidden,\n                        i className: 'fa fa-eye'\n                span\n                    className: \"toast-action close-action\",\n                    title: t 'toast close all'\n                    onClick: @closeAll,\n                        i className: 'fa fa-times'\n\n    toggleHidden: ->\n        if @state.hidden\n            LayoutActionCreator.toastsShow()\n        else\n            LayoutActionCreator.toastsHide()\n\n    closeAll: ->\n        LayoutActionCreator.clearToasts()\n\n    _clearToasts: ->\n        setTimeout ->\n            Array.prototype.forEach.call document.querySelectorAll('.toast-enter'), (e) ->\n                e.classList.add 'hidden'\n        , 10000\n\n    componentDidMount: ->\n        @_clearToasts()\n\n    componentDidUpdate: ->\n        @_clearToasts()\n","{div, ul, li, span, i, p, a, button} = React.DOM\n{MessageFlags, FlagsConstants} = require '../constants/app_constants'\n\nmodule.exports = ToolboxActions = React.createClass\n    displayName: 'ToolboxActions'\n\n    render: ->\n        direction = if @props.direction is 'right' then 'right' else 'left'\n        if @props.message?\n            messageRawId = @props.message.get('mailboxIDs')[@props.mailboxID]\n        div className: 'btn-group btn-group-sm',\n            button\n                className: 'btn btn-default dropdown-toggle more',\n                type: 'button',\n                'data-toggle': 'dropdown',\n                t 'mail action more',\n                    span className: 'caret'\n            ul className: 'dropdown-menu dropdown-menu-' + direction, role: 'menu',\n                li\n                    role: 'presentation',\n                    t 'mail action mark'\n                if (not @props.isSeen?) or @props.isSeen is true\n                    li null,\n                        a\n                            role: 'menuitem',\n                            onClick: @props.onMark,\n                            'data-value': FlagsConstants.SEEN,\n                            t 'mail mark read'\n                if (not @props.isSeen?) or @props.isSeen is false\n                    li null,\n                        a role: 'menuitem',\n                        onClick: @props.onMark,\n                        'data-value': FlagsConstants.UNSEEN,\n                        t 'mail mark unread'\n                if (not @props.isFlagged?) or @props.isFlagged is true\n                    li null,\n                        a\n                            role: 'menuitem',\n                            onClick: @props.onMark,\n                            'data-value': FlagsConstants.FLAGGED,\n                            t 'mail mark fav'\n                if (not @props.isFlagged?) or @props.isFlagged is false\n                    li null,\n                        a\n                            role: 'menuitem',\n                            onClick: @props.onMark,\n                            'data-value': FlagsConstants.NOFLAG,\n                            t 'mail mark nofav'\n                li role: 'presentation', className: 'divider'\n                if @props.messageID?\n                    li role: 'presentation',\n                        a\n                            onClick: @props.onHeaders,\n                            'data-message-id': @props.messageID,\n                            t 'mail action headers'\n                if @props.message?\n                    li role: 'presentation',\n                        a\n                            href: \"raw/#{@props.mailboxID}/#{messageRawId}\"\n                            target: '_blank'\n                            t 'mail action raw'\n                li role: 'presentation',\n                    a\n                        onClick: @props.onConversation,\n                        'data-action' : 'delete',\n                        t 'mail action conversation delete'\n                li role: 'presentation',\n                    a\n                        onClick: @props.onConversation,\n                        'data-action' : 'seen',\n                        t 'mail action conversation seen'\n                li role: 'presentation',\n                    a\n                        onClick: @props.onConversation,\n                        'data-action' : 'unseen',\n                        t 'mail action conversation unseen'\n                li role: 'presentation', className: 'divider'\n                li\n                    role: 'presentation',\n                    t 'mail action conversation move'\n                @props.mailboxes.map (mailbox, key) =>\n                    @renderMailboxes mailbox, key, true\n                .toJS()\n                li role: 'presentation', className: 'divider'\n\n    renderMailboxes: (mailbox, key, conversation) ->\n        # Don't display current mailbox\n        if mailbox.get('id') is @props.selectedMailboxID\n            return\n        pusher = \"\"\n        pusher += \"--\" for j in [1..mailbox.get('depth')] by 1\n        li role: 'presentation', key: key,\n            a\n                role: 'menuitem',\n                onClick: @onMove,\n                'data-value': key,\n                'data-conversation': conversation,\n                \"#{pusher}#{mailbox.get 'label'}\"\n\n","{div, ul, li, span, i, p, a, button} = React.DOM\nLayoutActionCreator       = require '../actions/layout_action_creator'\nConversationActionCreator = require '../actions/conversation_action_creator'\nmodule.exports = ToolboxMove = React.createClass\n    displayName: 'ToolboxMove'\n\n    render: ->\n        direction = if @props.direction is 'right' then 'right' else 'left'\n        div className: 'btn-group btn-group-sm',\n            button\n                className: 'btn btn-default dropdown-toggle move',\n                type: 'button',\n                'data-toggle': 'dropdown',\n                t 'mail action move',\n                    span className: 'caret'\n            ul\n                className: 'dropdown-menu dropdown-menu-' + direction,\n                role: 'menu',\n                    @props.mailboxes.map (mailbox, key) =>\n                        @renderMailboxes mailbox, key\n                    .toJS()\n\n    renderMailboxes: (mailbox, key, conversation) ->\n        # Don't display current mailbox\n        if mailbox.get('id') is @props.selectedMailboxID\n            return\n        pusher = \"\"\n        pusher += \"--\" for j in [1..mailbox.get('depth')] by 1\n        li role: 'presentation', key: key,\n            a\n                role: 'menuitem',\n                onClick: @props.onMove,\n                'data-value': key,\n                'data-conversation': conversation,\n                \"#{pusher}#{mailbox.get 'label'}\"\n\n","# React components\n{body, div, p, form, i, input, span, a, button, strong} = React.DOM\nMailboxList   = require './mailbox-list'\nSearchForm = require './search-form'\n\n# mixins & action creator\nRouterMixin = require '../mixins/router_mixin'\nLayoutActionCreator = require '../actions/layout_action_creator'\n\n# React addons\nReactCSSTransitionGroup = React.addons.CSSTransitionGroup\n\nmodule.exports = Topbar = React.createClass\n    displayName: 'Topbar'\n\n    mixins: [RouterMixin]\n\n    refresh: (event) ->\n        event.preventDefault()\n        LayoutActionCreator.refreshMessages()\n\n    shouldComponentUpdate: (nextProps, nextState) ->\n        return not(_.isEqual(nextState, @state)) or not (_.isEqual(nextProps, @props))\n\n    render: ->\n\n        {layout, selectedAccount, selectedMailboxID, mailboxes, searchQuery} = @props\n\n        responsiveBackUrl = @buildUrl\n            firstPanel: layout.firstPanel\n            fullWidth: true\n\n        getUrl = (mailbox) =>\n            @buildUrl\n                direction: 'first'\n                action: 'account.mailbox.messages'\n                parameters: [selectedAccount?.get('id'), mailbox.get('id')]\n\n        if selectedAccount and layout.firstPanel.action isnt 'account.new'\n            # the button toggles the mailbox config\n            if layout.firstPanel.action is 'account.config'\n                configMailboxUrl = @buildUrl\n                    direction: 'first'\n                    action: 'account.mailbox.messages'\n                    parameters: selectedAccount.get 'id'\n                    fullWidth: true\n            else\n                configMailboxUrl = @buildUrl\n                    direction: 'first'\n                    action: 'account.config'\n                    parameters: [\n                        selectedAccount.get 'id'\n                        'account'\n                    ]\n                    fullWidth: true\n\n\n        div id: 'quick-actions', className: 'row',\n            # responsive menu icon\n            if layout.secondPanel\n                a href: responsiveBackUrl, className: 'responsive-handler hidden-md hidden-lg',\n                    i className: 'fa fa-chevron-left hidden-md hidden-lg pull-left'\n                    t \"app back\"\n\n            if layout.firstPanel.action is 'account.mailbox.messages' or\n               layout.firstPanel.action is 'account.mailbox.messages'\n                div className: 'col-md-6 hidden-xs hidden-sm pull-left',\n                    form className: 'form-inline col-md-12',\n                        MailboxList\n                            getUrl: getUrl\n                            mailboxes: mailboxes\n                            selectedMailbox: selectedMailboxID\n                        SearchForm query: searchQuery\n\n            if layout.firstPanel.action is 'account.mailbox.messages' or\n               layout.firstPanel.action is 'account.mailbox.messages'\n                div id: 'contextual-actions', className: 'col-md-6 hidden-xs hidden-sm pull-left text-right',\n                    a onClick: @refresh, className: 'btn btn-cozy-contrast',\n                        i className: 'fa fa-refresh'\n                    ReactCSSTransitionGroup transitionName: 'fade',\n                        if configMailboxUrl\n                            a href: configMailboxUrl, className: 'btn btn-cozy mailbox-config',\n                                i className: 'fa fa-cog'\n","module.exports =\n\n    ActionTypes:\n        # Account\n        'ADD_ACCOUNT'               : 'ADD_ACCOUNT'\n        'REMOVE_ACCOUNT'            : 'REMOVE_ACCOUNT'\n        'EDIT_ACCOUNT'              : 'EDIT_ACCOUNT'\n        'SELECT_ACCOUNT'            : 'SELECT_ACCOUNT'\n        'NEW_ACCOUNT_WAITING'       : 'NEW_ACCOUNT_WAITING'\n        'NEW_ACCOUNT_ERROR'         : 'NEW_ACCOUNT_ERROR'\n\n        # Mailbox\n        'MAILBOX_ADD'               : 'MAILBOX_ADD'\n        'MAILBOX_CREATE'            : 'MAILBOX_CREATE'\n        'MAILBOX_UPDATE'            : 'MAILBOX_UPDATE'\n        'MAILBOX_DELETE'            : 'MAILBOX_DELETE'\n\n        # Message\n        'RECEIVE_RAW_MESSAGE'       : 'RECEIVE_RAW_MESSAGE'\n        'RECEIVE_RAW_MESSAGES'      : 'RECEIVE_RAW_MESSAGES'\n        'MESSAGE_SEND'              : 'MESSAGE_SEND'\n        'MESSAGE_DELETE'            : 'MESSAGE_DELETE'\n        'MESSAGE_BOXES'             : 'MESSAGE_BOXES'\n        'MESSAGE_FLAG'              : 'MESSAGE_FLAG'\n        'MESSAGE_ACTION'            : 'MESSAGE_ACTION'\n        'MESSAGE_CURRENT'           : 'MESSAGE_CURRENT'\n        'RECEIVE_MESSAGE_DELETE'    : 'RECEIVE_MESSAGE_DELETE'\n        'RECEIVE_MAILBOX_UPDATE'    : 'RECEIVE_MAILBOX_UPDATE'\n        'SET_FETCHING'              : 'SET_FETCHING'\n\n        # Search\n        'SET_SEARCH_QUERY'          : 'SET_SEARCH_QUERY'\n        'RECEIVE_RAW_SEARCH_RESULTS': 'RECEIVE_RAW_SEARCH_RESULTS'\n        'CLEAR_SEARCH_RESULTS'      : 'CLEAR_SEARCH_RESULTS'\n\n        # Contacts\n        'SET_CONTACT_QUERY'          : 'SET_CONTACT_QUERY'\n        'RECEIVE_RAW_CONTACT_RESULTS': 'RECEIVE_RAW_CONTACT_RESULTS'\n        'CLEAR_CONTACT_RESULTS'      : 'CLEAR_CONTACT_RESULTS'\n        'CONTACT_LOCAL_SEARCH'       : 'CONTACT_LOCAL_SEARCH'\n\n        # Layout\n        'SET_DISPOSITION'           : 'SET_DISPOSITION'\n        'DISPLAY_ALERT'             : 'DISPLAY_ALERT'\n        'HIDE_ALERT'                : 'HIDE_ALERT'\n        'REFRESH'                   : 'REFRESH'\n\n        # Mailbox\n        'RECEIVE_RAW_MAILBOXES'     : 'RECEIVE_RAW_MAILBOXES'\n\n        # Settings\n        'SETTINGS_UPDATED'          : 'SETTINGS_UPDATED'\n\n        # Tasks\n        'RECEIVE_TASK_UPDATE'       : 'RECEIVE_TASK_UPDATE'\n        'RECEIVE_TASK_DELETE'       : 'RECEIVE_TASK_DELETE'\n        'CLEAR_TOASTS'              : 'CLEAR_TOASTS'\n\n        # Refreshes\n        'RECEIVE_REFRESH_UPDATE'       : 'RECEIVE_REFRESH_UPDATE'\n        'RECEIVE_REFRESH_STATUS'       : 'RECEIVE_REFRESH_STATUS'\n        'RECEIVE_REFRESH_DELETE'       : 'RECEIVE_REFRESH_DELETE'\n\n        # List\n        'LIST_FILTER'               : 'LIST_FILTER'\n        'LIST_QUICK_FILTER'         : 'LIST_QUICK_FILTER'\n        'LIST_SORT'                 : 'LIST_SORT'\n\n        # Toasts\n        'TOASTS_SHOW'               : 'TOASTS_SHOW'\n        'TOASTS_HIDE'               : 'TOASTS_HIDE'\n\n    PayloadSources:\n        'VIEW_ACTION'   : 'VIEW_ACTION'\n        'SERVER_ACTION' : 'SERVER_ACTION'\n\n    ComposeActions:\n        'REPLY'         : 'REPLY'\n        'REPLY_ALL'     : 'REPLY_ALL'\n        'FORWARD'       : 'FORWARD'\n\n    AlertLevel:\n        'SUCCESS'      : 'SUCCESS'\n        'INFO'         : 'INFO'\n        'WARNING'      : 'WARNING'\n        'ERROR'        : 'ERROR'\n\n    MessageFlags:\n        'FLAGGED'      : '\\\\Flagged'\n        'SEEN'         : '\\\\Seen'\n        'DRAFT'        : '\\\\Draft'\n\n    MessageFilter:\n        'ALL'          : 'all'\n        'FLAGGED'      : 'flagged'\n        'UNSEEN'       : 'unseen'\n\n    MailboxFlags:\n        'DRAFT'   :  '\\\\Drafts'\n        'SENT'    :  '\\\\Sent'\n        'TRASH'   :  '\\\\Trash'\n        'ALL'     :  '\\\\All'\n        'SPAM'    :  '\\\\Junk'\n        'FLAGGED' :  '\\\\Flagged'\n\n    FlagsConstants:\n        SEEN   : '\\\\Seen'\n        UNSEEN : 'Unseen'\n        FLAGGED: '\\\\Flagged'\n        NOFLAG : 'Noflag'\n\n    Dispositions:\n        HORIZONTAL: 'horizontal'\n        VERTICAL: 'vertical'\n        THREE: 'three'\n\n    SpecialBoxIcons:\n        inboxMailbox: 'fa-inbox'\n        draftMailbox: 'fa-edit'\n        sentMailbox: 'fa-share-square-o'\n        trashMailbox: 'fa-trash-o'\n        junkMailbox: 'fa-exclamation'\n        allMailbox: 'fa-archive'\n","# Waits for the DOM to be ready\n# Send client side errors to server\nwindow.onerror = (msg, url, line, col, error) ->\n    console.error msg, url, line, col, error\n    exception = error?.toString() or msg\n    if exception isnt window.lastError\n        data =\n            data:\n                type: 'error'\n                error:\n                    msg: msg\n                    full: exception\n                    stack: error?.stack\n                url: url\n                line: line\n                col: col\n                href: window.location.href\n        xhr = new XMLHttpRequest()\n        xhr.open 'POST', 'activity', true\n        xhr.setRequestHeader \"Content-Type\", \"application/json;charset=UTF-8\"\n        xhr.send JSON.stringify(data)\n        window.lastError = exception\n\nwindow.onload = ->\n\n    try\n        window.__DEV__ = window.location.hostname is 'localhost'\n\n        # expose an API\n        window.cozyMails = require './utils/api_utils'\n\n        # use Cozy instance locale or navigator language or \"en\" by default\n        if not window.settings?\n            window.settings = {}\n        locale =\n            #window.settings.lang or\n            window.locale or\n            window.navigator.language or\n            \"en\"\n\n        window.cozyMails.setLocale locale\n        LayoutActionCreator = require './actions/layout_action_creator/'\n        LayoutActionCreator.setDisposition window.settings.layoutStyle\n\n        # init plugins\n        PluginUtils = require \"./utils/plugin_utils\"\n        if not window.settings.plugins?\n            window.settings.plugins = {}\n        PluginUtils.merge window.settings.plugins\n        PluginUtils.init()\n\n        window.cozyMails.setSetting 'plugins', window.settings.plugins\n\n        # Flux initialization (must be called at the begining)\n        AccountStore  = require './stores/account_store'\n        ContactStore  = require './stores/contact_store'\n        LayoutStore   = require './stores/layout_store'\n        MessageStore  = require './stores/message_store'\n        SearchStore   = require './stores/search_store'\n        SettingsStore = require './stores/settings_store'\n\n        # Routing management\n        Router = require './router'\n        @router = new Router()\n        window.router = @router\n\n        # Binds the router and flux to the React application\n        Application = require './components/application'\n        application = Application router: @router\n        React.renderComponent application, document.body\n\n        # Starts the application by initializing the router\n        Backbone.history.start()\n\n        # begin realtime\n        require './utils/socketio_utils'\n\n        # Desktop notifications\n        if window.settings.desktopNotifications\n            Notification.requestPermission (status) ->\n                # This allows to use Notification.permission with Chrome/Safari\n                if Notification.permission isnt status\n                    Notification.permission = status\n\n    catch e\n        console.error e\n        exception = e.toString()\n        if exception isnt window.lastError\n            # Send client side errors to server\n            data =\n                data:\n                    type: 'error'\n                    exception: exception\n            xhr = new XMLHttpRequest()\n            xhr.open 'POST', 'activity', true\n            xhr.setRequestHeader \"Content-Type\", \"application/json;charset=UTF-8\"\n            xhr.send JSON.stringify(data)\n            window.lastError = exception\n","###\n\n    -- Coffee port of Facebook's flux dispatcher. It was in ES6 and I haven't\n    been successful in adding a transpiler. --\n\n    Copyright (c) 2014, Facebook, Inc.\n    All rights reserved.\n\n    This source code is licensed under the BSD-style license found in the\n    LICENSE file in the root directory of this source tree. An additional grant\n    of patent rights can be found in the PATENTS file in the same directory.\n ###\n\ninvariant = require '../invariant'\n\n_lastID = 1\n_prefix = 'ID_'\n\nmodule.exports = Dispatcher = class Dispatcher\n    constructor: ->\n        this._callbacks = {}\n        this._isPending = {}\n        this._isHandled = {}\n        this._isDispatching = false\n        this._pendingPayload = null\n\n    ###\n        Registers a callback to be invoked with every dispatched payload.\n        Returns a token that can be used with `waitFor()`.\n\n        @param {function} callback\n        @return {string}\n    ###\n    register: (callback) ->\n        id = _prefix + _lastID++\n        this._callbacks[id] = callback\n        return id\n\n    ###\n        Removes a callback based on its token.\n\n        @param {string} id\n    ###\n    unregister: (id) ->\n        message = 'Dispatcher.unregister(...): `%s` does not map to a ' + \\\n                  'registered callback.'\n        invariant(\n            this._callbacks[id],\n            message,\n            id\n        )\n        delete this._callbacks[id]\n\n    ###\n        Waits for the callbacks specified to be invoked before continuing\n        execution of the current callback. This method should only be used by a\n        callback in response to a dispatched payload.\n\n        @param {array<string>} ids\n    ###\n    waitFor: (ids) ->\n        invariant(\n            this._isDispatching,\n            'Dispatcher.waitFor(...): Must be invoked while dispatching.'\n        )\n        message = 'Dispatcher.waitFor(...): Circular dependency detected ' + \\\n                  'while waiting for `%s`.'\n        message2 = 'Dispatcher.waitFor(...): `%s` does not map to a ' + \\\n                   'registered callback.'\n        for ii in [0..ids.length - 1] by 1\n            id = ids[ii]\n            if this._isPending[id]\n                invariant(\n                    this._isHandled[id],\n                    message,\n                    id\n                )\n                continue\n\n            invariant(\n                this._callbacks[id],\n                message2,\n                id\n            )\n            this._invokeCallback id\n\n    ###\n        Dispatches a payload to all registered callbacks.\n\n        @param {object} payload\n    ###\n    dispatch: (payload) ->\n        message = 'Dispatch.dispatch(...): Cannot dispatch in the middle ' + \\\n                  'of a dispatch.'\n        invariant(\n            not this._isDispatching,\n            message\n        )\n        this._startDispatching(payload)\n        try\n            for id of this._callbacks\n                if this._isPending[id]\n                    continue\n                this._invokeCallback id\n        finally\n            this._stopDispatching()\n\n    ###\n        Is this Dispatcher currently dispatching.\n\n        @return {boolean}\n    ###\n    isDispatching: -> return this._isDispatching\n\n    ###\n        Call the callback stored with the given id. Also do some internal\n        bookkeeping.\n\n        @param {string} id\n        @internal\n    ###\n    _invokeCallback: (id) ->\n        this._isPending[id] = true\n        this._callbacks[id](this._pendingPayload)\n        this._isHandled[id] = true\n\n    ###\n        Set up bookkeeping needed when dispatching.\n\n        @param {object} payload\n        @internal\n    ###\n    _startDispatching: (payload) ->\n        for id of this._callbacks\n            this._isPending[id] = false\n            this._isHandled[id] = false\n\n        this._pendingPayload = payload\n        this._isDispatching = true\n\n    ###\n        Clear bookkeeping used for dispatching.\n\n        @internal\n    ###\n    _stopDispatching: ->\n        this._pendingPayload = null\n        this._isDispatching = false\n","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n\"use strict\";\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (__DEV__) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        'Invariant Violation: ' +\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;","AppDispatcher = require '../../../app_dispatcher'\n\n\nmodule.exports = class Store extends EventEmitter\n\n    uniqID: null\n\n    # this variable will be shared with all subclasses so we store the items\n    # by subclass we don't use `@constructor.name` because it breaks when\n    # mangled\n    _nextUniqID = 0\n    _handlers = {}\n    _addHandlers = (type, callback) ->\n\n        _handlers[@uniqID] = {} unless _handlers[@uniqID]?\n        _handlers[@uniqID][type] = callback\n\n    # Registers the store's callbacks to the dispatcher\n    _processBinding = ->\n        @dispatchToken = AppDispatcher.register (payload) =>\n            {type, value} = payload.action\n            if (callback = _handlers[@uniqID][type])?\n                callback.call @, value\n\n\n    constructor: ->\n        super()\n        # set a uniq ID\n        @uniqID = _nextUniqID++\n        @__bindHandlers _addHandlers.bind @\n        _processBinding.call @\n\n    # Must be overriden by each store\n    __bindHandlers: (handle) ->\n        if __DEV__\n            message = \"The store #{@constructor.name} must define a \" + \\\n                      \"`__bindHandlers` method\"\n            throw new Error message\n\n","###\n    Routing component. We let Backbone handling browser stuff\n    and we format the varying parts of the layout.\n\n    URLs are built in the following way:\n        - a first part that represents the first panel\n        - a second part that represents the second panel\n        - if there is just one part, it represents a full width panel\n\n    Since Backbone.Router only handles one part, routes initialization mechanism\n    is overriden so we can post-process the second part of the URL.\n\n    Example: a defined pattern will generates two routes.\n        - `mailbox/a/path/:id`\n        - `mailbox/a/path/:id/*secondPanel`\n\n        Each pattern is actually the pattern itself plus the pattern itself and\n        another pattern.\n###\n\nLayoutActionCreator = require '../actions/layout_action_creator'\n\nmodule.exports = class Router extends Backbone.Router\n\n    patterns: {}\n\n    # default route\n    routes: {}\n\n    previous: null\n    current: null\n\n    # we store a regexified version of each patterns\n    cachedPatterns: []\n\n    initialize: (options) ->\n\n        # defines the routes from the patterns\n        for key, route of @patterns\n\n            # caches each regex' pattern to avoid to recalculate them each time\n            @cachedPatterns.push\n                key: key\n                pattern: @_routeToRegExp route.pattern\n\n            # each pattern has two routes: full-width or with a second panel\n            @routes[route.pattern] = key\n            @routes[\"#{route.pattern}/*secondPanel\"] = key\n\n        # Backbone's magic\n        @_bindRoutes()\n\n        # Updates the LayoutStore for each matched request\n        @on 'route', (name, args) =>\n\n            if name is 'default'\n                name = LayoutActionCreator.getDefaultRoute()\n                args = [null]\n\n            [firstPanelInfo, secondPanelInfo] = @_processSubRouting name, args\n\n            firstAction = @fluxActionFactory firstPanelInfo\n            secondAction = @fluxActionFactory secondPanelInfo\n\n            @previous = @current\n            @current = firstPanel: firstPanelInfo, secondPanel: secondPanelInfo\n\n            if firstAction?\n                firstAction firstPanelInfo, 'first'\n\n            if secondAction?\n                secondAction secondPanelInfo, 'second'\n            @trigger 'fluxRoute', @current\n\n\n    ###\n        Gets the Flux action to execute given a panel info.\n    ###\n    fluxActionFactory: (panelInfo) ->\n\n        fluxAction = null\n        pattern = @patterns[panelInfo?.action]\n\n        if pattern?\n            fluxAction = LayoutActionCreator[pattern.fluxAction]\n\n            if not fluxAction?\n                console.warn \"`#{pattern.fluxAction}` method not found in \" + \\\n                             \"layout actions.\"\n\n            return fluxAction\n\n\n    ###\n        Extracts and matches the second part of the URl if it exists.\n    ###\n    _processSubRouting: (name, args) ->\n        # removes the last argument which is always `null`, not sure why\n        args.pop()\n\n        # next comes the secondPanel url if it exists\n        # or a firstPanel parameter if there is not secondPanel\n        secondPanelString = args.pop()\n\n        # if first panel number of expected params is bigger what is first\n        # it means there are no second panel and that what we got before was a\n        # parameter of the first panel\n        params = @patterns[name].pattern.match(/:[\\w]+/g) or []\n        if params.length > args.length and secondPanelString?\n            args.push secondPanelString\n            secondPanelString = null\n\n        firstPanelParameters = @_arrayToNamedParameters name, args\n\n        # checks all the routes for the second part of the URL\n        route = _.first _.filter @cachedPatterns, (element) ->\n            return element.pattern.test secondPanelString\n\n        # if a route has been found, we retrieve the params' value and format it\n        if route?\n            args = @_extractParameters route.pattern, secondPanelString\n            # remove the last argument which is alway `null`, not sure why\n            args.pop()\n\n            # normalizes the secondPanelInfo and adds default parameters if\n            # needed\n            secondPanelInfo = @_mergeDefaultParameter\n                action: route.key\n                parameters: @_arrayToNamedParameters route.key, args\n        else\n            secondPanelInfo = null\n\n        # normalizes the firstPanelInfo and adds default parameters, if needed\n        firstPanelInfo = @_mergeDefaultParameter\n            action: name\n            parameters: firstPanelParameters\n\n        return [firstPanelInfo, secondPanelInfo]\n\n\n    ###\n        Turns a parameters array into an object of named parameters\n    ###\n    _arrayToNamedParameters: (patternName, parametersArray) ->\n\n        namedParameters = {}\n        parametersName = @patterns[patternName].pattern.match(/:[\\w]+/g) or []\n        for paramName, index in parametersName\n            # Removes the initial \":\"\n            unPrefixedParamName = paramName.substr 1\n            namedParameters[unPrefixedParamName] = parametersArray[index]\n\n        return namedParameters\n\n\n    ###\n        Turns a parameters array into an object of named parameters\n    ###\n    _namedParametersToArray: (patternName, namedParameters) ->\n        parametersArray = []\n        parametersName = @patterns[patternName].pattern.match(/:[\\w]+/g) or []\n        for paramName, index in parametersName\n            # Removes the initial \":\"\n            unPrefixedParamName = paramName.substr 1\n            parametersArray.push namedParameters[paramName]\n\n        return parametersArray\n\n\n    ###\n        Builds a route from panel information.\n        Two modes:\n            - options has firstPanel and/or secondPanel attributes with the\n              panel(s) information.\n            - options has the panel information along a `direction` attribute\n              that can be `first` or `second`. It's the short version.\n    ###\n    buildUrl: (options) ->\n        # Loads the panel from the options or the current router status to keep\n        # track of current URLs\n        if options.firstPanel? or options.secondPanel?\n            firstPanelInfo = options.firstPanel or @current.firstPanel\n            secondPanelInfo = options.secondPanel or @current.secondPanel\n        else\n            # Handles short version\n            if options.direction?\n                if options.direction is 'first'\n                    firstPanelInfo = options\n                    secondPanelInfo = @current.secondPanel\n                else if options.direction is 'second'\n                    firstPanelInfo = @current.firstPanel\n                    secondPanelInfo = options\n                else\n                    console.warn '`direction` should be `first`, `second`.'\n            else\n                console.warn '`direction` parameter is mandatory when ' + \\\n                             'using short call.'\n\n        # if the `fullWidth` parameter is set, it ignores the second panel info\n        isFirstDirection = options.firstPanel? or options.direction is 'first'\n        if isFirstDirection and options.fullWidth\n            if options.secondPanel? and options.direction is 'second'\n                console.warn \"You shouldn't use the fullWidth option with \" + \\\n                             \"a second panel\"\n            secondPanelInfo = null\n\n        # Actual building\n        firstPart = @_getURLFromRoute firstPanelInfo\n        secondPart = @_getURLFromRoute secondPanelInfo\n\n        url = \"##{firstPart}\"\n        if secondPart? and secondPart.length > 0\n            url = \"#{url}/#{secondPart}\"\n\n        return url\n\n\n    ###\n        Closes a panel given a direction. If a full-width panel is closed,\n        the URL points to the default route.\n    ###\n    buildClosePanelUrl: (direction) ->\n\n        # If a first panel is closed, the second panel becomes full-width.\n        # If a full-width panel is closed, `@current.secondPanel` is null and\n        # the default route is loaded.\n        if direction is 'first' or direction is 'full'\n            panelInfo = _.clone @current.secondPanel\n        else\n            panelInfo = _.clone @current.firstPanel\n\n        if panelInfo?\n            panelInfo.direction = 'first'\n            panelInfo.fullWidth = true\n            return @buildUrl panelInfo\n        else\n            return '#' # loads the default route\n\n\n    # Builds the URL string from a route.\n    _getURLFromRoute: (panel) ->\n\n        # Clones the parameter because we are going to mutate it\n        panel = _.clone panel\n        if panel?.parameters?\n            # _.clone doesn't perform a deep copy\n            panel.parameters = _.clone panel.parameters\n\n        if panel?\n            pattern = @patterns[panel.action].pattern\n\n            # if the parameter is alone, we turn it into an array\n            if panel.parameters? and not (panel.parameters instanceof Array) \\\n            and not (panel.parameters instanceof Object)\n                panel.parameters = [panel.parameters]\n\n            # to ensures BC, if it's an array, we turn it into an object of\n            # named parameters\n            if panel.parameters? and panel.parameters instanceof Array\n                {action, parameters} = panel\n                panel.parameters = @_arrayToNamedParameters action, parameters\n\n            panel = @_mergeDefaultParameter panel\n\n            # we default to empty array if there is no parameter in the route\n            parametersInPattern = pattern.match(/:[\\w]+/gi) or []\n\n            # the pattern is progressively filled with values\n            filledPattern = pattern\n            if panel.parameters\n                for paramInPattern in parametersInPattern\n                    key = paramInPattern.substr 1\n                    paramValue = panel.parameters[key]\n                    filledPattern = filledPattern.replace paramInPattern, \\\n                                                                    paramValue\n\n            return filledPattern\n        else\n            return ''\n\n\n    # Merges defaut parameters into a panel info if there are missing parameters\n    _mergeDefaultParameter: (panelInfo) ->\n        panelInfo = _.clone panelInfo\n        parameters = _.clone panelInfo.parameters or {}\n        # gets default values, if there are\n        if (defaultParameters = @_getDefaultParameters panelInfo.action)?\n\n            # merges the parameters in the relevant place\n            for key, defaultParameter of defaultParameters\n                if not parameters[key]?\n                    parameters[key] = defaultParameter\n\n        panelInfo.parameters = parameters\n\n        return panelInfo\n","module.exports =\n\n      # Application\n      \"app loading\"             : \"Loading\"\n      \"app back\"                : \"Back\"\n      \"app cancel\"              : \"Cancel\"\n      \"app menu\"                : \"Menu\"\n      \"app search\"              : \"Search\"\n      \"app alert close\"         : \"Close\"\n      \"app unimplemented\"       : \"Not implemented yet\"\n      \"app error\"               : \"Argh, I'm unable to perform this action,\n                                    please try again\"\n\n      # Compose window\n      \"compose\"                   : \"Compose new email\"\n      \"compose default\"           : 'Hello, how are you doing today?'\n      \"compose from\"              : \"From\"\n      \"compose to\"                : \"To\"\n      \"compose to help\"           : \"Recipients list\"\n      \"compose cc\"                : \"Cc\"\n      \"compose cc help\"           : \"Copy list\"\n      \"compose bcc\"               : \"Bcc\"\n      \"compose bcc help\"          : \"Hidden copy list\"\n      \"compose subject\"           : \"Subject\"\n      \"compose content\"           : \"Content\"\n      \"compose subject help\"      : \"Message subject\"\n      \"compose reply prefix\"      : \"Re: \"\n      \"compose reply separator\"   : \"\\n\\nOn %{date}, %{sender} wrote \\n\"\n      \"compose forward prefix\"    : \"Fwd: \"\n      \"compose forward separator\" : \"\\n\\nOn %{date}, %{sender} wrote \\n\"\n      \"compose action draft\"      : \"Save draft\"\n      \"compose action send\"       : \"Send\"\n      \"compose action delete\"     : \"Delete draft\"\n      \"compose action sending\"    : \"Sending\"\n      \"compose toggle cc\"         : \"Cc\"\n      \"compose toggle bcc\"        : \"Bcc\"\n      \"compose error no dest\"     : \"You can not send a message to nobody\"\n      \"compose error no subject\"  : \"Please set a subject\"\n      \"compose confirm keep draft\": \"Message not sent, keep the draft?\"\n      \"compose draft deleted\"     : \"Draft deleted\"\n\n      # Menu\n      \"menu compose\"            : \"Compose\"\n      \"menu account new\"        : \"New Mailbox\"\n      \"menu settings\"           : \"Parameters\"\n      \"menu mailbox total\"      : \"%{smart_count} message|||| %{smart_count} messages\"\n      \"menu mailbox unread\"     : \", %{smart_count} unread message ||||, %{smart_count} unread messages \"\n      \"menu mailbox new\"        : \"and %{smart_count} new message||||and %{smart_count} new messages \"\n      \"menu favorites on\"       : \"Favorites\"\n      \"menu favorites off\"      : \"All\"\n\n      # List\n      \"list empty\"              : \"No email in this box.\"\n      \"no flagged message\"        : \"No Important email in this box.\"\n      \"no unseen message\"         : \"All emails have been read in this box\"\n      \"no filter message\"       : \"No email for this filter.\"\n      \"list fetching\"           : \"Loading\"\n      \"list search empty\"       : \"No result found for the query \\\"%{query}\\\".\"\n      \"list count\"              : \"%{smart_count} message in this\n                                  box |||| %{smart_count} messages in this box\"\n      \"list search count\"       : \"%{smart_count} result found. ||||\n                                    %{smart_count} results found.\"\n      \"list filter\"               : \"Filter\"\n      \"list filter all\"           : \"All\"\n      \"list filter unseen\"        : \"Unseen\"\n      \"list filter unseen title\"  : \"Show only unread messages\"\n      \"list filter flagged\"       : \"Important\"\n      \"list filter flagged title\" : \"Show only Important messages\"\n      \"list sort\"                 : \"Sort\"\n      \"list sort date\"            : \"Date\"\n      \"list sort subject\"         : \"Subject\"\n      \"list option compact\"       : \"Compact\"\n      \"list next page\"            : \"More messages\"\n      \"list end\"                  : \"This is the end of the road\"\n      \"list mass no message\"      : \"No message selected\"\n      \"list delete confirm\"       : \"Do you really want to delete %{nb} messages?\"\n\n      # Mail\n      \"mail receivers\"          : \"To: \"\n      \"mail receivers cc\"       : \"Cc: \"\n      \"mail action reply\"       : \"Reply\"\n      \"mail action reply all\"   : \"Reply all\"\n      \"mail action forward\"     : \"Forward\"\n      \"mail action delete\"      : \"Delete\"\n      \"mail action mark\"        : \"Mark as\"\n      \"mail action copy\"        : \"Copy\"\n      \"mail action move\"        : \"Move\"\n      \"mail action more\"        : \"More\"\n      \"mail action headers\"     : \"Headers\"\n      \"mail action raw\"         : \"Raw message\"\n      \"mail mark spam\"          : \"Spam\"\n      \"mail mark nospam\"        : \"No spam\"\n      \"mail mark fav\"           : \"Important\"\n      \"mail mark nofav\"         : \"Not important\"\n      \"mail mark read\"          : \"Read\"\n      \"mail mark unread\"        : \"Unread\"\n      \"mail confirm delete\"     : \"Do you really want to delete message %{subject}?\"\n      \"mail action conversation delete\" : \"Delete conversation\"\n      \"mail action conversation move\"   : \"Move conversation\"\n      \"mail action conversation seen\"   : \"Mark conversation as read\"\n      \"mail action conversation unseen\" : \"Mark conversation as unread\"\n      \"mail conversation length\": \"\"\"\n            %{smart_count} message dans cette conversation. ||||\n            %{smart_count} messages dans cette conversation.\n      \"\"\"\n\n      # Account\n      \"account new\"                 : \"New account\"\n      \"account edit\"                : \"Edit account\"\n      \"account add\"                 : \"Add\"\n      \"account save\"                : \"Save\"\n      \"account check\"               : \"Check connection\"\n      \"account accountType short\"   : \"IMAP\"\n      \"account accountType\"         : \"Account type\"\n      \"account imapPort short\"      : \"993\"\n      \"account imapPort\"            : \"Port\"\n      \"account imapSSL\"             : \"Use SSL\"\n      \"account imapTLS\"             : \"Use TLS\"\n      \"account imapServer short\"    : \"imap.provider.tld\"\n      \"account imapServer\"          : \"IMAP server\"\n      \"account label short\"         : \"A short mailbox name\"\n      \"account label\"               : \"Account label\"\n      \"account login short\" : \"Your email address\"\n      \"account login\"             : \"Email address\"\n      \"account name short\"       : \"Your name, as it will be displayed\"\n      \"account name\"           : \"Your name\"\n      \"account password\"            : \"Password\"\n      \"account receiving server\"    : \"Receiving server\"\n      \"account sending server\"      : \"Sending server\"\n      \"account smtpPort short\"      : \"465\"\n      \"account smtpPort\"            : \"Port\"\n      \"account smtpServer short\"    : \"smtp.provider.tld\"\n      \"account smtpServer\"          : \"SMTP server\"\n      \"account smtpSSL\"             : \"Use SSL\"\n      \"account smtpTLS\"             : \"Use STARTTLS\"\n      \"account remove\"              : \"Remove this account\"\n      \"account remove confirm\"      : \"Do you really want to remove this\n                                        account?\"\n      \"account draft mailbox\"       : \"Draft box\"\n      \"account sent mailbox\"        : \"Sent box\"\n      \"account trash mailbox\"       : \"Trash\"\n      \"account mailboxes\"           : \"Folders\"\n      \"account special mailboxes\"   : \"Special mailboxes\"\n      \"account newmailbox label\"    : \"New Folder\"\n      \"account newmailbox placeholder\" : \"Name\"\n      \"account newmailbox parent\"   : \"Parent:\"\n      \"account confirm delbox\"      : \"Do you really want to delete this box\n                                        and everything in it?\"\n      \"account tab account\"         : \"Account\"\n      \"account tab mailboxes\"       : \"Folders\"\n      \"account errors\"              : \"Some data are missing or invalid\"\n      \"account type\"                : \"Account type\"\n      \"account updated\"             : \"Account updated\"\n      \"account checked\"             : \"Parameters ok\"\n      \"account creation ok\"         : \"Yeah! The account has been successfully\n        created. Now select the mailboxes you want to see in the menu\"\n      \"account refreshed\"           : \"Account refreshed\"\n      \"account refresh error\"       : \"Error refreshing accounts, check parameters\"\n      \"account identifiers\"         : \"Identification\"\n      \"account actions\"             : \"Actions\"\n      \"account danger zone\"         : \"Danger Zone\"\n      \"account no special mailboxes\": \"Please configure special folders first\"\n      \"mailbox create ok\"           : \"Folder created\"\n      \"mailbox create ko\"           : \"Error creating folder\"\n      \"mailbox update ok\"           : \"Folder updated\"\n      \"mailbox update ko\"           : \"Error updating folder\"\n      \"mailbox delete ok\"           : \"Folder deleted\"\n      \"mailbox delete ko\"           : \"Error deleting folder\"\n      \"mailbox title edit\"          : \"Rename folder\"\n      \"mailbox title delete\"        : \"Delete folder\"\n      \"mailbox title edit save\"     : \"Save\"\n      \"mailbox title edit cancel\"   : \"Cancel\"\n      \"mailbox title add\"           : \"Add new folder\"\n      \"mailbox title add cancel\"    : \"Cancel\"\n      \"mailbox title favorite\"      : \"Folder is displayed\"\n      \"mailbox title not favorite\"  : \"Folder not displayed\"\n      \"mailbox title total\"         : \"Total\"\n      \"mailbox title unread\"        : \"Unread\"\n      \"mailbox title new\"           : \"New\"\n      \"config error auth\"           : \"Wrong connection parameters\"\n      \"config error imapPort\"       : \"Wrong IMAP port\"\n      \"config error imapServer\"     : \"Wrong IMAP server\"\n      \"config error imapTLS\"        : \"Wrong IMAP TLS\"\n      \"config error smtpPort\"       : \"Wrong SMTP Port\"\n      \"config error smtpServer\"     : \"Wrong SMTP Server\"\n      \"config error nomailboxes\"    : \"No folder in this account, please create\n                                        one\"\n\n      # Message Action\n      \"message action sent ok\"      : \"Message sent\"\n      \"message action sent ko\"      : \"Error sending message: \"\n      \"message action draft ok\"     : \"Message saved\"\n      \"message action draft ko\"     : \"Error saving message: \"\n      \"message action delete ok\"    : \"Message %{subject} deleted\"\n      \"message action delete ko\"    : \"Error deleting message: \"\n      \"message action move ok\"      : \"Message moved\"\n      \"message action move ko\"      : \"Error moving message: \"\n      \"message action mark ok\"      : \"Message marked\"\n      \"message action mark ko\"      : \"Error marking message: \"\n      \"conversation move ok\"        : \"Conversation moved\"\n      \"conversation move ko\"        : \"Error moving conversation\"\n      \"conversation delete ok\"      : \"Conversation deleted\"\n      \"conversation delete ko\"      : \"Error deleting conversation\"\n      \"conversation seen ok\"        : \"Conversation marked as read\"\n      \"conversation seen ko\"        : \"Error\"\n      \"conversation unseen ok\"      : \"Conversation marked as unread\"\n      \"conversation unseen ko\"      : \"Error\"\n      \"message images warning\"      : \"Display of images inside message has\n                                        been blocked\"\n      \"message images display\"      : \"Display images\"\n      \"message html display\"        : \"Display HTML\"\n      \"message delete no trash\"     : \"Please select a Trash folder\"\n      \"message undelete\"            : \"Undo message deletion\"\n      \"message undelete ok\"         : \"Message undeleted\"\n      \"message undelete error\"      : \"Undo not available\"\n      \"message preview title\"       : \"View attachments\"\n\n      # Settings\n      \"settings title\"             : \"Settings\"\n      \"settings button save\"       : \"Save\"\n      #\"settings label mpp\"         : \"Messages per page\"\n      \"settings plugins\"           : \"Add ons\"\n      \"settings plugins\"           : \"Modules complmentaires\"\n      \"settings plugin add\"        : \"Add\"\n      \"settings plugin del\"        : \"Delete\"\n      \"settings plugin new name\"   : \"Plugin Name\"\n      \"settings plugin new url\"    : \"Plugin URL\"\n      # SETTINGS\n      \"settings label composeInHTML\"        : \"Rich message editor\"\n      \"settings label composeOnTop\"         : \"Reply on top of message\"\n      \"settings label desktopNotifications\" : \"Notifications\"\n      \"settings label displayConversation\"  : \"Display conversations\"\n      \"settings label displayPreview\"       : \"Display message preview\"\n      \"settings label messageDisplayHTML\"   : \"Display message in HTML\"\n      \"settings label messageDisplayImages\" : \"Display images inside messages\"\n      \"settings label messageConfirmDelete\" : \"Confirm before deleting a message\"\n      \"settings label layoutStyle\"            : \"Display Layout\"\n      \"settings label layoutStyle horizontal\" : \"Horizontal\"\n      \"settings label layoutStyle vertical\"   : \"Vertical\"\n      \"settings label layoutStyle three\"      : \"Three cols\"\n      \"settings label listStyle\"            : \"Message list style\"\n      \"settings label listStyle default\"    : \"Normal\"\n      \"settings label listStyle compact\"    : \"Compact\"\n      \"settings lang\"             : \"Language\"\n      \"settings lang en\"          : \"English\"\n      \"settings lang fr\"          : \"Franais\"\n      \"settings save error\"       : \"Unable to save settings, please try again\"\n\n      # File picker\n      \"picker drop here\"           : \"Drop files here\"\n\n      # Mailbox List\n      \"mailbox pick one\"           : \"Pick one\"\n      \"mailbox pick null\"          : \"No box for this\"\n\n      # Tasks\n      \"task account-fetch\"         : 'Refreshing %{account}'\n      \"task box-fetch\"             : 'Refreshing %{box}'\n      \"task apply-diff-fetch\"      : 'Fetching mails from %{box} of %{account}'\n      \"task apply-diff-remove\"     : 'Deleting mails from %{box} of %{account}'\n      \"task recover-uidvalidity\"   : 'Analysing'\n      \"there were errors\"          : '%{smart_count} error. |||| %{smart_count}\n                                        errors.'\n      \"modal please report\"        : \"Please transmit this information to cozy.\"\n      \"modal please contribute\"    : \"Please contribute\"\n\n      # Validation\n      \"validate must not be empty\" : \"Mandatory field\"\n\n      # Toast\n      \"toast hide\"      : \"Hide alerts\"\n      \"toast show\"      : \"Display alerts\"\n      \"toast close all\" : \"Close all alerts\"\n\n      # Notifications\n      \"notif new title\": 'CozyEmail'\n      \"notif new\": \"\"\"\n        %{smart_count} new message in %{box} of %{account}||||\n        %{smart_count} new messages in %{box} of %{account}||||\n      \"\"\"\n\n      # Contacts\n      \"contact form\"             : \"Select contacts\"\n      \"contact form placeholder\" : \"contact name\"\n      \"contact create success\"   : \"%{contact} has been added to your contacts\"\n      \"contact create error\"     : \"Error adding to your contacts: {error}\"\n\n      # GMail security\n      \"gmail security tile\": \"About Gmail security\"\n      \"gmail security body\": \"\"\"\n            Gmail considers connection using username and password not safe.\n            Please click on the following link, make sure\n            you are connected with your %{login} account and enable access for\n            less secure apps.\n      \"\"\"\n      \"gmail security link\": \"Enable access for less secure apps.\"\n\n      # Plugins\n      'plugin name Gallery'            : 'Attachments gallery'\n      'plugin name medium-editor'      : 'Medium editor'\n      'plugin name MiniSlate'          : 'MiniSlate editor'\n      'plugin name Sample JS'          : 'Sample'\n      'plugin name Keyboard shortcuts' : 'Keyboard shortcuts'\n      'plugin name VCard'              : 'Contacts VCards'\n","module.exports =\n\n      # Application\n      \"app loading\"             : \"Chargement\"\n      \"app back\"                : \"Retour\"\n      \"app cancel\"              : \"Annuler\"\n      \"app menu\"                : \"Menu\"\n      \"app search\"              : \"Rechercher\"\n      \"app alert close\"         : \"Fermer\"\n      \"app unimplemented\"       : \"Non implment\"\n      \"app error\"               : \"Oups, une erreur est survenue,\n                                    veuillez ressayer\"\n\n      # Compose window\n      \"compose\"                   : \"crire un nouveau message\"\n      \"compose default\"           : \"Bonjour, comment a va?\"\n      \"compose from\"              : \"De\"\n      \"compose to\"                : \"\"\n      \"compose to help\"           : \"Liste des destinataires principaux\"\n      \"compose cc\"                : \"Cc\"\n      \"compose cc help\"           : \"Liste des destinataires en copie\"\n      \"compose bcc\"               : \"Cci\"\n      \"compose bcc help\"          : \"Liste des destinataires en copie cache\"\n      \"compose subject\"           : \"Objet\"\n      \"compose content\"           : \"Contenu\"\n      \"compose subject help\"      : \"Objet du message\"\n      \"compose reply prefix\"      : \"Re: \"\n      \"compose reply separator\"   : \"\\n\\nLe %{date}, %{sender} a crit \\n\"\n      \"compose forward prefix\"    : \"Fwd: \"\n      \"compose forward separator\" : \"\\n\\nLe %{date}, %{sender} a crit \\n\"\n      \"compose action draft\"      : \"Enregistrer\"\n      \"compose action send\"       : \"Envoyer\"\n      \"compose action sending\"    : \"Envoi\"\n      \"compose action delete\"     : \"Supprimer\"\n      \"compose toggle cc\"         : \"Copie \"\n      \"compose toggle bcc\"        : \"Copie cache \"\n      \"compose error no dest\"     : \"Vous n'avez pas saisi de destinataires\"\n      \"compose error no subject\"  : \"Vous n'avez pas saisi de sujet\"\n      \"compose confirm keep draft\": \"Vous n'avez pas envoy le message, voulez-vous conserver le brouillon?\"\n      \"compose draft deleted\"     : \"Brouillon supprim\"\n\n      # Menu\n      \"menu compose\"            : \"Nouveau\"\n      \"menu account new\"        : \"Ajouter un compte\"\n      \"menu settings\"           : \"Paramtres\"\n      \"menu mailbox total\"      : \"%{smart_count} message |||| %{smart_count} messages \"\n      \"menu mailbox unread\"     : \"dont %{smart_count} non lu ||||dont %{smart_count} non lus \"\n      \"menu mailbox new\"        : \"et %{smart_count} nouveaux ||||et %{smart_count} nouveaux \"\n      \"menu favorites on\"       : \"Favorites\"\n      \"menu favorites off\"      : \"Toutes\"\n\n      # List\n      \"list empty\"              : \"Pas d'email dans cette bote..\"\n      \"no flagged message\"      : \"Pas d'email important dans cette bote.\"\n      \"no unseen message\"       : \"Pas d'email non-lu dans cette bote.\"\n      \"no filter message\"       : \"Pas d'email pour ce filtre.\"\n      \"list fetching\"           : \"Chargement\"\n      \"list search empty\"       : \"Aucun rsultat trouv pour la requte\n                                    \\\"%{query}\\\".\"\n      \"list count\"              : \"%{smart_count} message dans cette boite ||||\n                                    %{smart_count} messages dans cette boite\"\n      \"list search count\"       : \"%{smart_count} rsultat trouv. ||||\n                                    %{smart_count} rsultats trouvs.\"\n      \"list filter\"               : \"Filtrer\"\n      \"list filter all\"           : \"Tous\"\n      \"list filter unseen\"        : \"Non lus\"\n      \"list filter unseen title\"  : \"N'afficher que les messages non lus\"\n      \"list filter flagged\"       : \"Importants\"\n      \"list filter flagged title\" : \"N'afficher que les messages importants\"\n      \"list sort\"                 : \"Trier\"\n      \"list sort date\"            : \"Date\"\n      \"list sort subject\"         : \"Sujet\"\n      \"list option compact\"       : \"Compact\"\n      \"list next page\"            : \"Davantage de messages\"\n      \"list end\"                  : \"FIN\"\n      \"list mass no message\"      : \"Aucun message slectionn\"\n      \"list delete confirm\"       : \"Voulez-vous vraiment supprimer %{nb} messages?\"\n\n      # Mail\n      \"mail receivers\"          : \" \"\n      \"mail receivers cc\"       : \"Copie \"\n      \"mail action reply\"       : \"Rpondre\"\n      \"mail action reply all\"   : \"Rpondre  tous\"\n      \"mail action forward\"     : \"Transfrer\"\n      \"mail action delete\"      : \"Supprimer\"\n      \"mail action mark\"        : \"Marquer comme\"\n      \"mail action copy\"        : \"Copier\"\n      \"mail action move\"        : \"Dplacer\"\n      \"mail action more\"        : \"Plus\"\n      \"mail action headers\"     : \"Enttes\"\n      \"mail action raw\"         : \"Message brut\"\n      \"mail mark spam\"          : \"Pourriel\"\n      \"mail mark nospam\"        : \"Lgitime\"\n      \"mail mark fav\"           : \"Important\"\n      \"mail mark nofav\"         : \"Normal\"\n      \"mail mark read\"          : \"Lu\"\n      \"mail mark unread\"        : \"Non lu\"\n      \"mail confirm delete\"     : \"Voulez-vous vraiment supprimer le message\n                                    %{subject}?\"\n      \"mail action conversation delete\" : \"Supprimer la conversation\"\n      \"mail action conversation move\"   : \"Dplacer la conversation\"\n      \"mail action conversation seen\"   : \"Marquer la conversation comme lue\"\n      \"mail action conversation unseen\" : \"Marquer la conversation comme\n                                            non lue\"\n      \"mail conversation length\": \"\"\"\n            %{smart_count} message dans cette conversation. ||||\n            %{smart_count} messages dans cette conversation.\n      \"\"\"\n\n      # Account\n      \"account new\"                 : \"Nouveau compte\"\n      \"account edit\"                : \"Modifier le compte\"\n      \"account add\"                 : \"Crer\"\n      \"account save\"                : \"Enregistrer\"\n      \"account check\"               : \"Tester la connexion\"\n      \"account accountType short\"   : \"IMAP\"\n      \"account accountType\"         : \"Type de compte\"\n      \"account imapPort short\"      : \"993\"\n      \"account imapPort\"            : \"Port\"\n      \"account imapSSL\"             : \"Utiliser SSL\"\n      \"account imapServer short\"    : \"imap.fournisseur.tld\"\n      \"account imapServer\"          : \"Serveur IMAP\"\n      \"account imapTLS\"             : \"Utiliser STARTTLS\"\n      \"account label short\"         : \"Nom abrg\"\n      \"account label\"               : \"Nom du compte\"\n      \"account login short\"         : \"Votre adresse lectronique\"\n      \"account login\"               : \"Adresse\"\n      \"account name short\"          : \"Votre nom, tel qu'il sera affich\"\n      \"account name\"                : \"Votre nom\"\n      \"account password\"            : \"Mot de passe\"\n      \"account receiving server\"    : \"Serveur de rception\"\n      \"account sending server\"      : \"Serveur d'envoi\"\n      \"account smtpPort short\"      : \"465\"\n      \"account smtpPort\"            : \"Port\"\n      \"account smtpSSL\"             : \"Utiliser SSL\"\n      \"account smtpServer short\"    : \"smtp.fournisseur.tld\"\n      \"account smtpServer\"          : \"Serveur sortant\"\n      \"account smtpTLS\"             : \"Utiliser STARTTLS\"\n      \"account remove\"              : \"Supprimer ce compte\"\n      \"account remove confirm\"      : \"Voulez-vous vraiment supprimer\n                                        ce compte?\"\n      \"account draft mailbox\"       : \"Enregistrer les brouillons dans\"\n      \"account sent mailbox\"        : \"Enregistrer les messages envoys dans\"\n      \"account trash mailbox\"       : \"Corbeille\"\n      \"account mailboxes\"           : \"Dossiers\"\n      \"account special mailboxes\"   : \"Dossiers spciaux\"\n      \"account newmailbox label\"    : \"Nouveaux dossier\"\n      \"account newmailbox placeholder\" : \"Nom\"\n      \"account newmailbox parent\"   : \"Crer sous\"\n      \"account confirm delbox\"      : \"Voulez-vous vraiment supprimer ce\n                                        dossier et tout son contenu?\"\n      \"account tab account\"         : \"Compte\"\n      \"account tab mailboxes\"       : \"Dossiers\"\n      \"account errors\"              : \"Certaines informations manquent ou\n                                        sont incorrectes\"\n      \"account type\"                : \"Type de compte\"\n      \"account updated\"             : \"Modification enregistre\"\n      \"account checked\"             : \"Paramtres corrects\"\n      \"account refreshed\"           : \"Actualis\"\n      \"account refresh error\"       : \"Une erreur est survenue, vrifiez les paramtres de connexion aux comptes\"\n      \"account creation ok\"         : \"Youpi, le compte a t cr!\n        Slectionnez  prsent les dossiers que vous voulez voir\n        apparaitre dans le menu\"\n      \"account identifiers\"         : \"Identification\"\n      \"account danger zone\"         : \"Zone dangereuse\"\n      \"account actions\"             : \"Actions\"\n      \"account no special mailboxes\": \"Vous n'avez pas configur les dossiers spciaux\"\n      \"mailbox create ok\"           : \"Dossier cr\"\n      \"mailbox create ko\"           : \"Erreur de cration du dossier\"\n      \"mailbox update ok\"           : \"Dossier mis  jour\"\n      \"mailbox update ko\"           : \"Erreur de mise  jour\"\n      \"mailbox delete ok\"           : \"Dossier supprim\"\n      \"mailbox delete ko\"           : \"Erreur de suppression du dossier\"\n      \"mailbox title edit\"          : \"Renommer le dossier\"\n      \"mailbox title delete\"        : \"Supprimer le dossier\"\n      \"mailbox title edit save\"     : \"Enregistrer\"\n      \"mailbox title edit cancel\"   : \"Annuler\"\n      \"mailbox title add\"           : \"Crer un dossier\"\n      \"mailbox title add cancel\"    : \"Annuler\"\n      \"mailbox title favorite\"      : \"Dossier affich\"\n      \"mailbox title not favorite\"  : \"Dossier non affich\"\n      \"mailbox title total\"         : \"Total\"\n      \"mailbox title unread\"        : \"Non lus\"\n      \"mailbox title new\"           : \"Nouveaux\"\n      \"config error auth\"           : \"Impossible de se connecter avec ces\n                                        paramtres\"\n      \"config error imapPort\"       : \"Port du serveur IMAP invalide\"\n      \"config error imapServer\"     : \"Serveur IMAP invalide\"\n      \"config error imapTLS\"        : \"Erreur IMAP TLS\"\n      \"config error smtpPort\"       : \"Port du serveur d'envoi invalide\"\n      \"config error smtpServer\"     : \"Serveur d'envoi invalide\"\n      \"config error nomailboxes\"    : \"Ce compte n'a pas encore de dossier,\n                                        commencez par en crer\"\n\n      # Message Action\n      \"message action sent ok\"      : \"Message envoy!\"\n      \"message action sent ko\"      : \"Une erreur est survenue: \"\n      \"message action draft ok\"     : \"Message sauvegard!\"\n      \"message action draft ko\"     : \"Une erreur est survenue: \"\n      \"message action delete ok\"    : \"Message %{subject} supprim\"\n      \"message action delete ko\"    : \"Impossible de supprimer le message: \"\n      \"message action move ok\"      : \"Message dplac\"\n      \"message action move ko\"      : \"Le dplacement a chou\"\n      \"message action mark ok\"      : \"Le message a t mis  jour\"\n      \"message action mark ko\"      : \"L'opration a chou\"\n      \"conversation move ok\"        : \"Conversation dplace\"\n      \"conversation move ko\"        : \"L'opration a chou\"\n      \"conversation delete ok\"      : \"Conversation supprime\"\n      \"conversation delete ko\"      : \"L'opration a chou\"\n      \"conversation seen ok\"        : \"Ok\"\n      \"conversation seen ko\"        : \"L'opration a chou\"\n      \"conversation unseen ok\"      : \"Ok\"\n      \"conversation unseen ko\"      : \"L'opration a chou\"\n      \"message images warning\"      : \"L'affichage des images du message a t\n                                        bloqu\"\n      \"message images display\"      : \"Afficher les images\"\n      \"message html display\"        : \"Afficher en HTML\"\n      \"message delete no trash\"     : \"Choisissez d'abord un dossier Corbeille\"\n      \"message undelete\"            : \"Annuler la suppression\"\n      \"message undelete ok\"         : \"Message restaur\"\n      \"message undelete error\"      : \"Impossible d'annuler l'action\"\n      \"message preview title\"       : \"Voir les pices jointes\"\n\n      # Settings\n      \"settings title\"             : \"Paramtres\"\n      \"settings button save\"       : \"Enregistrer\"\n      # \"settings label mpp\"         : \"Nombre de messages par page\"\n      \"settings plugins\"           : \"Modules complmentaires\"\n      \"settings plugin add\"        : \"Ajouter\"\n      \"settings plugin del\"        : \"Supprimer\"\n      \"settings plugin new name\"   : \"Nom du plugin\"\n      \"settings plugin new url\"    : \"Url du plugin\"\n      # SETTINGS\n      \"settings label composeInHTML\"        : \"diteur riche\"\n      \"settings label composeOnTop\"         : \"Rpondre au-dessus du message\"\n      \"settings label desktopNotifications\" : \"Notifications\"\n      \"settings label displayConversation\"  : \"Afficher les conversations\"\n      \"settings label displayPreview\"       : \"Prvisualiser les messages\"\n      \"settings label messageDisplayHTML\"   : \"Afficher les messages en HTML\"\n      \"settings label messageDisplayImages\" : \"Afficher les images\"\n      \"settings label messageConfirmDelete\" : \"Demander confirmation avant\n                                                de supprimer un message\"\n      \"settings label layoutStyle\"            : \"Affichage\"\n      \"settings label layoutStyle horizontal\" : \"Message sous la liste\"\n      \"settings label layoutStyle vertical\"   : \"Message  ct de la liste\"\n      \"settings label layoutStyle three\"      : \"Trois colonnes\"\n      \"settings label listStyle\"            : \"Affichage de la liste des messages\"\n      \"settings label listStyle default\"    : \"Normal\"\n      \"settings label listStyle compact\"    : \"Compact\"\n      \"settings lang\"             : \"Langue\"\n      \"settings lang en\"          : \"English\"\n      \"settings lang fr\"          : \"Franais\"\n      \"settings save error\"       : \"Erreur d'enregistrement des paramtres, veuillez ressayer\"\n\n      # File picker\n      \"picker drop here\"           : \"Dposer les fichiers ici\"\n\n      # Mailbox List\n      \"mailbox pick one\"           : \"Choisissez une bote\"\n      \"mailbox pick null\"          : \"Pas de bote pour a\"\n\n      # Tasks\n      \"task account-fetch\"         : 'Rafrachissement %{account}'\n      \"task box-fetch\"             : 'Rafrachissement %{box}'\n      \"task apply-diff-fetch\"      : 'Tlchargement des messages du dossier\n                                        %{box} de %{account}'\n      \"task apply-diff-remove\"     : 'Suppression des messages du dossier\n                                        %{box} de %{account}'\n      \"task recover-uidvalidity\"   : 'Analyse du compte'\n      \"there were errors\"          : '%{smart_count} erreur. ||||\n                                        %{smart_count} erreurs.'\n      \"modal please report\"        : \"Merci de bien vouloir transmettre ces\n                                        informations  cozy.\"\n      \"modal please contribute\"    : \"Merci de contribuer\"\n\n      # Validation\n      \"validate must not be empty\" : \"Ce champ doit tre renseign\"\n\n      # Toast\n      \"toast hide\"      : \"Masquer les alertes\"\n      \"toast show\"      : \"Afficher les alertes\"\n      \"toast close all\" : \"Fermer toutes les alertes\"\n\n      # Notifications\n      \"notif new title\": 'Messagerie Cozy'\n      \"notif new\": \"\"\"\n        %{smart_count} nouveau message dans %{box} de %{account}||||\n        %{smart_count} nouveaux messages dans %{box} de %{account}||||\n      \"\"\"\n\n      # Contacts\n      \"contact form\"             : \"Slectionnez des contacts\"\n      \"contact form placeholder\" : \"Nom\"\n      \"contact create success\"   : \"%{contact} a t ajout(e)  vos contacts\"\n      \"contact create error\"     : \"L'ajout  votre carnet d'adresses a\n                                        chou: {error}\"\n\n      # GMail security\n      \"gmail security tile\": \"Scurit Gmail\"\n      \"gmail security body\": \"\"\"\n            Gmail considre les connexions par nom d'utilisateur et mot de passe\n            comme non scurises. Veuillez cliquer sur le lien ci-dessous, assurez-vous\n            d'tre connect avec le compte %{login} et activez l'accs\n            pour les applications moins scurises.\n      \"\"\"\n      \"gmail security link\": \"\"\"\n            Activer l'accs pour les applications moins scurises\n      \"\"\"\n\n      # Plugins\n      'plugin name Gallery'            : 'Gallerie de pices jointes'\n      'plugin name medium-editor'      : 'diteur Medium'\n      'plugin name MiniSlate'          : 'diteur MiniSlate'\n      'plugin name Sample JS'          : 'Example'\n      'plugin name Keyboard shortcuts' : 'Raccourcis clavier'\n      'plugin name VCard'              : 'Affichage de VCard'\n","###\n    Router mixin.\n    Aliases `buildUrl` and `buildClosePanelUrl`\n###\n\nrouter = window.router\n\nmodule.exports =\n\n    buildUrl: (options) ->\n        router.buildUrl.call router, options\n\n    buildClosePanelUrl: (direction) ->\n        router.buildClosePanelUrl.call router, direction\n\n    # Builds the URL (based on options) and redirect to it.\n    # If `options` is a string, it will be considered as the target URL.\n    redirect: (options) ->\n        url = if typeof options is \"string\" then options else @buildUrl options\n        router.navigate url, true\n\n\n","module.exports = StoreWatchMixin = (stores) ->\n\n    return {\n        componentDidMount: ->\n            stores.forEach (store) => store.on 'change', @_setStateFromStores\n\n        componentWillUnmount: ->\n            stores.forEach (store) =>\n                store.removeListener 'change', @_setStateFromStores\n\n        getInitialState: -> return @getStateFromStores()\n\n        _setStateFromStores: -> @setState @getStateFromStores()\n    }","PanelRouter = require './libs/panel_router'\n\nAccountStore = require './stores/account_store'\nMessageStore = require './stores/message_store'\n\nmodule.exports = class Router extends PanelRouter\n\n    patterns:\n        'account.config':\n            pattern: 'account/:accountID/config/:tab'\n            fluxAction: 'showConfigAccount'\n        'account.new':\n            pattern: 'account/new'\n            fluxAction: 'showCreateAccount'\n        'account.mailbox.messages.full':\n            pattern: 'account/:accountID/box/:mailboxID/sort/:sort/' +\n                        'flag/:flag/before/:before/after/:after/' +\n                        'page/:pageAfter'\n            fluxAction: 'showMessageList'\n        'account.mailbox.messages':\n            pattern: 'account/:accountID/mailbox/:mailboxID'\n            fluxAction: 'showMessageList'\n\n        'search':\n            pattern: 'search/:query/page/:page'\n            fluxAction: 'showSearch'\n\n        'message':\n            pattern: 'message/:messageID'\n            fluxAction: 'showMessage'\n        'conversation':\n            pattern: 'conversation/:messageID'\n            fluxAction: 'showConversation'\n        'compose':\n            pattern: 'compose'\n            fluxAction: 'showComposeNewMessage'\n        'edit':\n            pattern: 'edit/:messageID'\n            fluxAction: 'showComposeMessage'\n\n        'settings':\n            pattern: 'settings'\n            fluxAction: 'showSettings'\n\n        'default':\n            pattern: ''\n            fluxAction: ''\n\n    # default route\n    routes: '': 'default'\n\n    # Determines and gets the default parameters regarding a specific action\n    _getDefaultParameters: (action) ->\n        switch action\n            when 'account.mailbox.messages'\n            ,    'account.mailbox.messages.full'\n                defaultAccountID = AccountStore.getDefault()?.get 'id'\n                defaultMailboxID = AccountStore.getDefaultMailbox(defaultAccountID).get 'id'\n                defaultParameters = _.clone(MessageStore.getParams())\n                defaultParameters.accountID = defaultAccountID\n                defaultParameters.mailboxID = defaultMailboxID\n                defaultParameters.sort = '-'\n                defaultParameters.pageAfter = '-'\n            when 'account.config'\n                defaultAccount = AccountStore.getDefault()?.get 'id'\n                defaultParameters =\n                    accountID: defaultAccount\n                    tab: 'account'\n            when 'search'\n                defaultParameters =\n                    query: \"\"\n                    page: 1\n            else\n                defaultParameters = null\n        return defaultParameters\n","Store = require '../libs/flux/store/store'\n\n{ActionTypes} = require '../constants/app_constants'\n\nAccountTranslator = require '../utils/translators/account_translator'\n\nclass AccountStore extends Store\n\n    ###\n        Initialization.\n        Defines private variables here.\n    ###\n\n    # Creates an OrderedMap of accounts\n    _accounts = Immutable.Sequence window.accounts\n\n        # sort first\n        .sort (mb1, mb2) ->\n            if mb1.label > mb2.label then return 1\n            else if mb1.label < mb2.label then return -1\n            else return 0\n\n        # sets account ID as index\n        .mapKeys (_, account) -> return account.id\n\n        # makes account object an immutable Map\n        .map (account) -> AccountTranslator.toImmutable account\n\n        .toOrderedMap()\n\n    _selectedAccount   = null\n    _selectedMailbox   = null\n    _newAccountWaiting = false\n    _newAccountError   = null\n\n\n    _refreshSelected = ->\n        if selectedAccountID = _selectedAccount?.get 'id'\n            _selectedAccount = _accounts.get selectedAccountID\n            if selectedMailboxID = _selectedMailbox?.get 'id'\n                _selectedMailbox = _selectedAccount\n                    ?.get('mailboxes')\n                    ?.get(selectedMailboxID)\n\n    setMailbox = (accountID, boxID, boxData) ->\n\n        account = _accounts.get(accountID)\n        mailboxes = account.get('mailboxes')\n        mailboxes = mailboxes.map (box) ->\n            if box.get('id') is boxID\n                boxData.weight = box.get 'weight'\n                AccountTranslator.mailboxToImmutable boxData\n            else\n                box\n        .toOrderedMap()\n\n        account = account.set 'mailboxes', mailboxes\n        _accounts = _accounts.set accountID, account\n        _refreshSelected()\n\n\n    _mailboxSort = (mb1, mb2) ->\n        w1 = mb1.get 'weight'\n        w2 = mb2.get 'weight'\n        if w1 < w2 then return 1\n        else if w1 > w2 then return -1\n        else\n            if mb1.get 'label' < mb2.get 'label' then return 1\n            else if mb1.get 'label' > mb2.get 'label' then return 1\n            else return 0\n\n    _applyMailboxDiff: (accountID, diff) ->\n        account = _accounts.get accountID\n        mailboxes = account.get('mailboxes')\n        updated = mailboxes.withMutations (map) ->\n            for boxid, deltas of diff when deltas.nbTotal + deltas.nbUnread\n                box = map.get boxid\n                if box?\n                    box = box.merge\n                        nbTotal: box.get('nbTotal') + deltas.nbTotal\n                        nbUnread: box.get('nbUnread') + deltas.nbUnread\n                    map.set boxid, box\n\n        unless updated is mailboxes\n            account = account.set 'mailboxes', updated\n            _accounts = _accounts.set accountID, account\n            _refreshSelected()\n            @emit 'change'\n\n\n    _setCurrentAccount: (account) ->\n        _selectedAccount = account\n    ###\n        Defines here the action handlers.\n    ###\n    __bindHandlers: (handle) ->\n\n        onUpdate = (rawAccount) =>\n            account = AccountTranslator.toImmutable rawAccount\n            _accounts = _accounts.set account.get('id'), account\n            @_setCurrentAccount account\n            _newAccountWaiting = false\n            _newAccountError   = null\n            @emit 'change'\n\n        handle ActionTypes.ADD_ACCOUNT, (rawAccount) ->\n            onUpdate rawAccount\n\n        handle ActionTypes.SELECT_ACCOUNT, (value) ->\n            if value.accountID?\n                @_setCurrentAccount(_accounts.get(value.accountID) or null)\n            else\n                @_setCurrentAccount(null)\n            if value.mailboxID?\n                _selectedMailbox = _selectedAccount?.get('mailboxes')?.get(value.mailboxID) or null\n            else\n                _selectedMailbox = null\n            @emit 'change'\n\n        handle ActionTypes.NEW_ACCOUNT_WAITING, (payload) ->\n            _newAccountWaiting = payload\n            @emit 'change'\n\n        handle ActionTypes.NEW_ACCOUNT_ERROR, (error) ->\n            _newAccountWaiting = false\n            _newAccountError = error\n            @emit 'change'\n\n        handle ActionTypes.EDIT_ACCOUNT, (rawAccount) ->\n            onUpdate rawAccount\n\n        handle ActionTypes.MAILBOX_CREATE, (rawAccount) ->\n            onUpdate rawAccount\n\n        handle ActionTypes.MAILBOX_UPDATE, (rawAccount) ->\n            onUpdate rawAccount\n\n        handle ActionTypes.MAILBOX_DELETE, (rawAccount) ->\n            onUpdate rawAccount\n\n        handle ActionTypes.REMOVE_ACCOUNT, (accountID) ->\n            _accounts = _accounts.delete accountID\n            @_setCurrentAccount @getDefault()\n            @emit 'change'\n\n        handle ActionTypes.RECEIVE_MAILBOX_UPDATE, (boxData) ->\n            setMailbox boxData.accountID, boxData.id, boxData\n            if boxData.nbRecent > 0\n                message = t 'notif new',\n                    smart_count: boxData.nbRecent\n                    box: boxData.label\n                    account: @getByID(boxData.accountID).get 'label'\n                @emit 'notify', t('notif new title'), body: message\n            @emit 'change'\n\n    ###\n        Public API\n    ###\n    getAll: -> return _accounts\n\n    getByID: (accountID) ->\n        return _accounts.get accountID\n\n    getByLabel: (label) ->\n        _accounts.find (account) -> account.get('label') is label\n\n    getDefault: -> return _accounts.first() or null\n\n    getDefaultMailbox: (accountID) ->\n\n        account = _accounts.get(accountID) or @getDefault()\n        return null unless account\n\n        mailboxes = account.get('mailboxes')\n        mailbox = mailboxes.filter (mailbox) ->\n            return mailbox.get('label').toLowerCase() is 'inbox'\n        if mailbox.count() isnt 0\n            return mailbox.first()\n        else\n            favorites = account.get('favorites')\n            defaultID = if favorites? then favorites[0]\n\n            return if defaultID then mailboxes.get defaultID\n            else mailboxes.first()\n\n    getSelected: -> return _selectedAccount\n\n    getSelectedMailboxes: (sorted) ->\n\n        return Immutable.OrderedMap.empty() unless _selectedAccount?\n\n        result = Immutable.OrderedMap()\n        mailboxes = _selectedAccount.get('mailboxes')\n        if sorted\n            mailboxes = mailboxes.sort _mailboxSort\n        mailboxes.forEach (data) ->\n            mailbox = Immutable.Map data\n            result = result.set mailbox.get('id'), mailbox\n            return true\n\n        return result\n\n\n    getSelectedMailbox: (selectedID) ->\n        mailboxes = @getSelectedMailboxes()\n        if selectedID?\n            return mailboxes.get selectedID\n        else if _selectedMailbox?\n            return _selectedMailbox\n        else\n            return mailboxes.first()\n\n    getSelectedFavorites: (sorted) ->\n\n        mailboxes = @getSelectedMailboxes()\n        ids = _selectedAccount?.get 'favorites'\n\n        if ids?\n            mb = mailboxes\n                .filter (box, key) -> key in ids\n                .toOrderedMap()\n        else\n            mb = mailboxes\n                .toOrderedMap()\n\n        if sorted\n            mb = mb.sort _mailboxSort\n\n        return mb\n\n    getError: -> return _newAccountError\n\n    isWaiting: -> return _newAccountWaiting\n\n\nmodule.exports = new AccountStore()\n","Store = require '../libs/flux/store/store'\n\n{ActionTypes} = require '../constants/app_constants'\n\nclass ContactStore extends Store\n\n    ###\n        Initialization.\n        Defines private variables here.\n    ###\n\n    _query = \"\"\n\n    # all known contacts\n    _contacts = Immutable.OrderedMap.empty()\n    # result of last search\n    _results  = Immutable.OrderedMap.empty()\n\n    _import = (rawResults) ->\n        _results = Immutable.OrderedMap.empty()\n        if rawResults?\n            if not Array.isArray rawResults\n                rawResults = [ rawResults ]\n            convert = (map) ->\n                rawResults.forEach (rawResult) ->\n                    addresses = []\n                    rawResult.datapoints.forEach (point) ->\n                        if point.name is 'email'\n                            addresses.push point.value\n                        if point.name is 'avatar'\n                            rawResult.avatar = point.value\n                    delete rawResult.docType\n                    addresses.forEach (address) ->\n                        rawResult.address = address\n                        contact = Immutable.Map rawResult\n                        map.set address, contact\n            _results  = _results.withMutations convert\n            _contacts = _contacts.withMutations convert\n\n    _import window.contacts\n\n    ###\n        Defines here the action handlers.\n    ###\n    __bindHandlers: (handle) ->\n\n        handle ActionTypes.RECEIVE_RAW_CONTACT_RESULTS, (rawResults) =>\n            _import rawResults\n            @emit 'change'\n\n        handle ActionTypes.CONTACT_LOCAL_SEARCH, (query) =>\n            query = query.toLowerCase()\n            re = new RegExp query, 'i'\n            _results = _contacts.filter (contact) ->\n                obj  = contact.toObject()\n                full = ''\n                ['address', 'fn'].forEach (key) ->\n                    if typeof obj[key] is 'string'\n                        full += obj[key]\n                return re.test full\n            .toOrderedMap()\n\n            @emit 'change'\n\n    ###\n        Public API\n    ###\n    getResults: ->\n        return _results\n\n    getQuery: -> return _query\n\n    getByAddress: (address) -> return _contacts.get(address)\n\n    getAvatar: (address) ->\n        return _contacts.get(address)?.get 'avatar'\n\nmodule.exports = new ContactStore()\n\n","Store = require '../libs/flux/store/store'\n\n{ActionTypes, Dispositions} = require '../constants/app_constants'\n\nclass LayoutStore extends Store\n\n    ###\n        Initialization.\n        Defines private variables here.\n    ###\n    _disposition =\n        type   : Dispositions.VERTICAL\n        height : 5\n        width  : 6\n    _alert =\n        level: null\n        message: null\n\n    _tasks = Immutable.OrderedMap()\n\n    _shown = true\n\n\n    ###\n        Defines here the action handlers.\n    ###\n    __bindHandlers: (handle) ->\n\n        handle ActionTypes.SET_DISPOSITION, (disposition) ->\n            if disposition.disposition?\n                _disposition = disposition.disposition\n            else\n                _disposition.type = disposition.type\n                if _disposition.type is Dispositions.VERTICAL\n                    if not disposition.value?\n                        disposition.value = _disposition.width\n                    _disposition.height = 5\n                    _disposition.width  = disposition.value\n                else if _disposition.type is Dispositions.HORIZONTAL\n                    if not disposition.value?\n                        disposition.value = _disposition.height\n                    _disposition.height = disposition.value\n                    _disposition.width  = 6\n                else if _disposition.type is Dispositions.THREE\n                    if not disposition.value?\n                        disposition.value = _disposition.width\n                    _disposition.height = 5\n                    _disposition.width  = disposition.value\n            @emit 'change'\n\n        handle ActionTypes.DISPLAY_ALERT, (value) ->\n            _alert.level   = value.level\n            _alert.message = value.message\n            @emit 'change'\n\n        handle ActionTypes.HIDE_ALERT, (value) ->\n            _alert.level   = null\n            _alert.message = null\n            @emit 'change'\n\n        # Hide alerts on mailbox / account change\n        handle ActionTypes.SELECT_ACCOUNT, (value) ->\n            _alert.level   = null\n            _alert.message = null\n            @emit 'change'\n\n        handle ActionTypes.REFRESH, ->\n            @emit 'change'\n\n        handle ActionTypes.CLEAR_TOASTS, ->\n            _tasks = Immutable.OrderedMap()\n            @emit 'change'\n\n        handle ActionTypes.RECEIVE_TASK_UPDATE, (task) =>\n            task = Immutable.Map task\n            id = task.get('id')\n            _tasks = _tasks.set id, task\n            if task.get('autoclose')\n                remove = =>\n                    _tasks = _tasks.remove id\n                    @emit 'change'\n                setTimeout remove, 3000\n            @emit 'change'\n\n        handle ActionTypes.RECEIVE_TASK_DELETE, (taskid) ->\n            _tasks = _tasks.remove taskid\n            @emit 'change'\n\n        handle ActionTypes.TOASTS_SHOW, ->\n            _shown = true\n            @emit 'change'\n\n        handle ActionTypes.TOASTS_HIDE, ->\n            _shown = false\n            @emit 'change'\n\n    ###\n        Public API\n    ###\n    getDisposition: -> return _disposition\n\n    getAlert: -> return _alert\n\n    getToasts: -> return _tasks\n\n    isShown: -> return _shown\n\nmodule.exports = new LayoutStore()\n","Store = require '../libs/flux/store/store'\nContactStore  = require './contact_store'\nAppDispatcher = require '../app_dispatcher'\n\nAccountStore = require './account_store'\nSocketUtils = require '../utils/socketio_utils'\n\n{ActionTypes, MessageFlags, MessageFilter} =\n        require '../constants/app_constants'\n\nclass MessageStore extends Store\n\n    ###\n        Initialization.\n        Defines private variables here.\n    ###\n\n    _sortField   = 'date'\n    _sortOrder   = 1\n    __getSortFunction = (criteria, order) ->\n        sortFunction = (message1, message2) ->\n            if typeof message1.get is 'function'\n                val1 = message1.get criteria\n                val2 = message2.get criteria\n            else\n                val1 = message1[criteria]\n                val2 = message2[criteria]\n            if val1 > val2 then return -1 * order\n            else if val1 < val2 then return 1 * order\n            else return 0\n\n    __sortFunction = __getSortFunction 'date', 1\n    reverseDateSort = __getSortFunction 'date', -1\n\n    # Creates an OrderedMap of messages\n    _messages = Immutable.Sequence()\n\n        # sort first\n        .sort __sortFunction\n\n        # sets message ID as index\n        .mapKeys (_, message) -> message.id\n\n        # makes message object an immutable Map\n        .map (message) -> Immutable.fromJS message\n        .toOrderedMap()\n\n    _filter       = '-'\n    _params       = sort: '-date'\n    _fetching     = false\n    _currentMessages = Immutable.Sequence()\n    _conversationLengths = Immutable.Map()\n    _conversationMemoize = null\n    _conversationMemoizeId = null\n    _currentID       = null\n    _prevAction      = null\n\n    computeMailboxDiff = (oldmsg, newmsg) ->\n        return {} unless oldmsg\n        changed = false\n\n        wasRead = MessageFlags.SEEN in oldmsg.get 'flags'\n        isRead = MessageFlags.SEEN in newmsg.get 'flags'\n\n        oldboxes = Object.keys oldmsg.get 'mailboxIDs'\n        newboxes = Object.keys newmsg.get 'mailboxIDs'\n\n        out = {}\n        added = _.difference(newboxes, oldboxes)\n        added.forEach (boxid) ->\n            changed = true\n            out[boxid] = nbTotal: +1, nbUnread: if isRead then +1 else 0\n\n        removed = _.difference oldboxes, newboxes\n        removed.forEach (boxid) ->\n            changed = true\n            out[boxid] = nbTotal: -1, nbUnread: if wasRead then -1 else 0\n\n        stayed = _.intersection oldboxes, newboxes\n        deltaUnread = if wasRead and not isRead then +1\n        else if not wasRead and isRead then -1\n        else 0\n        stayed.forEach (boxid) ->\n            changed = true if deltaUnread isnt 0\n            out[boxid] = nbTotal: 0, nbUnread: deltaUnread\n\n        if changed\n            return out\n        else\n            return false\n\n\n    onReceiveRawMessage = (message) ->\n        # create or update\n        if not message.attachments?\n            message.attachments = []\n        if not message.date?\n            message.date = new Date().toISOString()\n        if not message.createdAt?\n            message.createdAt = message.date\n        # Add messageId to every attachment\n\n        message.hasAttachments = message.attachments.length > 0\n        message.attachments = message.attachments.map (file) ->\n            Immutable.Map file\n        message.attachments = Immutable.Vector.from message.attachments\n\n        if not message.flags?\n            message.flags = []\n\n        # message loaded from fixtures for test purpose have a docType\n        # that may cause some troubles\n        delete message.docType\n        message = Immutable.Map message\n\n        oldmsg = _messages.get message.get('id')\n        _messages = _messages.set message.get('id'), message\n        if diff = computeMailboxDiff(oldmsg, message)\n            AccountStore._applyMailboxDiff message.get('accountID'), diff\n\n    ###\n        Defines here the action handlers.\n    ###\n    __bindHandlers: (handle) ->\n\n        handle ActionTypes.RECEIVE_RAW_MESSAGE, (message) ->\n            onReceiveRawMessage message\n            @emit 'change'\n\n        handle ActionTypes.RECEIVE_RAW_MESSAGES, (messages) ->\n\n            if messages.mailboxID\n                SocketUtils.changeRealtimeScope messages.mailboxID\n\n            # reinit params here for pagination on filtered lists\n            _params = {}\n            if messages.links?\n                if messages.links.next?\n                    next   = decodeURIComponent(messages.links.next)\n                    url    = 'http://localhost' + next\n                    url.split('?')[1].split('&').forEach (p) ->\n                        [key, value] = p.split '='\n                        value = '-' if value is ''\n                        _params[key] = value\n\n                SocketUtils.changeRealtimeScope messages.mailboxID,\n                    _params.pageAfter\n\n            if lengths = messages.conversationLengths\n                _conversationLengths = _conversationLengths.merge lengths\n\n            if messages.count? and messages.mailboxID?\n                messages = messages.messages.sort __sortFunction\n\n\n\n            onReceiveRawMessage message for message in messages\n            @emit 'change'\n\n        handle ActionTypes.REMOVE_ACCOUNT, (accountID) ->\n            AppDispatcher.waitFor [AccountStore.dispatchToken]\n            _messages = _messages.filter (message) ->\n                message.get('accountID') isnt accountID\n            .toOrderedMap()\n\n            @emit 'change'\n\n        handle ActionTypes.MESSAGE_SEND, (message) ->\n            onReceiveRawMessage message\n\n        handle ActionTypes.MESSAGE_DELETE, (message) ->\n            onReceiveRawMessage message\n\n        handle ActionTypes.MESSAGE_BOXES, (message) ->\n            onReceiveRawMessage message\n\n        handle ActionTypes.MESSAGE_FLAG, (message) ->\n            onReceiveRawMessage message\n\n        handle ActionTypes.LIST_FILTER, (filter) ->\n            _messages  = _messages.clear()\n            if _filter is filter\n                _filter = '-'\n            else\n                _filter = filter\n            _params =\n                after: '-'\n                flag: _filter\n                before: '-'\n                pageAfter: '-'\n                sort : _params.sort\n\n        handle ActionTypes.LIST_SORT, (sort) ->\n            _messages    = _messages.clear()\n            _sortField   = sort.field\n            currentField = _params.sort.substr(1)\n            currentOrder = _params.sort.substr(0, 1)\n            if currentField is sort.field\n                newOrder   = if currentOrder is '+' then '-' else '+'\n                _sortOrder = -1 * _sortOrder\n            else\n                _sortOrder = -1\n                if sort.field is 'date'\n                    newOrder   = '-'\n                else\n                    newOrder   = '+'\n            _params =\n                after: '-'\n                flag: _params.flag\n                before: '-'\n                pageAfter: '-'\n                sort : newOrder + sort.field\n\n        handle ActionTypes.MESSAGE_ACTION, (action) ->\n            _prevAction = action\n\n        handle ActionTypes.MESSAGE_CURRENT, (messageID) ->\n            @setCurrentID messageID\n            @emit 'change'\n\n        handle ActionTypes.SELECT_ACCOUNT, (value) ->\n            @setCurrentID null\n            _params.after     = '-'\n            _params.before    = '-'\n            _params.pageAfter = '-'\n\n        handle ActionTypes.RECEIVE_MESSAGE_DELETE, (id) ->\n            _messages = _messages.remove id\n            @emit 'change'\n\n        handle ActionTypes.SET_FETCHING, (fetching) ->\n            _fetching = fetching\n            @emit 'change'\n\n    ###\n        Public API\n    ###\n    getAll: -> return _messages\n\n    getByID: (messageID) -> _messages.get(messageID) or null\n\n\n    ###*\n    * Get messages from mailbox, with optional pagination\n    *\n    * @param {String}  mailboxID\n    * @param {Boolean} conversation\n    *\n    * @return {Array}\n    ###\n    getMessagesByMailbox: (mailboxID, useConversations) ->\n        conversationIDs = []\n\n        sequence = _messages.filter (message) ->\n            mailboxes = Object.keys message.get 'mailboxIDs'\n            if mailboxID not in mailboxes\n                return false\n\n            if useConversations\n                # one message of each conversation\n                conversationID = message.get 'conversationID'\n                if conversationID in conversationIDs\n                    return false\n                else\n                    conversationIDs.push conversationID\n                    return true\n            else\n                return true\n        .sort(__getSortFunction _sortField, _sortOrder)\n\n        # sequences are lazy so we need .toOrderedMap() to actually execute it\n        _currentMessages = sequence.toOrderedMap()\n        if not _currentID?\n            @setCurrentID _currentMessages.first()?.get 'id'\n        return _currentMessages\n\n    getCurrentID: (messageID) ->\n        return _currentID\n\n    setCurrentID: (messageID) ->\n        _currentID = messageID\n\n    getPreviousMessage: ->\n        keys = Object.keys _currentMessages.toJS()\n        idx = keys.indexOf _currentID\n        return if idx is -1 then null else keys[idx - 1]\n\n    getNextMessage: ->\n        keys = Object.keys _currentMessages.toJS()\n        idx = keys.indexOf _currentID\n        if idx is -1 or idx is (keys.length - 1)\n            return null\n        else\n            return keys[idx + 1]\n\n    getConversation: (conversationID) ->\n        if conversationID isnt _conversationMemoizeId\n            _conversationMemoize = _messages\n                .filter (message) ->\n                    message.get('conversationID') is conversationID\n                .sort reverseDateSort\n                .toVector()\n\n        return _conversationMemoize\n\n    getConversationsLength: -> return _conversationLengths\n\n    getParams: -> return _params\n\n    getCurrentFilter: -> return _filter\n\n    getPrevAction: -> return _prevAction\n\n    isFetching: -> return _fetching\n\nmodule.exports = new MessageStore()\n","Store = require '../libs/flux/store/store'\n\n{ActionTypes} = require '../constants/app_constants'\n\nrefreshesToImmutable = (refreshes) ->\n    Immutable.Sequence refreshes\n    # sets objectID as index\n    .mapKeys (_, refresh) -> return refresh.objectID\n    .map (refresh) -> Immutable.fromJS refresh\n    .toOrderedMap()\n\nclass RefreshesStore extends Store\n\n    ###\n        Initialization.\n        Defines private variables here.\n    ###\n    _refreshes = refreshesToImmutable window.refreshes or []\n\n\n    ###\n        Defines here the action handlers.\n    ###\n    __bindHandlers: (handle) ->\n\n\n        handle ActionTypes.RECEIVE_REFRESH_STATUS, (refreshes) ->\n            _refreshes = refreshesToImmutable refreshes\n\n        handle ActionTypes.RECEIVE_REFRESH_UPDATE, (refresh) ->\n            refresh = Immutable.Map refresh\n            id = refresh.get('objectID')\n            _refreshes = _refreshes.set(id, refresh).toOrderedMap()\n            @emit 'change'\n\n        handle ActionTypes.RECEIVE_REFRESH_DELETE, (refreshID) ->\n            _refreshes = _refreshes.filter (refresh) ->\n                refresh.get('id') isnt refreshID\n            .toOrderedMap()\n            @emit 'change'\n\n    getRefreshing: -> _refreshes\n\nmodule.exports = new RefreshesStore()\n","Store = require '../libs/flux/store/store'\n\n{ActionTypes} = require '../constants/app_constants'\n\nclass SearchStore extends Store\n\n    ###\n        Initialization.\n        Defines private variables here.\n    ###\n\n    _query = \"\"\n\n    # search results are a list of message\n    _results = Immutable.OrderedMap.empty()\n\n    ###\n        Defines here the action handlers.\n    ###\n    __bindHandlers: (handle) ->\n\n        handle ActionTypes.RECEIVE_RAW_SEARCH_RESULTS, (rawResults) ->\n            if rawResult?\n                _results = _results.withMutations (map) ->\n                    rawResults.forEach (rawResult) ->\n                        message = Immutable.Map rawResult\n                        map.set message.get('id'), message\n            else\n                _results = Immutable.OrderedMap.empty()\n\n            @emit 'change'\n\n        handle ActionTypes.CLEAR_SEARCH_RESULTS, ->\n            _results = Immutable.OrderedMap.empty()\n            @emit 'change'\n\n        handle ActionTypes.SET_SEARCH_QUERY, (query) ->\n            _query = query\n            @emit 'change'\n\n\n    ###\n        Public API\n    ###\n    getResults: -> return _results\n\n    getQuery: -> return _query\n\nmodule.exports = new SearchStore()\n","Store = require '../libs/flux/store/store'\n\n{ActionTypes} = require '../constants/app_constants'\n\nclass SettingsStore extends Store\n\n    ###\n        Initialization.\n        Defines private variables here.\n    ###\n    _settings = Immutable.Map window.settings\n\n    ###\n        Defines here the action handlers.\n    ###\n    __bindHandlers: (handle) ->\n\n        handle ActionTypes.SETTINGS_UPDATED, (settings) ->\n            _settings = Immutable.Map settings\n            @emit 'change'\n\n\n    ###\n        Public API\n    ###\n    get: (settingName = null) ->\n        if settingName?\n            return _settings.get settingName\n        else\n            return _settings\n\nmodule.exports = new SettingsStore()\n","XHRUtils = require '../utils/xhr_utils'\n\nActivityUtils = (options) ->\n\n    activity = {}\n\n    XHRUtils.activityCreate options, (error, res) ->\n        if error\n            activity.onerror.call(error)\n        else\n            activity.onsuccess.call(res)\n\n    return activity\n\nmodule.exports = ActivityUtils\n","AccountStore  = require '../stores/account_store'\nMessageStore  = require '../stores/message_store'\nSettingsStore = require '../stores/settings_store'\nLayoutActionCreator = require '../actions/layout_action_creator'\n\nonMessageList = ->\n    actions = [\n        \"account.mailbox.messages\",\n        \"account.mailbox.messages.full\"\n    ]\n    return router.current.firstPanel?.action in actions\n\nmodule.exports =\n    getCurrentAccount: ->\n        AccountStore.getSelected()?.toJS()\n\n    getCurrentMailbox: ->\n        AccountStore.getSelectedMailbox()?.toJS()\n\n    getCurrentMessage: ->\n        messageID = MessageStore.getCurrentID()\n        message = MessageStore.getByID messageID\n        return message.toJS()\n\n    getCurrentActions: ->\n        res = []\n        Object.keys(router.current).forEach (panel) ->\n            if router.current[panel]?\n                res.push router.current[panel].action\n        return res\n\n    messageNew: ->\n        router.navigate('compose/', {trigger: true})\n\n    # update locate (without saving it into settings)\n    setLocale: (lang, refresh) ->\n        window.moment.locale lang\n        locales = {}\n        try\n            locales = require \"../locales/#{lang}\"\n        catch err\n            console.log err\n            locales = require \"../locales/en\"\n        polyglot = new Polyglot()\n        # we give polyglot the data\n        polyglot.extend locales\n        # handy shortcut\n        window.t = polyglot.t.bind polyglot\n        if refresh\n            LayoutActionCreator.refresh()\n\n    getAccountByLabel: (label) ->\n        return AccountStore.getByLabel label\n\n    getSetting: (key) ->\n        return SettingsStore.get().toJS()[key]\n\n    # warning: don't update setting value server side\n    setSetting: (key, value) ->\n        AppDispatcher = require '../app_dispatcher'\n        {ActionTypes} = require '../constants/app_constants'\n        settings = SettingsStore.get().toJS()\n        settings[key] = value\n        AppDispatcher.handleViewAction\n            type: ActionTypes.SETTINGS_UPDATED\n            value: settings\n\n    messageNavigate: (direction, nextID) ->\n        if not onMessageList()\n            return\n        if not nextID?\n            if direction is 'prev'\n                nextID = MessageStore.getPreviousMessage()\n            else\n                nextID = MessageStore.getNextMessage()\n        if not nextID?\n            return\n\n        MessageActionCreator = require '../actions/message_action_creator'\n        MessageActionCreator.setCurrent nextID\n\n        if SettingsStore.get('displayPreview')\n            @messageDisplay nextID\n\n    messageDisplay: (messageID) ->\n        if not messageID\n            messageID = MessageStore.getCurrentID()\n        action = 'message'\n        if SettingsStore.get('displayConversation')\n            message = MessageStore.getByID messageID\n            if not message?\n                return\n            conversationID = message.get 'conversationID'\n\n            if conversationID\n                action = 'conversation'\n\n        url = window.router.buildUrl direction: 'second', action: action, parameters: messageID\n        window.router.navigate url, {trigger: true}\n\n    messageClose: ->\n        closeUrl = window.router.buildUrl\n            direction: 'first'\n            action: 'account.mailbox.messages'\n            parameters: AccountStore.getSelected().get 'id'\n            fullWidth: true\n        window.router.navigate closeUrl, {trigger: true}\n\n    messageDeleteCurrent: ->\n        if not onMessageList()\n            return\n        MessageActionCreator = require '../actions/message_action_creator'\n        alertError   = LayoutActionCreator.alertError\n        message = MessageStore.getByID MessageStore.getCurrentID()\n        if not message?\n            return\n        if (not SettingsStore.get('messageConfirmDelete')) or\n        window.confirm(t 'mail confirm delete', {subject: message.get('subject')})\n            nextID = MessageStore.getNextMessage()\n            @messageNavigate(null, nextID)\n            MessageActionCreator.delete message, (error) ->\n                if error?\n                    alertError \"#{t(\"message action delete ko\")} #{error}\"\n\n    messageUndo: ->\n        MessageActionCreator = require '../actions/message_action_creator'\n        MessageActionCreator.undelete()\n\n    customEvent: (name, data) ->\n        domEvent = new CustomEvent name, detail: data\n        window.dispatchEvent domEvent\n\n    simulateUpdate: ->\n\n        AppDispatcher = require '../app_dispatcher'\n        window.setInterval ->\n            content =\n                \"accountID\": AccountStore.getDefault().get('id'),\n                \"id\": AccountStore.getDefaultMailbox().get('id'),\n                \"label\": \"INBOX\",\n                \"path\": \"INBOX\",\n                \"tree\": [\"INBOX\"],\n                \"delimiter\": \".\",\n                \"uidvalidity\": Date.now()\n                \"attribs\":[],\n                \"docType\": \"Mailbox\",\n                \"lastSync\": new Date().toISOString(),\n                \"nbTotal\": 467,\n                \"nbUnread\": 0,\n                \"nbRecent\": 5,\n                \"weight\": 1000,\n                \"depth\": 0\n            AppDispatcher.handleServerAction\n                type: 'RECEIVE_MAILBOX_UPDATE'\n                value: content\n        , 5000\n\n    notify: (title, options) ->\n        if SettingsStore.get 'desktopNotifications'\n            new Notification title, options\n        else\n            # prevent dispatching when already dispatching\n            window.setTimeout ->\n                LayoutActionCreator.notify \"#{title} - #{options.body}\"\n            , 0\n\n","{ComposeActions} = require '../constants/app_constants'\nContactStore     = require '../stores/contact_store'\n\nmodule.exports = MessageUtils =\n\n    displayAddress: (address, full = false) ->\n        if full\n            if address.name? and address.name isnt \"\"\n                return \"\\\"#{address.name}\\\" <#{address.address}>\"\n            else\n                return \"#{address.address}\"\n        else\n            if address.name? and address.name isnt \"\"\n                return address.name\n            else\n                return address.address.split('@')[0]\n\n    displayAddresses: (addresses, full = false) ->\n        if not addresses?\n            return \"\"\n\n        res = []\n        for item in addresses\n            if not item?\n                break\n            res.push(MessageUtils.displayAddress item, full)\n        return res.join \", \"\n\n    getReplyToAddress: (message) ->\n        reply = message.get 'replyTo'\n        from = message.get 'from'\n        if (reply? and reply.length isnt 0)\n            return reply\n        else\n            return from\n\n    makeReplyMessage: (inReplyTo, action, inHTML) ->\n        message =\n            composeInHTML: inHTML\n            attachments: Immutable.Vector.empty()\n\n        if inReplyTo\n            message.accountID = inReplyTo.get 'accountID'\n            dateHuman = @formatDate inReplyTo.get 'createdAt'\n            sender = @displayAddresses inReplyTo.get 'from'\n\n            text = inReplyTo.get 'text'\n            html = inReplyTo.get 'html'\n\n            if text and not html and inHTML\n                try\n                    html = markdown.toHTML text\n                catch e\n                    console.log \"Error converting text message to Markdown: #{e}\"\n                    html = \"<div class='text'>#{text}</div>\" #markdown.toHTML text\n\n            if html and not text and not inHTML\n                text = toMarkdown html\n\n            message.inReplyTo  = inReplyTo.get 'id'\n            message.references = inReplyTo.get('references') or []\n            message.references = message.references.concat message.inReplyTo\n\n        switch action\n            when ComposeActions.REPLY\n                message.to = @getReplyToAddress inReplyTo\n                message.cc = []\n                message.bcc = []\n                message.subject = \"#{t 'compose reply prefix'}#{inReplyTo.get 'subject'}\"\n                message.text = t('compose reply separator', {date: dateHuman, sender: sender}) +\n                    @generateReplyText(text) + \"\\n\"\n                message.html = \"\"\"\n                    <p><br /></p>\n                    <p>#{t('compose reply separator', {date: dateHuman, sender: sender})}<span class=\"originalToggle\">  </span></p>\n                    <blockquote>#{html}</blockquote>\n                    <p><br /></p>\n                    \"\"\"\n            when ComposeActions.REPLY_ALL\n                message.to = @getReplyToAddress inReplyTo\n                message.cc = [].concat inReplyTo.get('to'), inReplyTo.get('cc')\n                message.bcc = []\n                message.subject = \"#{t 'compose reply prefix'}#{inReplyTo.get 'subject'}\"\n                message.text = t('compose reply separator', {date: dateHuman, sender: sender}) +\n                    @generateReplyText(text) + \"\\n\"\n                message.html = \"\"\"\n                    <p><br /></p>\n                    <p>#{t('compose reply separator', {date: dateHuman, sender: sender})}<span class=\"originalToggle\">  </span></p>\n                    <blockquote>#{html}</blockquote>\n                    <p><br /></p>\n                    \"\"\"\n            when ComposeActions.FORWARD\n                message.to = []\n                message.cc = []\n                message.bcc = []\n                message.subject = \"#{t 'compose forward prefix'}#{inReplyTo.get 'subject'}\"\n                message.text = t('compose forward separator', {date: dateHuman, sender: sender}) + text\n                message.html = \"<p>#{t('compose forward separator', {date: dateHuman, sender: sender})}</p>\" + html\n\n                # Add original message attachments\n                message.attachments = inReplyTo.get 'attachments'\n\n            when null\n                message.to      = []\n                message.cc      = []\n                message.bcc     = []\n                message.subject = ''\n                message.text    = t 'compose default'\n\n        return message\n\n    generateReplyText: (text) ->\n        text = text.split '\\n'\n        res  = []\n        text.forEach (line) ->\n            res.push \"> #{line}\"\n        return res.join \"\\n\"\n\n    getAttachmentType: (type) ->\n        return null unless type\n        sub = type.split '/'\n        switch sub[0]\n            when 'audio', 'image', 'text', 'video'\n                return sub[0]\n            when \"application\"\n                switch sub[1]\n                    when \"vnd.ms-excel\",\\\n                         \"vnd.oasis.opendocument.spreadsheet\",\\\n                         \"vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n                        return \"spreadsheet\"\n                    when \"msword\",\\\n                         \"vnd.ms-word\",\\\n                         \"vnd.oasis.opendocument.text\",\\\n                         \"vnd.openxmlformats-officedocument.wordprocessingm\" + \\\n                         \"l.document\"\n                        return \"word\"\n                    when \"vns.ms-powerpoint\",\\\n                         \"vnd.oasis.opendocument.presentation\",\\\n                         \"vnd.openxmlformats-officedocument.presentationml.\" + \\\n                         \"presentation\"\n                        return \"presentation\"\n\n                    when \"pdf\" then return sub[1]\n                    when \"gzip\", \"zip\" then return 'archive'\n\n    formatDate: (date, compact) ->\n        if not date?\n            return\n        today = moment()\n        date  = moment date\n        if date.isBefore today, 'year'\n            formatter = 'DD/MM/YYYY'\n        else if date.isBefore today, 'day'\n            if compact? and compact\n                formatter = 'L'\n            else\n                formatter = 'MMM DD'\n        else\n            formatter = 'HH:mm'\n        return date.format formatter\n\n    getAvatar: (message) ->\n        if message.get('from')[0]?\n            return ContactStore.getAvatar message.get('from')[0].address\n        else\n            return null\n","helpers =\n    # Display a Bootstrap modal window\n    #\n    # Available options:\n    # title: modal window title\n    # body: modal window body\n    # size: null, 'small' or 'large'\n    # show: if not false, show modal\n    modal: (options) ->\n        win = document.createElement 'div'\n        win.classList.add 'modal'\n        win.classList.add 'fade'\n        win.innerHTML = \"\"\"\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\"\n                            aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                    <h4 class=\"modal-title\"></h4>\n                </div>\n                <div class=\"modal-body\"> </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-default\"\n                            data-dismiss=\"modal\">#{t 'plugin modal close'}\n                    </button>\n                </div>\n            </div>\n        </div>\n        \"\"\"\n        if options.title\n            win.querySelector('.modal-title').innerHTML = options.title\n        if options.body\n            win.querySelector('.modal-body').innerHTML = options.body\n        if options.size is 'small'\n            win.querySelector('.modal-dialog').classList.add 'modal-sm'\n        if options.size is 'large'\n            win.querySelector('.modal-dialog').classList.add 'modal-lg'\n        if options.show isnt false\n            document.body.appendChild win\n            window.jQuery(win).modal 'show'\n        return win\n\nmodule.exports =\n\n    init: ->\n        if not window.plugins?\n            window.plugins = {}\n\n        # Observe addition and deletion of plugins\n        #if Object.observe?\n        #    Object.observe window.plugins, (changes) =>\n        #        changes.forEach (change) =>\n        #            if change.type is 'add'\n        #                @activate change.name\n        #            else if change.type is 'delete'\n        #                @deactivate change.name\n\n        # Init every plugins\n        Object.keys(window.plugins).forEach (pluginName) =>\n            pluginConf = window.plugins[pluginName]\n            if pluginConf.url?\n                onLoad = =>\n                    @activate pluginName\n                @loadJS pluginConf.url, onLoad\n            else\n                if pluginConf.active\n                    @activate pluginName\n\n        window.plugins.helpers = helpers\n\n        if MutationObserver?\n\n            config =\n                attributes: false\n                childList: true\n                characterData: false\n                subtree: true\n\n            onMutation = (mutations) ->\n                checkNode = (node, action) ->\n                    if node.nodeType isnt Node.ELEMENT_NODE\n                        return\n\n                    for own pluginName, pluginConf of window.plugins\n                        if pluginConf.active\n                            listener = pluginConf.onAdd if action is 'add'\n                            listener = pluginConf.onDelete if action is 'delete'\n                            if listener? and\n                            listener.condition.bind(pluginConf)(node)\n                                listener.action.bind(pluginConf)(node)\n\n                check = (mutation) ->\n\n                    nodes = Array.prototype.slice.call mutation.addedNodes\n                    checkNode node, 'add' for node in nodes\n\n                    nodes = Array.prototype.slice.call mutation.removedNodes\n                    checkNode node, 'del' for node in nodes\n\n                check mutation for mutation in mutations\n\n            # Observes DOM mutation to see if a plugin should be called\n            observer = new MutationObserver onMutation\n            observer.observe document, config\n\n        else\n            # Dirty fallback for IE\n            # @TODO use polyfill ???\n            setInterval ->\n                for own pluginName, pluginConf of window.plugins\n                    if pluginConf.active\n                        if pluginConf.onAdd?\n                            if pluginConf.onAdd.condition.bind(pluginConf)(document.body)\n                                pluginConf.onAdd.action.bind(pluginConf)(document.body)\n                        if pluginConf.onDelete?\n                            if pluginConf.onDelete.condition.bind(pluginConf)(document.body)\n                                pluginConf.onDelete.action.bind(pluginConf)(document.body)\n\n            , 200\n\n    activate: (key) ->\n        plugin = window.plugins[key]\n        type   = plugin.type\n        plugin.active = true\n\n        # Add custom events listeners\n        if plugin.listeners?\n            for own event, listener of plugin.listeners\n                window.addEventListener event, listener.bind(plugin)\n\n        if plugin.onActivate\n            plugin.onActivate()\n\n        if type?\n            for own pluginName, pluginConf of window.plugins\n                if pluginName is key\n                    continue\n                if pluginConf.type is type and pluginConf.active\n                    @deactivate pluginName\n\n        event = new CustomEvent('plugin',\n            detail:\n                action: 'activate'\n                name: key\n        )\n        window.dispatchEvent event\n\n    deactivate: (key) ->\n        plugin = window.plugins[key]\n        plugin.active = false\n\n        # remove custom events listeners\n        if plugin.listeners?\n            for own event, listener of plugin.listeners\n                window.removeEventListener event, listener\n\n        if plugin.onDeactivate\n            plugin.onDeactivate()\n\n        event = new CustomEvent('plugin',\n            detail:\n                action: 'deactivate'\n                name: key\n        )\n        window.dispatchEvent event\n\n    merge: (remote) ->\n        for own pluginName, pluginConf of remote\n            local = window.plugins[pluginName]\n            if local?\n                local.active = pluginConf.active\n            else\n                if pluginConf.url?\n                    window.plugins[pluginName] = pluginConf\n                else\n                    delete remote[pluginName]\n\n        for own pluginName, pluginConf of window.plugins\n            if not remote[pluginName]?\n                remote[pluginName] =\n                    name: pluginConf.name\n                    active: pluginConf.active\n\n    loadJS: (url, onLoad) ->\n        script = document.createElement 'script'\n        script.type  = 'text/javascript'\n        script.async = true\n        script.src   = url\n        if onLoad?\n            script.addEventListener 'load', onLoad\n        document.body.appendChild script\n\n    load: (url) ->\n        # Get absolute path of this script, allowing to load plugins relatives\n        # to it\n        unless /:\\/\\//.test(url)\n            try\n                throw new Error()\n            catch e\n                base = e.stack.split('\\n')[0].split('@')[1].split(/:\\d/)[0].split('/').slice(0, -2).join('/')\n                url = base + '/' + url + '/'\n\n        xhr = new XMLHttpRequest()\n        xhr.open 'GET', url, true\n        xhr.onload = ->\n            parser = new DOMParser()\n            doc = parser.parseFromString(xhr.response, 'text/html')\n            if doc\n                # Chrome doesn't like to iterate on doc.styleSheets\n                Array::forEach.call doc.querySelectorAll('style'), (sheet) ->\n                    style = document.createElement('style')\n                    document.body.appendChild style\n                    Array::forEach.call sheet.sheet.cssRules, (rule, id) ->\n                        style.sheet.insertRule rule.cssText, id\n\n                Array::forEach.call doc.querySelectorAll('script'), (script) ->\n                    s = document.createElement('script')\n                    s.textContent = script.textContent\n                    document.body.appendChild s\n\n            xhr.send()\n","AppDispatcher = require '../app_dispatcher'\n{ActionTypes} = require '../constants/app_constants'\nurl = window.location.origin\npathToSocketIO = \"#{window.location.pathname}socket.io\"\nsocket = io.connect url, path: pathToSocketIO\n\ndispatchAs = (action) -> (content) ->\n    AppDispatcher.handleServerAction\n        type: action\n        value: content\n\nscope = {}\nsetServerScope = ->\n    socket.emit 'change_scope', scope\n\n\nsocket.on 'refresh.status', dispatchAs ActionTypes.RECEIVE_REFRESH_STATUS\nsocket.on 'refresh.create', dispatchAs ActionTypes.RECEIVE_REFRESH_UPDATE\nsocket.on 'refresh.update', dispatchAs ActionTypes.RECEIVE_REFRESH_UPDATE\nsocket.on 'refresh.delete', dispatchAs ActionTypes.RECEIVE_REFRESH_DELETE\n\nsocket.on 'message.create', dispatchAs ActionTypes.RECEIVE_RAW_MESSAGE\nsocket.on 'message.update', dispatchAs ActionTypes.RECEIVE_RAW_MESSAGE\nsocket.on 'message.delete', dispatchAs ActionTypes.RECEIVE_MESSAGE_DELETE\n\nsocket.on 'mailbox.update', dispatchAs ActionTypes.RECEIVE_MAILBOX_UPDATE\n\nsocket.on 'connect', ->\n    setServerScope()\nsocket.on 'reconnect', ->\n    setServerScope()\n\nexports.acknowledgeRefresh = (taskid) ->\n    socket.emit 'mark_ack', taskid\n\n\nexports.changeRealtimeScope = (boxid, date) ->\n    scope =\n        mailboxID: boxid\n        before: date\n    setServerScope()\n","{MailboxFlags} = require '../../constants/app_constants'\n\nmodule.exports = AccountTranslator =\n\n    mailboxToImmutable: (raw) ->\n\n        raw.depth = raw.tree.length - 1\n\n        box = Immutable.Map raw\n\n    # Creates an immutable account from a raw account object\n    toImmutable: (raw) ->\n\n        # Used to sort mailboxes\n        last = {}\n        weight1 = 900\n        weight2 = 400\n        # Try to detect special mailboxes, first with flags, then by name\n        # Already done on server, except for TEST accounts\n        if not raw.draftMailbox? or\n           not raw.sentMailbox? or\n           not raw.trashMailbox?\n            raw.mailboxes.forEach (box) ->\n                # If needed, use mailboxes attribs to set draft, sent and trash\n                if not raw.draftMailbox? and MailboxFlags.DRAFT in box.attribs\n                    raw.draftMailbox = box.id\n                if not raw.sentMailbox? and MailboxFlags.SENT in box.attribs\n                    raw.sentMailbox = box.id\n                if not raw.trashMailbox? and MailboxFlags.TRASH in box.attribs\n                    raw.trashMailbox = box.id\n        if not raw.draftMailbox? or\n           not raw.sentMailbox? or\n           not raw.trashMailbox?\n            raw.mailboxes.forEach (box) ->\n                if not raw.draftMailbox? and /draft/i.test box.label\n                    raw.draftMailbox = box.id\n                if not raw.sentMailbox? and /sent/i.test box.label\n                    raw.sentMailbox = box.id\n                if not raw.trashMailbox? and /trash/i.test box.label\n                    raw.trashMailbox = box.id\n\n        # Creates Immutable OrderedMap of mailboxes\n        mailboxes = Immutable.Sequence raw.mailboxes\n            .mapKeys (_, box) -> box.id\n            .map (box) ->\n\n                box.depth = box.tree.length - 1\n\n                # fake weight for sort\n                if box.depth is 0\n                    label = box.label.toLowerCase()\n                    if label is 'inbox'\n                        box.weight = 1000\n                    else if (box.attribs.length > 0 or\n                            /draft/.test(label) or /sent/.test(label) or /trash/.test(label))\n                        box.weight = weight1\n                        weight1 -= 5\n                    else\n                        box.weight = weight2\n                        weight2 -= 5\n                    last[box.depth] = box.weight\n                else\n                    box.weight = last[box.depth - 1] - 0.1\n\n                return AccountTranslator.mailboxToImmutable box\n\n            .toOrderedMap()\n\n\n        raw.mailboxes = mailboxes\n        return Immutable.Map raw\n","request = superagent\n\nAccountTranslator = require './translators/account_translator'\n\nSettingsStore = require '../stores/settings_store'\n\nmodule.exports =\n\n\n    changeSettings: (settings, callback) ->\n        request.put \"settings\"\n        .set 'Accept', 'application/json'\n        .send settings\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in changeSettings\", settings, res.body?.error\n                callback t('app error')\n\n    fetchMessage: (emailID, callback) ->\n        request.get \"message/#{emailID}\"\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in fetchMessage\", emailID, res.body?.error\n                callback t('app error')\n\n    fetchConversation: (emailID, callback) ->\n        request.get \"conversation/#{emailID}\"\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in fetchConversation\", emailID, res.body?.error\n                callback t('app error')\n\n\n    fetchMessagesByFolder: (mailboxID, query, callback) ->\n        for own key, val of query\n            if val is '-' or val is 'all'\n                delete query[key]\n        request.get \"mailbox/#{mailboxID}\"\n        .set 'Accept', 'application/json'\n        .query query\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in fetchMessagesByFolder\", res.body?.error\n                callback t('app error')\n\n    mailboxCreate: (mailbox, callback) ->\n        request.post \"mailbox\"\n        .send mailbox\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in mailboxCreate\", mailbox, res.body?.error\n                callback t('app error')\n\n    mailboxUpdate: (data, callback) ->\n        request.put \"mailbox/#{data.mailboxID}\"\n        .send data\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in mailboxUpdate\", data, res.body?.error\n                callback t('app error')\n\n    mailboxDelete: (data, callback) ->\n        request.del \"mailbox/#{data.mailboxID}\"\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in mailboxDelete\", data, res.body?.error\n                callback t('app error')\n\n    messageSend: (message, callback) ->\n        req = request.post \"message\"\n        .set 'Accept', 'application/json'\n\n        files = {}\n        message.attachments = message.attachments.map (file) ->\n            files[file.get('generatedFileName')] = file.get 'rawFileObject'\n            return file.remove 'rawFileObject'\n        .toJS()\n\n        req.field 'body', JSON.stringify message\n        for name, blob of files\n            if blob?\n                req.attach name, blob\n\n        req.end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in messageSend\", message, res.body?.error\n                callback t('app error')\n\n    messagePatch: (messageId, patch, callback) ->\n        request.patch \"message/#{messageId}\", patch\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in messagePatch\", messageId, res.body?.error\n                callback t('app error')\n\n    conversationDelete: (conversationId, callback) ->\n        request.del \"conversation/#{conversationId}\"\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in conversationDelete\", conversationId, res.body?.error\n                callback t('app error')\n\n    conversationPatch: (conversationId, patch, callback) ->\n        request.patch \"conversation/#{conversationId}\", patch\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in conversationPatch\", conversationId, res.body?.error\n                callback t('app error')\n\n    createAccount: (account, callback) ->\n\n        # TODO: validation & sanitization\n\n        request.post 'account'\n        .send account\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in createAccount\", account, res.body?.error\n                callback res.body, null\n\n    editAccount: (account, callback) ->\n\n        # TODO: validation & sanitization\n        rawAccount = account.toJS()\n\n        request.put \"account/#{rawAccount.id}\"\n        .send rawAccount\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in editAccount\", account, res.body?.error\n                callback res.body, null\n\n    checkAccount: (account, callback) ->\n\n        rawAccount = account.toJS()\n\n        request.put \"account/#{rawAccount.id}/check\"\n        .send rawAccount\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in checkAccount\", res.body\n                callback res.body, null\n\n    removeAccount: (accountID) ->\n\n        request.del \"account/#{accountID}\"\n        .set 'Accept', 'application/json'\n        .end (res) -> # nothing\n\n    accountDiscover: (domain, callback) ->\n\n        request.get \"provider/#{domain}\"\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                callback res.body, null\n\n    search: (query, numPage, callback) ->\n        encodedQuery = encodeURIComponent query\n        numByPage = SettingsStore.get 'messagesPerPage'\n        request.get \"search/#{encodedQuery}/page/#{numPage}/limit/#{numByPage}\"\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in search\", res.body?.error\n                callback res.body, null\n\n    refresh: (hard, callback) ->\n        url = if hard then \"refresh?all=true\"\n        else \"refresh\"\n\n        request.get url\n        .end (res) ->\n            if res.ok\n                callback null, res.text\n            else\n                callback res.body\n\n    activityCreate: (options, callback) ->\n        request.post \"activity\"\n        .send options\n        .set 'Accept', 'application/json'\n        .end (res) ->\n            if res.ok\n                callback null, res.body\n            else\n                console.log \"Error in activityCreate\", options, res.body?.error\n                callback res.body, null\n"]}