/*
  MENU

  -- Menu internal layout and styles
*/

#menu
    // We use a flexbox display so the #mailbox-list takes all the height left
    display flex
    flex-direction column

    height 100%
    padding 0

    background homeheadercolor

    /*
        Menu layout
    */
    #account-list
        flex 1 // Takes all height left
        overflow auto
        margin 0

    .new-account-action
        // Sets position at the bottom of the menu
        margin-top auto

    /*
        Styles
    */

    .progress-thin
        height 2px
        width 100%
        position absolute
        margin 0px
        bottom 0px
        left 0px
        .progress-bar
            background-color orange
            background-image none

    .refresh-error
        font-size 14px
        display block
        position absolute
        right 5px
        bottom 5px
        color: orange

    .refresh-error:hover
        color: red

    // Clickable menu elements
    .menu-item
        display inline-block // used for non flexed elements (within .account-list)
        position relative // for badge positionning
        width 100%
        padding .75em .25em
        margin 0
        font-size 1em
        font-family 'Maven Pro', sans-serif
        color mediumcolor
        text-align center
        vertical-align middle
        text-decoration none
        transition: background 0.3s ease

        i
        .item-label
        .badge
            vertical-align middle

        // icon
        i
            font-size 1.25em

        .item-label
            display block
            overflow hidden
            text-overflow ellipsis
            white-space nowrap

        .badge
            position absolute
            top .4em
            right .5em
            background basecolor
            font-size 0.9em
            margin-left .25em
            font-family 'Source Sans Pro', sans-serif

        &:hover
        &.active
            background #363a46 + 10%
            color #fff

        &.news
            .badge
                color red
                background yellow

    &.three
        .menu-item
            padding 0.2em 0.5em
            text-align left
        i
            font-size 1em
        .item-label
            display inline
            padding-left .5em

    // Account list
    #account-list
        li
            .submenu
                display none

                background #363a46 + 5%

                // submenu icons
                //.menu-item i
                //  font-size 1.25em

            border-left .25em solid transparent

            &:hover
                border-left .25em solid #363a46 + 10%

            &.active
                border-left .25em solid mediumcolor-contrast - 30%
                .menu-item
                    color #fff

                .submenu
                    display block
            a.menu-item *
                // this is needed for dragenter and dragleave events to work
                pointer-events none

                &.refresh-error
                    pointer-events auto
            &.target
                border 1px dashed white


    // New account action button
    .new-account-action
        font-size 1em
        opacity 0.5

        &:hover
            opacity 1
