/*
  Conversation

  -- List of collapsable message content
*/

.conversation

  &.enable
    display block

  h3
    color #444
    margin-top 0
    padding-bottom 10px

    .close-conversation
      cursor pointer
      font-size 20px
      margin-right 15px

    .expand
      float right

    .expand
    .close-conversation
      color basecolor
      &:hover
        color actioncolor

  .thread
    padding 0
    border-top 1px solid #f4f4f4

    .message
      padding 5px 15px
      border-bottom 1px solid #e4e4e4
      cursor pointer

      font-size 13px

      background #f4f4f4

      &.active
      &:last-of-type
        background #fff

        .preview
          display none
        .content
          display block

      &:last-of-type
        cursor default

      .messageToolbox
          margin: 1em auto
          opacity: .3

      .messageToolbox:hover
          margin: 1em auto
          opacity: 1

      .messageToolbox .tool-long
          display: none

      span
      .preview
      .content
        margin 0 5px

      .header
        display flex
        justify-content flex-start
        align-items center

      .sender-avatar
          display block
          float left
          padding: 0 .5em
          margin 0 .5em 0 0
          font-size 2em
          line-height 2em
          color #aaa
          border 1px solid #aaa

      .participants
        color darkcolor
        span
          display block

          &.receivers
            color mediumcolor

      .content
        white-space: pre-line
        margin-top 15px
        display none
      .preview
        margin-top 15px
        overflow hidden
        white-space nowrap
        text-overflow ellipsis
        color mediumcolor // for ellipsis + p

        p
          margin 0
          display inline

      .hour
        margin-left auto
        color darkcolor

      &:hover:not(.active):not(:last-of-type)
        background #f4f4f4

  .full-headers
    display none

  .with-headers
    .full-headers
      display: block

  .attachments
    max-height 5em
    overflow auto

    .attachment
      margin 0 0 .25em 0
      white-space no-wrap

    .mime
      line-height 1.5em
      font-size 1.5em
      float left

    .attachment-name
      color darkcolor
