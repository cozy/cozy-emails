!function(t,e){return"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.AriaTips=e()}(this,function(){var t,e,n,i,r,o,u,s,a;return t=6,a=[],e=function(){var t,e,i,r,o,u,c,d;for(s(),e=document.querySelectorAll("[role=tooltip]"),d=[],u=0,c=e.length;c>u;u++)t=e[u],document.body.appendChild(t),r=document.querySelectorAll("[aria-describedby="+t.id+"]"),d.push(function(){var t,e,u;for(u=[],t=0,e=r.length;e>t;t++)i=r[t],o=n.call(i),u.push(a.push(o));return u}());return d},s=function(){var t,e,n;for(e=0,n=a.length;n>e;e++)(t=a[e])();return a=[]},r=function(t){switch(t){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}},o=function(e){var n,i,o,s,a,c,d,l;switch(u.call(this),o=e.dataset.tooltipDirection||this.dataset.tooltipDirection,n=e.getBoundingClientRect(),i={x:0|n.left+(n.right-n.left)/2,y:0|n.top+(n.bottom-n.top)/2},i.x=i.x+window.pageXOffset,i.y=i.y+window.pageYOffset,d={top:"auto",bottom:"auto",left:"auto",right:"auto"},a=function(){switch(o){case"top":return window.innerHeight-n.top-window.pageYOffset;case"bottom":return n.bottom+window.pageYOffset;case"left":return window.innerWidth-n.left-window.pageXOffset;case"right":return n.right+window.pageXOffset}}(),s=r(o),d[s]=""+(0|a+t)+"px",o){case"top":case"bottom":d.left=""+i.x+"px";break;case"left":case"right":d.top=""+i.y+"px"}for(c in d)l=d[c],this.style[c]=l;return o!==this.dataset.tooltipDirection?(this.origDirection=this.dataset.tooltipDirection,this.dataset.tooltipDirection=o):void 0},u=function(){return this.origDirection?(this.dataset.tooltipDirection=this.origDirection,this.origDirection=null):void 0},i=function(t){var e,n,i,r,o;for(i=this.querySelectorAll("pre.label"),r=0,o=i.length;o>r;r++)e=i[r],e.parentNode.removeChild(e);return n=t.dataset.accesskey||t.getAttribute("aria-label"),n?(e=document.createElement("pre"),e.classList.add("label"),e.innerHTML="("+n+")",this.appendChild(e)):void 0},n=function(){var t,e,n,r,u,s,a;return s=this.getAttribute("aria-describedby"),u=document.querySelector("#"+s),r=null,n=function(e){return function(){return u.addEventListener("mouseover",n),u.addEventListener("mouseout",t),r?(clearTimeout(r),r=null,u.setAttribute("aria-hidden",!1)):(i.call(u,e),o.call(u,e),r=setTimeout(function(){return u.setAttribute("aria-hidden",!1)},300))}}(this),t=function(){return clearTimeout(r),r=setTimeout(function(){return r=null,u.removeEventListener("mouseover",n),u.removeEventListener("mouseout",t),u.setAttribute("aria-hidden",!0)},30)},e=function(e){return 27===e.keyCode?t():void 0},this.addEventListener("mouseover",n),this.addEventListener("focus",n),this.addEventListener("mouseout",t),this.addEventListener("blur",t),this.addEventListener("keyup",e),this.addEventListener("click",t),a=function(i){return function(){return t(),i.removeEventListener("mouseover",n),i.removeEventListener("focus",n),i.removeEventListener("mouseout",t),i.removeEventListener("blur",t),i.removeEventListener("keyup",e),i.removeEventListener("click",t)}}(this)},{bind:function(){return e()},unbind:function(){return s()}}});